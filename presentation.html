<!DOCTYPE html>
<!--
  Copyright 2010 Google Inc.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.

  Original slides: Marcin Wichary (mwichary@google.com)
  Modifications: Ernest Delgado (ernestd@google.com)
                 Alex Russell (slightlyoff@chromium.org)

  landslide modifications: Adam Zapletal (adamzap@gmail.com)
                           Nicolas Perriault (nperriault@gmail.com)
-->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>简明 Python 教程</title>
    <!-- Styles -->
    
    <style type="text/css" media="print">
      * {
    margin: 0;
    padding: 0;
}

@page {
    size: landscape;
}

body {
    font: 100% "Lucida Grande", "Trebuchet MS", Verdana, sans-serif;
    padding: 0;
    margin: 0;
}

div.slide {
    min-width: 800px;
    min-height: 600px;
    padding: 1em;
    overflow: hidden;
    page-break-after: always;
    border: 1px solid black;
    border-radius: 20px;
}

div.slide div.inner {
    width: 800px;
    height: 600px;
    margin: auto;
}

h1 {
    font-size: 2.4em;
}

h2 {
    font-size: 1.4em;
}

h3 {
    margin: 1em 0;
}

ul {
    margin: 0;
    padding: 0;
}

p, li, pre {
    margin: 1em 0;
}

li {
    margin-left: 2em;
}

a {
    color: #000000;
}

pre, code {
    max-width: 800px;
    background: #eee;
    font-family: Monaco, monospace;
    font-size: 90%;
}

pre {
    padding: .2em .5em;
    overflow: hidden;
    border-radius: .8em;
}

code {
    padding: 0 .2em;
}

.slide header:only-child h1 {
  line-height: 180%;
  text-align: center;
  display: table-cell;
  vertical-align: middle;
  height: 600px;
  width: 800px;
  font-size: 48px;
  margin-top:100px;
  margin-bottom:100px;
}

#toc, #help, .slide aside, .slide footer, .slide .notes,
.presenter_notes, #current_presenter_notes, #presenter_note {
  display: none;
}

    </style>
    <style type="text/css" media="screen, projection">
      h1, h2, h3, h4, h5, h6, p, ul, li {
    font-family: sans-serif !important;
}

p, ul, li {
    color: #555753 !important;
    font-size: 120% !important;
}

header h1, header h2, header h3, header h4, header h5, header h6 {
    color: #204a87 !important;
    font-weight: bold !important;
}

section h1, section h2, section h3, section h4, section h5, section h6 {
    color: #3465a4 !important;
}

img { display: block; margin: auto; }

body {
  font: 14px "Lucida Grande", "Trebuchet MS", Verdana, sans-serif;
  background: #555753;
  padding: 0;
  margin: 0;
  overflow: hidden;
}

div.presentation {
  position: absolute;
  width: 100%;
  display: table-cell;
  vertical-align: middle;
  height: 100%;
  background: -webkit-gradient(linear, left bottom, left top, from(#2e3436), to(#555753));
  background-color: #555753;
  background: -moz-linear-gradient(bottom, #555753, #2e3436);
}

div.slides, body.expose div.slides.nocontext {
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
  position: absolute;
  display: block;
}

div.slides.nocontext {
  width: 900px;
  margin: 0 auto;
  overflow: hidden;
  position: relative;
  left: auto;
  top: auto;
}

div.slide {
  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA4QAAAAICAIAAAAutqZSAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAXDAAAFwwBigKOZgAAAAd0SU1FB9oMBhYcN9mLAKQAAAB1SURBVHja7dahDYNQAEXRUkGYgB0YqCgEG6CRXaAGh/5Jk6paJCv8iVjhCeQ5I1x1m/Ig9dtbEUL1/xYhVMZVhFA3a5D61l6E0Ll9RAgdyyRC6PkaREhbSQAAgBkFAMCMAgCAGQUAwIwCAIAZBQDAjAIAwF0uR8ALUUwQdKwAAAAASUVORK5CYII=') bottom center no-repeat;
  display: none;
  position: absolute;
  overflow: auto;
  width: 900px;
  height: 700px;
  left: 50%;
  top: 50%;
  margin-top: -350px;
  background-color: #fff;
  -webkit-transition: margin 0.25s ease-in-out;
  -moz-transition: margin 0.25s ease-in-out;
  -o-transition: margin 0.25s ease-in-out;
  border-top-left-radius: 20px;
  -moz-border-radius-topleft: 20px;
  -webkit-border-top-left-radius: 20px;
  border-top-right-radius: 20px;
  -moz-border-radius-topright: 20px;
  -webkit-border-top-right-radius: 20px;
  border-bottom-right-radius: 20px;
  -moz-border-radius-bottomright: 20px;
  -webkit-border-bottom-right-radius: 20px;
  border-bottom-left-radius: 20px;
  -moz-border-radius-bottomleft: 20px;
  -webkit-border-bottom-left-radius: 20px;
}

div.slide p {
  font-size: 20px;
}

.slide.far-past {
  display: block;
  margin-left: -2400px;
}

.slide.past {
  display: block;
  margin-left: -1400px;
}

.slide.current {
  display: block;
  margin-left: -450px;
}

.slide.future {
  display: block;
  margin-left: 500px;
}

.slide.far-future {
  display: block;
  margin-left: 1500px;
}

body.three-d div.slides {
  -webkit-transform: translateX(50px) scale(0.8) rotateY(10deg);
  -moz-transform: translateX(50px) scale(0.8) rotateY(10deg);
  -o-transform: translateX(50px) scale(0.8) rotateY(10deg);
}


/* Content */

header:not(:only-child) {
  font-family: "Lucida Grande", "Trebuchet MS", Verdana, sans-serif;
  font-weight: normal;
  font-size: 50px;
  letter-spacing: -.05em;
  color: white;
  color: black;
  text-shadow: rgba(0, 0, 0, 0.2) 0 2px 5px;
  position: absolute;
  left: 30px;
  top: 25px;
  margin: 0;
  padding: 0;
}

header h1, header h2, header h3, header h4, header h5, header h6 {
  display: inline;
  font-size: 100%;
  font-weight: normal;
  padding: 0;
  margin: 0;
}

header h2:first-child {
  margin-top: 0;
}

section, .slide header:only-child h1 {
  font-family: "Lucida Grande", "Trebuchet MS", Verdana, sans-serif;
  color: #3f3f3f;
  text-shadow: rgba(0, 0, 0, 0.2) 0 2px 5px;
  margin-left: 30px;
  margin-right: 30px;
  margin-top: 100px;
  display: block;
  overflow: hidden;
}

section img.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

section img.align-right {
  display: block;
  margin-left: auto;
  margin-right: 0;
}

section img.align-left {
  display: block;
  margin-right: auto;
  margin-left: 0;
}

a {
  color: inherit;
  display: inline-block;
  text-decoration: none;
  line-height: 110%;
  border-bottom: 2px solid #3f3f3f;
}

pre, code, tt {
  font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Lucida Console', FreeMono, Courier, monospace;
}

pre, .gist .gist-file .gist-data {
  font-size: 16px;
  max-height: 465px;
  padding-top: 0.25em !important;
  padding-right: 0.5em !important;
  padding-left: 0.5em !important;
  overflow: auto;
}

/* render a nice scrollbar in overflowed pre area's */
::-webkit-scrollbar {
  height: 8px;
  width: 8px;
}
::-webkit-scrollbar-thumb {
  background: -webkit-gradient(linear, left bottom, left top, from(#777), to(#bbd));
  -webkit-border-radius: 1ex;
}
::-webkit-scrollbar-corner {
  background: #dedede;
}

blockquote {
  border-left: solid 8px #555753;
  padding: .1ex 1ex;
  font-style: italic;
  font-size: 20px;
}

li {
  padding: 10px 0;
  font-size: 20px;
}

li pre { margin-left: 0em; }

.slide header:only-child h1 {
  line-height: 180%;
  text-align: center;
  display: table-cell;
  vertical-align: middle;
  height: 700px;
  width: 900px;
  font-size: 50px;
  margin-top:100px;
  margin-bottom:100px;
}

.sidebar {
  background: -webkit-gradient(linear, top right, bottom right, from(#dde), to(#fff));
  background-color: #eee;
  background: -moz-linear-gradient(right, #dde, #fff);
  border-right: 5px solid #ccd;
  z-index: 9999999;
  height: 100%;
  top: 0;
  position: absolute;
  display: block;
  margin: 0;
  margin-left: -400px;
  padding: 10px 16px;
  overflow: auto;
  -webkit-transition: margin 0.2s ease-in-out;
  -moz-transition: margin 0.2s ease-in-out;
  -o-transition: margin 0.2s ease-in-out;
}

.sidebar h2 {
  text-shadow: rgba(0, 0, 0, 0.2) 0 2px 5px;
  margin: 0 0 16px;
  padding: 0;
}

.sidebar table {
  width: 100%;
  margin: 0;
  padding: 0;
  border-collapse: collapse;
}

.sidebar table caption {
  display: none;
}

.sidebar tr {
  margin: 2px 0;
  border-bottom: 1px solid #ccc;
}

.sidebar th {
  text-align: left;
  font-weight: normal;
  max-width: 300px;
  overflow: hidden;
}

.sidebar tr.sub th {
  text-indent: 20px;
}

.sidebar td {
  text-align: right;
  min-width: 20px;
}

.sidebar a {
  display: block;
  text-decoration: none;
  border-bottom: none;
  padding: 4px 0;
}

.sidebar tr.active {
  background: #ff0;
}

aside {
  display: none;
}
  aside.source {
    position: absolute;
    bottom: 6px;
    left: 10px;
    text-indent: 10px;
  }
  aside.page_number {
    position: absolute;
    bottom: 6px;
    right: 10px;
    text-indent: 10px;
  }

.notes {
  display: none;
  padding: 10px;
  background: #ccc;
  border-radius: 10px;
  -moz-border-radius: 10px;
  -webkit-border-radius: 10px;
}
  div.slide p.notes {
    font-size: 90%;
}

/* Expose */

body.expose div.slides {
  float: left;
  position: relative;
  overflow: auto;
  margin-bottom: 10px;
}

body.expose div.slide {
  display: block;
  float: left;
  position: relative;
  left: auto !important;
  top: auto !important;
  margin: 10px !important;
  -webkit-transition: none;
  -moz-transition: none;
  -o-transition: none;  
  -moz-transform: scale(.33, .33);
  -moz-transform-origin: 0 0;
  -webkit-transform: scale(.33, .33);
  -webkit-transform-origin: 0 0;
  -o-transform: scale(.33, .33);
  -o-transform-origin: 0 0;
  cursor: pointer;
}

body.expose div.slide:hover {
  background: -webkit-gradient(linear, left bottom, left top, from(#bdd), to(#fff));
  background-color: #eee;
  background: -moz-linear-gradient(bottom, #bdd, #fff);
}

body.expose .slide-wrapper {
  float: left;
  position: relative;
  margin: .5%;
  width: 300px;
  height: 233px;
}

body.expose .slide footer {
}

body.expose .slide .inner {
}

body.expose .slide.far-past,
body.expose .slide.past,
body.expose .slide.future,
body.expose .slide.far-future {
  margin-left: 0;
}

body.expose .slide.current {
  background: -webkit-gradient(linear, left bottom, left top, from(#ddb), to(#fff));
  background-color: #eee;
  background: -moz-linear-gradient(bottom, #ddb, #fff);
  border: 16px solid #fff;
  -moz-transform: scale(.315, .315);
  -moz-transform-origin: 0 0;
  -webkit-transform: scale(.315, .315);
  -webkit-transform-origin: 0 0;
  -o-transform: scale(.315, .315);
  -o-transform-origin: 0 0;
}

/* Pygments default theme */
.hll { background-color: #ffffcc }
.c { color: #408080; font-style: italic } /* Comment */
.err { border: 1px solid #FF0000 } /* Error */
.k { color: #008000; font-weight: bold } /* Keyword */
.o { color: #666666 } /* Operator */
.cm { color: #408080; font-style: italic } /* Comment.Multiline */
.cp { color: #BC7A00 } /* Comment.Preproc */
.c1 { color: #408080; font-style: italic } /* Comment.Single */
.cs { color: #408080; font-style: italic } /* Comment.Special */
.gd { color: #A00000 } /* Generic.Deleted */
.ge { font-style: italic } /* Generic.Emph */
.gr { color: #FF0000 } /* Generic.Error */
.gh { color: #000080; font-weight: bold } /* Generic.Heading */
.gi { color: #00A000 } /* Generic.Inserted */
.go { color: #808080 } /* Generic.Output */
.gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.gs { font-weight: bold } /* Generic.Strong */
.gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.gt { color: #0040D0 } /* Generic.Traceback */
.kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.kp { color: #008000 } /* Keyword.Pseudo */
.kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.kt { color: #B00040 } /* Keyword.Type */
.m { color: #666666 } /* Literal.Number */
.s { color: #BA2121 } /* Literal.String */
.na { color: #7D9029 } /* Name.Attribute */
.nb { color: #008000 } /* Name.Builtin */
.nc { color: #0000FF; font-weight: bold } /* Name.Class */
.no { color: #880000 } /* Name.Constant */
.nd { color: #AA22FF } /* Name.Decorator */
.ni { color: #999999; font-weight: bold } /* Name.Entity */
.ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.nf { color: #0000FF } /* Name.Function */
.nl { color: #A0A000 } /* Name.Label */
.nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.nt { color: #008000; font-weight: bold } /* Name.Tag */
.nv { color: #19177C } /* Name.Variable */
.ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.w { color: #bbbbbb } /* Text.Whitespace */
.mf { color: #666666 } /* Literal.Number.Float */
.mh { color: #666666 } /* Literal.Number.Hex */
.mi { color: #666666 } /* Literal.Number.Integer */
.mo { color: #666666 } /* Literal.Number.Oct */
.sb { color: #BA2121 } /* Literal.String.Backtick */
.sc { color: #BA2121 } /* Literal.String.Char */
.sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.s2 { color: #BA2121 } /* Literal.String.Double */
.se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.sh { color: #BA2121 } /* Literal.String.Heredoc */
.si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.sx { color: #008000 } /* Literal.String.Other */
.sr { color: #BB6688 } /* Literal.String.Regex */
.s1 { color: #BA2121 } /* Literal.String.Single */
.ss { color: #19177C } /* Literal.String.Symbol */
.bp { color: #008000 } /* Name.Builtin.Pseudo */
.vc { color: #19177C } /* Name.Variable.Class */
.vg { color: #19177C } /* Name.Variable.Global */
.vi { color: #19177C } /* Name.Variable.Instance */
.il { color: #666666 } /* Literal.Number.Integer.Long */
.lineno { padding-right: 10px } /* A few space after linenos */

/* Presenter Mode */

body.presenter_view div.slide {
  display: inline;
  position: absolute;
  overflow: hidden;
  -moz-transform: scale(.5, .5);
  -moz-transform-origin: 0 0;
  -webkit-transform: scale(.5, .5);
  -webkit-transform-origin: 0 0;
  -o-transform: scale(.5, .5);
  -o-transform-origin: 0 0;
  margin-top: -300px;
}

body.presenter_view .slide.far-past {
  display: block;
  margin-left: -1500px;
}

body.presenter_view .slide.past {
  display: block;
  margin-left: -975px;
}

body.presenter_view .slide.current {
  display: block;
  margin-left: -475px;
  border: 8px solid maroon;
  z-index: 2;
}

body.presenter_view .slide.future {
  display: block;
  margin-left: 25px;
  z-index: 1;
}

body.presenter_view .slide.far-future {
  display: block;
  margin-left: 525px;
}

body.presenter_view div#current_presenter_notes {
  visibility: visible;
  display: block;
  position: absolute;
  overflow: auto;
  vertical-align: middle;
  left: 50%;
  top: 50%;
  margin-left: -475px;
  margin-top: 100px;
  z-index: 2;
  width: 950px;
  border-style: solid;
  height: 30%;
  background-color: silver;
}

body.presenter_view div#current_presenter_notes section {
  font-family: "Lucida Grande", "Trebuchet MS", Verdana, sans-serif;
  color: black;
  text-shadow: rgba(0, 0, 0, 0.2) 0 2px 5px;
  display: block;
  overflow: visible;
  position: relative;
  background-color: #fffeff;
  height: 120px;
  margin-right: 30px;
  margin-top: 60px;
  margin-left: 30px;
  padding-right: 10px;
  padding-left: 10px;
  padding-top: 10px;
}

body.presenter_view div#current_presenter_notes section p {
  margin: 0;
}

body.presenter_view div#current_presenter_notes h1 {
  font-size: 50%;
  display: block;
}

div#current_presenter_notes {
  display: none;
}

div.slide div.presenter_notes {
  display: none;
}

#blank {
  position: absolute;
  top: 0;
  left: 0;
  background-color: black;
  width: 100%;
  height: 100%;
  z-index: 64;
  display: none;
}

.image-reference {
  display: inline;
}

/* 自定义 */
    </style>
    
    
    <!-- /Styles -->
    <!-- Javascripts -->
    
    <script>
      function main() {
    // Since we don't have the fallback of attachEvent and
    // other IE only stuff we won't try to run JS for IE.
    // It will run though when using Google Chrome Frame
    if (document.all) { return; }

    var currentSlideNo;
    var notesOn = false;
    var expanded = false;
    var hiddenContext = false;
    var blanked = false;
    var slides = document.getElementsByClassName('slide');
    var touchStartX = 0;
    var spaces = /\s+/, a1 = [''];
    var tocOpened = false;
    var helpOpened = false;
    var overviewActive = false;
    var modifierKeyDown = false;
    var scale = 1;
    var showingPresenterView = false;
    var presenterViewWin = null;
    var isPresenterView = false;

    var str2array = function(s) {
        if (typeof s == 'string' || s instanceof String) {
            if (s.indexOf(' ') < 0) {
                a1[0] = s;
                return a1;
            } else {
                return s.split(spaces);
            }
        }
        return s;
    };

    var trim = function(str) {
        return str.replace(/^\s\s*/, '').replace(/\s\s*$/, '');
    };

    var addClass = function(node, classStr) {
        classStr = str2array(classStr);
        var cls = ' ' + node.className + ' ';
        for (var i = 0, len = classStr.length, c; i < len; ++i) {
            c = classStr[i];
            if (c && cls.indexOf(' ' + c + ' ') < 0) {
                cls += c + ' ';
            }
        }
        node.className = trim(cls);
    };

    var removeClass = function(node, classStr) {
        var cls;
        if (!node) {
            throw 'no node provided';
        }
        if (classStr !== undefined) {
            classStr = str2array(classStr);
            cls = ' ' + node.className + ' ';
            for (var i = 0, len = classStr.length; i < len; ++i) {
                cls = cls.replace(' ' + classStr[i] + ' ', ' ');
            }
            cls = trim(cls);
        } else {
            cls = '';
        }
        if (node.className != cls) {
            node.className = cls;
        }
    };

    var getSlideEl = function(slideNo) {
        if (slideNo > 0) {
            return slides[slideNo - 1];
        } else {
            return null;
        }
    };

    var getSlideTitle = function(slideNo) {
        var el = getSlideEl(slideNo);
        if (el) {
            var headers = el.getElementsByTagName('header');
            if (headers.length > 0) {
                return el.getElementsByTagName('header')[0].innerText;
            }
        }
        return null;
    };

    var getSlidePresenterNote = function(slideNo) {
        var el = getSlideEl(slideNo);
        if (el) {
            var n = el.getElementsByClassName('presenter_notes');
            if (n.length > 0) {
                return n[0];
            }
        }
        return null;
    };

    var changeSlideElClass = function(slideNo, className) {
        var el = getSlideEl(slideNo);
        if (el) {
            removeClass(el, 'far-past past current future far-future');
            addClass(el, className);
        }
    };

    var updateSlideClasses = function(updateOther) {
        window.location.hash = (isPresenterView ? "presenter" : "slide") + currentSlideNo;

        for (var i=1; i<currentSlideNo-1; i++) {
            changeSlideElClass(i, 'far-past');
        }

        changeSlideElClass(currentSlideNo - 1, 'past');
        changeSlideElClass(currentSlideNo, 'current');
        changeSlideElClass(currentSlideNo + 1, 'future');

        for (i=currentSlideNo+2; i<slides.length+1; i++) {
            changeSlideElClass(i, 'far-future');
        }

        highlightCurrentTocLink();

        processContext();

        document.getElementsByTagName('title')[0].innerText = getSlideTitle(currentSlideNo);

        updatePresenterNotes();

        if (updateOther) { updateOtherPage(); }
    };

    var updatePresenterNotes = function() {
        if (!isPresenterView) { return; }

        var existingNote = document.getElementById('current_presenter_notes');
        var currentNote = getSlidePresenterNote(currentSlideNo).cloneNode(true);
        currentNote.setAttribute('id', 'presenter_note');

        existingNote.replaceChild(currentNote, document.getElementById('presenter_note'));
    };

    var highlightCurrentTocLink = function() {
        var toc = document.getElementById('toc');

        if (toc) {
            var tocRows = toc.getElementsByTagName('tr');
            for (var i=0; i<tocRows.length; i++) {
                removeClass(tocRows.item(i), 'active');
            }

            var currentTocRow = document.getElementById('toc-row-' + currentSlideNo);
            if (currentTocRow) {
                addClass(currentTocRow, 'active');
            }
        }
    };

    var updateOtherPage = function() {
        if (!showingPresenterView) { return; }

        var w = isPresenterView ? window.opener : presenterViewWin;
        w.postMessage('slide#' + currentSlideNo, '*');
    };

    var nextSlide = function() {
        if (currentSlideNo < slides.length) {
            currentSlideNo++;
        }
        updateSlideClasses(true);
    };

    var prevSlide = function() {
        if (currentSlideNo > 1) {
            currentSlideNo--;
        }
        updateSlideClasses(true);
    };

    var showNotes = function() {
        var notes = getSlideEl(currentSlideNo).getElementsByClassName('notes');
        for (var i = 0, len = notes.length; i < len; i++) {
            notes.item(i).style.display = (notesOn) ? 'none':'block';
        }
        notesOn = !notesOn;
    };

    var showSlideNumbers = function() {
        var asides = document.getElementsByClassName('page_number');
        var hidden = asides[0].style.display != 'block';
        for (var i = 0; i < asides.length; i++) {
            asides.item(i).style.display = hidden ? 'block' : 'none';
        }
    };

    var showSlideSources = function() {
        var asides = document.getElementsByClassName('source');
        var hidden = asides[0].style.display != 'block';
        for (var i = 0; i < asides.length; i++) {
            asides.item(i).style.display = hidden ? 'block' : 'none';
        }
    };

    var showToc = function() {
        if (helpOpened) {
                showHelp();
        }
        var toc = document.getElementById('toc');
        if (toc) {
            toc.style.marginLeft = tocOpened ? '-' + (toc.clientWidth + 20) + 'px' : '0px';
            tocOpened = !tocOpened;
        }
        updateOverview();
    };

    var showHelp = function() {
        if (tocOpened) {
                showToc();
        }

        var help = document.getElementById('help');

        if (help) {
            help.style.marginLeft = helpOpened ? '-' + (help.clientWidth + 20) + 'px' : '0px';
            helpOpened = !helpOpened;
        }
    };

    var showPresenterView = function() {
        if (isPresenterView) { return; }

        if (showingPresenterView) {
            presenterViewWin.close();
            presenterViewWin = null;
            showingPresenterView = false;
        } else {
            presenterViewWin = open(window.location.pathname + "#presenter" + currentSlideNo, 'presenter_notes',
                                                                    'directories=no,location=no,toolbar=no,menubar=no,copyhistory=no');
            showingPresenterView = true;
        }
    };

    var switch3D = function() {
        if (document.body.className.indexOf('three-d') == -1) {
            document.getElementsByClassName('presentation')[0].style.webkitPerspective = '1000px';
            document.body.className += ' three-d';
        } else {
            window.setTimeout('document.getElementsByClassName(\'presentation\')[0].style.webkitPerspective = \'0\';', 2000);
            document.body.className = document.body.className.replace(/three-d/, '');
        }
    };

    var toggleOverview = function() {
        if (!overviewActive) {
            addClass(document.body, 'expose');
            overviewActive = true;
            setScale(1);
        } else {
            removeClass(document.body, 'expose');
            overviewActive = false;
            if (expanded) {
                setScale(scale);    // restore scale
            }
        }
        processContext();
        updateOverview();
    };

    var updateOverview = function() {
        try {
            var presentation = document.getElementsByClassName('presentation')[0];
        } catch (e) {
            return;
        }

        if (isPresenterView) {
            var action = overviewActive ? removeClass : addClass;
            action(document.body, 'presenter_view');
        }

        var toc = document.getElementById('toc');

        if (!toc) {
            return;
        }

        if (!tocOpened || !overviewActive) {
            presentation.style.marginLeft = '0px';
            presentation.style.width = '100%';
        } else {
            presentation.style.marginLeft = toc.clientWidth + 'px';
            presentation.style.width = (presentation.clientWidth - toc.clientWidth) + 'px';
        }
    };

    var computeScale = function() {
        var cSlide = document.getElementsByClassName('current')[0];
        var sx = cSlide.clientWidth / window.innerWidth;
        var sy = cSlide.clientHeight / window.innerHeight;
        return 1 / Math.max(sx, sy);
    };

    var setScale = function(scale) {
        var presentation = document.getElementsByClassName('slides')[0];
        var transform = 'scale(' + scale + ')';
        presentation.style.MozTransform = transform;
        presentation.style.WebkitTransform = transform;
        presentation.style.OTransform = transform;
        presentation.style.msTransform = transform;
        presentation.style.transform = transform;
    };

    var expandSlides = function() {
        if (overviewActive) {
            return;
        }
        if (expanded) {
            setScale(1);
            expanded = false;
        } else {
            scale = computeScale();
            setScale(scale);
            expanded = true;
        }
    };

    var showContext = function() {
        try {
            var presentation = document.getElementsByClassName('slides')[0];
            removeClass(presentation, 'nocontext');
        } catch (e) {}
    };

    var hideContext = function() {
        try {
            var presentation = document.getElementsByClassName('slides')[0];
            addClass(presentation, 'nocontext');
        } catch (e) {}
    };

    var processContext = function() {
        if (hiddenContext) {
            hideContext();
        } else {
            showContext();
        }
    };

    var toggleContext = function() {
        hiddenContext = !hiddenContext;
        processContext();
    };

    var toggleBlank = function() {
        blank_elem = document.getElementById('blank');

        blank_elem.style.display = blanked ? 'none' : 'block';

        blanked = !blanked;
    };

    var isModifierKey = function(keyCode) {
        switch (keyCode) {
            case 16: // shift
            case 17: // ctrl
            case 18: // alt
            case 91: // command
                return true;
                break;
            default:
                return false;
                break;
        }
    };

    var checkModifierKeyUp = function(event) {
        if (isModifierKey(event.keyCode)) {
            modifierKeyDown = false;
        }
    };

    var checkModifierKeyDown = function(event) {
        if (isModifierKey(event.keyCode)) {
            modifierKeyDown = true;
        }
    };

    var handleBodyKeyDown = function(event) {
        switch (event.keyCode) {
            case 13: // Enter
                if (overviewActive) {
                    toggleOverview();
                }
                break;
            case 27: // ESC
                toggleOverview();
                break;
            case 37: // left arrow
            case 33: // page up
                event.preventDefault();
                prevSlide();
                break;
            case 39: // right arrow
            case 32: // space
            case 34: // page down
                event.preventDefault();
                nextSlide();
                break;
            case 50: // 2
                if (!modifierKeyDown) {
                        showNotes();
                }
                break;
            case 51: // 3
                if (!modifierKeyDown && !overviewActive) {
                    switch3D();
                }
                break;
            case 190: // .
            case 48: // 0
            case 66: // b
                if (!modifierKeyDown && !overviewActive) {
                    toggleBlank();
                }
                break;
            case 67: // c
                if (!modifierKeyDown && !overviewActive) {
                    toggleContext();
                }
                break;
            case 69: // e
                if (!modifierKeyDown && !overviewActive) {
                    expandSlides();
                }
                break;
            case 72: // h
                showHelp();
                break;
            case 78: // n
                if (!modifierKeyDown && !overviewActive) {
                    showSlideNumbers();
                }
                break;
            case 80: // p
                if (!modifierKeyDown && !overviewActive) {
                    showPresenterView();
                }
                break;
            case 83: // s
                if (!modifierKeyDown && !overviewActive) {
                    showSlideSources();
                }
                break;
            case 84: // t
                showToc();
                break;
        }
    };

    var handleWheel = function(event) {
        if (tocOpened || helpOpened || overviewActive) {
            return;
        }

        var delta = 0;

        if (!event) {
            event = window.event;
        }

        if (event.wheelDelta) {
            delta = event.wheelDelta/120;
            if (window.opera) delta = -delta;
        } else if (event.detail) {
            delta = -event.detail/3;
        }

        if (delta && delta <0) {
            nextSlide();
        } else if (delta) {
            prevSlide();
        }
    };

    var addSlideClickListeners = function() {
        for (var i=0; i < slides.length; i++) {
            var slide = slides.item(i);
            slide.num = i + 1;
            slide.addEventListener('click', function(e) {
                if (overviewActive) {
                    currentSlideNo = this.num;
                    toggleOverview();
                    updateSlideClasses(true);
                    e.preventDefault();
                }
                return false;
            }, true);
        }
    };

    var addRemoteWindowControls = function() {
        window.addEventListener("message", function(e) {
            if (e.data.indexOf("slide#") != -1) {
                    currentSlideNo = Number(e.data.replace('slide#', ''));
                    updateSlideClasses(false);
            }
        }, false);
    };

    var addTouchListeners = function() {
        document.addEventListener('touchstart', function(e) {
            touchStartX = e.touches[0].pageX;
        }, false);
        document.addEventListener('touchend', function(e) {
            var pixelsMoved = touchStartX - e.changedTouches[0].pageX;
            var SWIPE_SIZE = 150;
            if (pixelsMoved > SWIPE_SIZE) {
                nextSlide();
            }
            else if (pixelsMoved < -SWIPE_SIZE) {
             prevSlide();
            }
        }, false);
    };

    var addTocLinksListeners = function() {
        var toc = document.getElementById('toc');
        if (toc) {
            var tocLinks = toc.getElementsByTagName('a');
            for (var i=0; i < tocLinks.length; i++) {
                tocLinks.item(i).addEventListener('click', function(e) {
                    currentSlideNo = Number(this.attributes['href'].value.replace('#slide', ''));
                    updateSlideClasses(true);
                    e.preventDefault();
                }, true);
            }
        }
    };

    // initialize

    (function() {
        if (window.location.hash == "") {
            currentSlideNo = 1;
        } else if (window.location.hash.indexOf("#presenter") != -1) {
            currentSlideNo = Number(window.location.hash.replace('#presenter', ''));
            isPresenterView = true;
            showingPresenterView = true;
            presenterViewWin = window;
            addClass(document.body, 'presenter_view');
        } else {
            currentSlideNo = Number(window.location.hash.replace('#slide', ''));
        }

        document.addEventListener('keyup', checkModifierKeyUp, false);
        document.addEventListener('keydown', handleBodyKeyDown, false);
        document.addEventListener('keydown', checkModifierKeyDown, false);
        document.addEventListener('DOMMouseScroll', handleWheel, false);

        window.onmousewheel = document.onmousewheel = handleWheel;
        window.onresize = expandSlides;

        for (var i = 0, el; el = slides[i]; i++) {
            addClass(el, 'slide far-future');
        }
        updateSlideClasses(false);

        // add support for finger events (filter it by property detection?)
        addTouchListeners();

        addTocLinksListeners();

        addSlideClickListeners();

        addRemoteWindowControls();
    })();
}

    </script>
    
    
    
    <!-- /Javascripts -->
</head>
<body>
  <div id="blank"></div>
  <div class="presentation">
    <div id="current_presenter_notes">
      <div id="presenter_note"></div>
    </div>
    <div class="slides">
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide slide-1">
          <div class="inner">
            
            <header><h1>简明 Python 教程</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              1/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide slide-2">
          <div class="inner">
            
            <header><h1><a href="简明Python教程主要内容.png">主要内容思维导图</a></h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              2/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide slide-3">
          <div class="inner">
            
            <header><h1>介绍</h1></header>
            
            
            <section><p>本教程主要参考<mark>《A Byte of Python》</mark>一书中文译本。</p>
<p>《A Byte of Python》是一本由 <strong>Swaroop C H</strong> 编写，旨在于介绍如何使用 Python 语言进行编程的自由图书。它以教材与指南的形式为入门者介绍 Python 语言。如果你对电脑知识的了解仅限于如何保存文本文件的话，那这本书就是为你准备的。</p>
<p>2005 年， <strong>沈洁元</strong> 将本书的 1.20 版引进中国，并完成了全本翻译，将本书的译名定为《简明 Python 教程》。2017年， <strong>漠伦</strong> 基于原书 4.0 版重新翻译，制作了本版全新译本，并沿用同样的译名。</p>
<p>本版译本定义为 4.08c 版。最后修订于 2018 年 2 月 4 日。</p>
<h2>阅读该书</h2>
<p>你可以通过 <a href="http://python.swaroopch.com/">http://python.swaroopch.com/</a> 在线阅读本书英文原版。</p>
<p>本中文译版可通过 <a href="https://bop.mol.uno">https://bop.mol.uno</a> 在线阅读。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              3/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide slide-4">
          <div class="inner">
            
            <header><h1>关于 Python</h1></header>
            
            
            <section><p>Python 是一种极少数能声言兼具 <em>简单</em> 与 <em>功能强大</em> 的编程语言。你将惊异于发现你正在使用的这门编程语言是如此简单，它专注于如何解决问题，而非拘泥于语法与结构。</p>
<p>官方对 Python 的介绍如下：</p>
<blockquote>
<p>Python 是一款易于学习且功能强大的编程语言。 它具有高效率的数据结构，能够简单又有效地实现面向对象编程。Python 简洁的语法与动态输入之特性，加之其解释性语言的本质，使得它成为一种在多种领域与绝大多数平台都能进行脚本编写与应用快速开发工作的理想语言。</p>
</blockquote>
<h2>名字背后的故事</h2>
<p>Python 的创造者吉多·范罗苏姆（Guido van Rossum）采用 BBC 电视节目《蒙提·派森的飞行马戏团（Monty Python's Flying Circus，一译巨蟒剧团）》的名字来为这门编程语言命名。尽管他本人并不特别喜欢蟒蛇这种通过在猎物身边卷曲自己的身体以此来碾碎猎物身体来进食的动物。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              4/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_notes slide-5">
          <div class="inner">
            
            <header><h2>Python 的特色</h2></header>
            
            
            <section><h3>简单(按<code>2</code>查看解释，下同)</h3>
<p class="notes">Python 是一门简单且简约的语言。阅读一份优秀的 Python 程序代码就如同在阅读英语文章一样，尽管这门英语要求十分严格！Python 这种伪代码式的特质正是它的一大优势。它能够让你专注于解决问题的方案，而不是语言本身。</p>
<h3>易于学习</h3>
<p class="notes">正如你接下来将看到的，Python 是一门非常容易入门的语言。正如前面所提到的，Python 有一套极其简单的语法体系。</p>
<h3>自由且开放</h3>
<p class="notes">Python 是 FLOSS （自由/开放源代码软件）的成员之一。简单来说，你可以自由地分发这一软件的拷贝，阅读它的源代码，并对其作出改动，或是将其的一部分运用于一款新的自由程序中。FLOSS 基于一个可以分享知识的社区理念而创建。这正是 Python 为何能如此优秀的一大原因——它由一群希望看到 Python 能变得更好的社区成员所创造，并持续改进至今。</p>
<h3>高级语言</h3>
<p class="notes">当你在用 Python 编写程序时，你不必考虑诸如你的程序应当如何使用内存等底层细节。</p>
<h3>跨平台性</h3>
<p class="notes">由于其开放源码的特性，Python 已被移植到其它诸多平台（意即它们已经过改动以保证其能正常工作）。如果你小心地避开了所有系统依赖型的特性。你所有的 Python 程序可以在其中任何一个平台上工作，不必作出任何改动。</p>
<p class="notes">你可以在 GNU/Linux、Windows、FreeBSD、Macintosh、 Solaris、 OS/2、 Amiga、 AROS、 AS/400、 BeOS、 OS/390、 z/OS、 Palm OS、 QNX、 VMS、 Psion、 Acorn RISC OS、 VxWorks、 PlayStation、 Sharp Zaurus、 Windows CE 以及 PocketPC 平台上运行 Python！</p>
<p class="notes">你甚至可以通过诸如 <a href="http://kivy.org">Kivy</a> 一类的平台来制作可在你的电脑 <em>以及</em> iPhone、iPad 或安卓手机上运行的游戏。</p>
<h3>解释性</h3>
<p class="notes">有关这一特性，需要一些详细的解释。</p>
<p class="notes">在你使用诸如 C 或 C++ 等编译语言编写程序时，需要将这些语言的源代码通过编译程序配合其中不同的标记（Flags）与选项，来将它们转换成你的电脑所使用的语言（例如 0 与 1 构成的二进制码）。当你运行这些程序时，链接程序或载入程序将会从硬盘中将程序拷贝至内存中并将其运行。</p>
<p class="notes">另一方面，Python 不需要将其编译成二进制码。你只需要直接从源代码 <em>运行</em> 该程序。在程序内部，Python 会将源代码转换为称为字节码的中间形式，尔后再转换成你的电脑所使用的语言，并运行它。实际上，这一流程使得 Python 更加易于使用，你不必再担心该如何编译程序，或如何保证适当的库被正确的链接并加载等等步骤。这也同样使得 Python 程序更便携且易于迁移，你只需要将 Python 程序拷贝到另一台电脑便可让它立即开始工作！</p>
<h3>面向对象</h3>
<p class="notes">Python 同时支持面向过程编程与面向对象编程。在 <em>面向过程</em> 的编程语言中，程序是由仅仅带有可重用特性的子程序与函数所构建起来的。在 <em>面向对象</em> 的编程语言中，程序是由结合了数据与功能的对象所构建起来的。与 C++ 或 Java 这些大型语言相比，Python 具有其特别的、功能强大又简单的方式来实现面向对象编程。</p>
<h3>可扩展性</h3>
<p class="notes">如果你需要代码的某一重要部分能够快速地运行，或希望算法的某些部分不被公开，你可以在 C 或 C++ 语言中编写这些程序，然后再将其运用于你的 Python 程序中。</p>
<h3>可嵌入性</h3>
<p class="notes">你可以在你的 C 或 C++ 程序中嵌入 Python，从而向你的程序用户提供 <em>脚本</em> 功能。</p>
<h3>丰富的库</h3>
<p class="notes">实际上 Python 标准库的规模非常庞大。它能够帮助你完成诸多事情，包括正则表达式、文档生成、单元测试、多线程、数据库、网页浏览器、CGI、FTP、邮件、XML、XML-RPC、HTML、WAV 文件、密码系统、GUI（图形用户界面），以及其它系统依赖型的活动。只需记住，只要安装了 Python，这些功能便随时可用。它们的存在被称作 Python <em>自备电池（Batteries Included）</em> 式的哲学。</p>
<p class="notes">除了标准库以外，你还可以在 <a href="http://pypi.python.org/pypi">Python 库索引（Python Package Index）</a> 中发掘许多其它高质量的库。</p>
<h3>总结</h3>
<p>Python 着实是一门令人心生激动且强大的语言。它得当地结合了性能与功能，使得编写 Python 程序是如此简易又充满乐趣。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              5/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide slide-6">
          <div class="inner">
            
            <header><h2>Python 3 VS Python 2</h2></header>
            
            
            <section><p>Python有2.x和3.x两个大版本，3.x没有向下兼容2.x。Python 2.7将于2020年1月1日终止支持，越来越多的第三方库也将不支持2.x，初学者建议直接学习3.x（最新3.7）。</p>
<p>与原书一致，本教程采用 Python 3 编写。</p>
<p>要想了解有关 Python 2 和 Python 3 之间的区别的更多细节，你可以参阅：</p>
<ul>
<li><a href="http://lwn.net/Articles/547191/">The future of Python 2</a></li>
<li><a href="https://docs.python.org/3/howto/pyporting.html">Porting Python 2 Code to Python 3</a></li>
<li><a href="https://wiki.python.org/moin/PortingToPy3k/BilingualQuickRef">Writing code that runs under both Python2 and 3</a></li>
<li><a href="http://python3porting.com">Supporting Python 3: An in-depth guide</a></li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              6/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide slide-7">
          <div class="inner">
            
            <header><h1>安装</h1></header>
            
            
            <section><h2>在 Windows 中安装</h2>
<h3>安装步骤总结</h3>
<ol>
<li><a href="https://www.python.org/downloads/">https://www.python.org/downloads/</a> 官网下载最新exe安装包</li>
<li>执行exe并且一路点击下一步（与安装其他程序没有区别）</li>
<li>将Python安装路径添加至系统环境变量</li>
</ol>
<h3>详细步骤</h3>
<p>访问 <a href="https://www.python.org/downloads/">https://www.python.org/downloads/</a> 并下载最新版本的 Python。在本书撰写的时点，最新版本为 Python 3.5.1。 其安装过程与其它 Windows 平台的软件的安装过程无异。</p>
<p>注意：请务必确认你勾选了 <code>Add Python 3.5 to PATH</code> 选项。</p>
<p>若要想改变安装位置，勾选 <code>Customize installation</code> 选项，点击 <code>Next</code> 后在安装位置中输入 <code>C:\python35</code> 。</p>
<p>如未勾选相关选项，你可以点击 <code>Add Python to environment variables</code> 。它和安装程序第一屏的 <code>Add Python 3.5 to PATH</code> 能起到相同效果。</p>
<p>你可以选择是否为所有用户安装启动器，这不会产生多大影响。启动器用以切换已安装的不同版本的 Python。</p>
<p>如果你的环境变量（Path）未正确设置，可以遵循上述步骤予以修正。否则，请参阅 <code>在 Windows 中运行 Python 提示符</code> 。</p>
<h3>PATH 环境变量</h3>
<p>如果你希望在 Windows 命令行使用 Python，比如 DOS 提示符，你需要设置相应的PATH 环境变量。</p>
<p>对于 Windows 2000，XP，2003，点击 <code>控制面板</code> → <code>系统</code> → <code>高级</code> → <code>环境变量</code> 。点击 <em>系统变量</em> 选项卡下名为 <code>PATH</code> 的变量，选择 <code>编辑</code> 并在已存在的字符串末尾添加 <code>;C:\Python35</code> （请确保该文件夹确实存在，对于更新版本的 Python 文件夹的名字可能有所不同）。当然，你应该使用恰当的目录名称。</p>
<p>对于更古老的 Windows 系统版本，打开文件 <code>C:\AUTOEXEC.BAT</code> 并在其中添加一行 <code>PATH=%PATH%;C:\Python35</code> ，完成编辑并保存后，你需要重启系统。对于 Windows NT 系统，则对应 <code>AUTOEXEC.NT</code> 文件。</p>
<p>对于 Windows Vista：</p>
<ul>
<li>点击开始并选择 <code>控制面板</code> 。</li>
<li>点击系统，在右侧你将会看见“浏览你的计算机的基本信息”</li>
<li>左侧将由一个任务列表，最后一个即为“高级系统设置”，点击它。</li>
<li><code>高级</code> 标签栏下可以看见 <code>系统属性</code> 对话框。</li>
<li>在较低位置的名为 <code>系统变量</code> 的对话框，向下滚动至变量部分并点击 <code>编辑</code> 按钮。</li>
<li>修改你需要改动的变量。</li>
<li>重启系统。Vista 直至重启前都不会应用系统变量环境的改动。</li>
</ul>
<p>对于 Windos 7 与 8：</p>
<ul>
<li>在桌面右击计算机并选择 <code>属性</code> 或点击 <code>开始</code> 并选择 <code>控制面板</code> → <code>系统与安全</code> → <code>系统</code> 。点击左侧的 <code>高级系统设置</code> 并选择 <code>高级</code> 标签。点击底部 <code>系统变量</code> 下的 <code>环境变量</code> ，找到 <code>PATH</code> 属性，将其选中并点击 <code>编辑</code> 。</li>
<li>前往变量值的最后一行并添加 <code>;C:\Python35</code> （请确保该文件夹确实存在，对于更新版本的 Python 文件夹的名字可能有所不同）至业已存在的部分的后方。当然，你应该使用恰当的目录名称。</li>
<li>如果该变量值为 <code>%SystemRoot%\system32;</code> 则在修改后其应变为 <code>%SystemRoot%\system32;C:\Python35</code> 。</li>
<li>点击 <code>确定</code> 以完成操作。你不需要进行重启，不过你可能需要关闭并重启命令提示符。</li>
</ul>
<h3>在 Windows 下运行 Python 命令提示符</h3>
<p>对于 Windows 用户来说，如果你已经正确并恰当地设置了 <code>PATH</code> 变量，你可以在命令行中运行解释程序。</p>
<p>要想在 Windows 中运行终端，点击开始并点击 <code>运行</code> 。在对话中输入 <code>cmd</code> 并按下回车键。</p>
<p>然后，输入 <code>python</code> 以确保其没有任何错误。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              7/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide slide-8">
          <div class="inner">
            
            <header><h2>在 Mac OS/Linux 下安装</h2></header>
            
            
            <section><h2>在 Mac OS 下安装</h2>
<p>使用 <a href="http://brew.sh">Homebrew</a> 并通过命令 <code>brew install python3</code> 进行安装。</p>
<p>要想验证安装是否成功，你可以通过按键 <code>[Command + Space]</code> （以启动 Spotlight 搜索），输入 <code>Terminal</code> 并按下 <code>[enter]</code> 键来启动终端程序。现在，试着运行 <code>python3</code> 来确保其没有任何错误。</p>
<h2>在 GNU/Linux 下安装</h2>
<p>使用发行版的包管理器来安装 Python 3，例如在 Debian 与 Ubuntu 平台下，你可以输入命令：<code>sudo apt-get update &amp;&amp; sudo apt-get install python3</code> 。在RHEL下，输入命令：<code>sudo yum install python3</code></p>
<p>运行 <code>python3</code> 命令来确保其没有任何错误。</p>
<p>你会看到在运行命令后 Python 的版本信息显示在屏幕上：</p>
<pre><code>$ python3 -V
Python 3.5.1
</code></pre>
<p>附注：<code>$</code> 是 Shell 的提示符。根据你电脑所运行的操作系统的设置的不同，它也会有所不同，在之后的内容中我会使用 <code>$</code> 符号来代表提示符。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              8/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide slide-9">
          <div class="inner">
            
            <header><h2>安装Anaconda</h2></header>
            
            
            <section><p>官网：<a href="https://www.anaconda.com/">https://www.anaconda.com/</a></p>
<p>Anaconda 是一个用于科学计算的 Python 发行版，支持 Linux, Mac, Windows, 包含了众多流行的科学计算、数据分析的 Python 包。</p>
<p>Anaconda 拥有包管理和虚拟环境管理的功能，同时还提供了页面管理方式，对于我们学习python非常方便。</p>
<p>安装和使用方法：</p>
<p>国内镜像下载地址：<a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/">清华大学开源软件镜像站</a></p>
<p>安装：直接运行安装</p>
<p>使用：页面操作或者使用命令</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              9/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-10">
          <div class="inner">
            
            <header><h1>第一步</h1></header>
            
            
            <section><p>运行一个传统的“Hello World”程序。学习如何编写、保存与运行 Python 程序。</p>
<h2>使用解释器提示符</h2>
<p>在终端中通过输入 <code>python3</code> 并按下 <code>[enter]</code> 键来打开 Python 提示符（Python Prompt）。</p>
<p>启动 Python 后，你会看见在你能开始输入内容的地方出现了 <code>&gt;&gt;&gt;</code> 。这个被称作 <em>Python 解释器提示符（Python Interpreter Prompt）</em> 。</p>
<p>在 Python 解释器提示符，输入：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="k">print</span><span class="p">(</span><span class="s2">&quot;Hello World&quot;</span><span class="p">)</span>
</pre></div>

<p>在输入完成后按下 <code>[enter]</code> 键。你将会看到屏幕上打印出 <code>Hello World</code> 字样。</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="o">&gt;</span> <span class="n">python3</span>
<span class="lineno">2 </span><span class="n">Python</span> <span class="mf">3.5</span><span class="o">.</span><span class="mi">1</span> <span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="n">Jan</span> <span class="mi">14</span> <span class="mi">2016</span><span class="p">,</span> <span class="mo">06</span><span class="p">:</span><span class="mi">54</span><span class="p">:</span><span class="mi">11</span><span class="p">)</span>
<span class="lineno">3 </span><span class="p">[</span><span class="n">GCC</span> <span class="mf">4.2</span><span class="o">.</span><span class="mi">1</span> <span class="n">Compatible</span> <span class="n">Apple</span> <span class="n">LLVM</span> <span class="mf">7.0</span><span class="o">.</span><span class="mi">2</span> <span class="p">(</span><span class="n">clang</span><span class="o">-</span><span class="mf">700.1</span><span class="o">.</span><span class="mi">81</span><span class="p">)]</span> <span class="n">on</span> <span class="n">darwin</span>
<span class="lineno">4 </span><span class="n">Type</span> <span class="s2">&quot;help&quot;</span><span class="p">,</span> <span class="s2">&quot;copyright&quot;</span><span class="p">,</span> <span class="s2">&quot;credits&quot;</span> <span class="ow">or</span> <span class="s2">&quot;license&quot;</span> <span class="k">for</span> <span class="n">more</span> <span class="n">information</span><span class="o">.</span>
<span class="lineno">5 </span><span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Hello World&quot;</span><span class="p">)</span>
<span class="lineno">6 </span><span class="n">Hello</span> <span class="n">World</span>
</pre></div>

<h2>选择一款编辑器</h2>
<p>推荐PyCharm、VS code、sublime等，一些简单的代码也可以使用python自带的IDLE或者直接在用命令行运行。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              10/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-11">
          <div class="inner">
            
            <header><h2>使用一份源代码文件</h2></header>
            
            
            <section><p>打开一个新文件名将其命名为 <code>hello.py</code> ，然后输入如下内容：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="k">print</span><span class="p">(</span><span class="s2">&quot;hello world&quot;</span><span class="p">)</span>
</pre></div>

<p>要想运行你的 Python 程序：</p>
<ol>
<li>打开终端窗口。</li>
<li>使用 <code>cd</code> 命令来 改变目录到你保存文件的地方，例如 <code>cd /tmp/py</code> 。</li>
<li>通过输入命令 <code>python hello.py</code> 来运行程序。</li>
</ol>
<p>运行结果：</p>
<pre><code>$python hello.py
hello world
</code></pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              11/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide slide-12">
          <div class="inner">
            
            <header><h2>获取帮助</h2></header>
            
            
            <section><p>使用其内置的 <code>help</code> 功能获得 Python 中有关任何函数或语句的快速信息。例如，运行 <code>help('len')</code> 命令——这将显示出有关 <code>len</code> 函数的帮助，了解其是用来计算项目数量的。</p>
<p>小贴士：按下 <code>q</code> 键可以退出帮助。</p>
<p>类似地，你可以通过此方式获得几乎所有有关 Python 的信息。使用 <mark>help()</mark>命令来了解有关 <code>help</code> 它本身的更多信息吧！</p>
<p>如果你需要获得有关 <code>return</code> 这类运算符的帮助，你需要做的就是将它们放在引号中，就像 <code>help('return')</code> 这般，这样 Python 就不会混淆我们正在试图做的事情。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              12/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-13">
          <div class="inner">
            
            <header><h1>基础</h1></header>
            
            
            <section><h2>注释</h2>
<p><em>注释</em> 是任何存在于 <code>#</code> 号右侧的文字，其主要用作写给程序读者看的笔记。</p>
<p>举个例子：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;hello world&#39;</span><span class="p">)</span> <span class="c1">#注意到 print 是一个函数</span>
</pre></div>

<p>或者：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="c1"># 注意到 print 是一个函数</span>
<span class="lineno">2 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;hello world&#39;</span><span class="p">)</span>
</pre></div>

<p>你应该在你的程序中尽可能多地使用有用的注释：</p>
<ul>
<li>解释假设</li>
<li>说明重要的决定</li>
<li>解释重要的细节</li>
<li>说明你想要解决的问题</li>
<li>说明你想要在程序中克服的问题，等等。</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              13/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide slide-14">
          <div class="inner">
            
            <header><h2>字面常量</h2></header>
            
            
            <section><p>一个字面常量（Literal Constants）的例子是诸如 <code>5</code>、<code>1.23</code> 这样的数字，或者是如 <code>这是一串文本</code> 或 <code>This is a string</code> 这样的文本。</p>
<p>用这样的称呼是因为它们是 <em>字面上的</em> ——你用的就是它字面意义上的值或是内容。数字 <code>2</code> 总是表示它本身而非其他含义——它是一个 <em>常量</em> ，因为它的值不能被改变。因此，所有的这些都被称作字面常量。</p>
<h2>数字</h2>
<p>数字主要分为两种类型——整数（Integers）与浮点数（Floats）。</p>
<p>有关整数的例子即 <code>2</code>，它只是一个整数。</p>
<p>有关浮点数（Floating Point Numbers，在英文中也会简写为 <em>floats</em> ）的例子是 <code>3.23</code> 或 <code>52.3E-4</code>。其中，<code>E</code> 表示 10 的幂。在这里，<code>52.3E-4</code> 表示 <code>52.3 * 10^-4</code>。</p>
<blockquote>
<p><strong>针对有经验的程序员的提示</strong></p>
<p>没有单独的 <code>long</code> 类型。<code>int</code> 类型可以指任何大小的整数。</p>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              14/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-15">
          <div class="inner">
            
            <header><h2>字符串</h2></header>
            
            
            <section><p>字符串（String）是 <em>字符（Characters）</em> 的 <em>序列（Sequence）</em> 。<mark>字符串就是一串词汇</mark>。</p>
<h3>单引号&amp;双引号</h3>
<p>使用单引号或双引号来指定字符串，例如 <code>'将我这样框进来'</code> 或 <code>'Quote me on this'</code> 或 <code>"What's your name?"</code>。</p>
<h3>三引号</h3>
<p>使用三个引号——<code>"""</code> 或 <code>'''</code> 指定多行字符串：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="sd">&#39;&#39;&#39;这是一段多行字符串。这是它的第一行。</span>
<span class="lineno">2 </span><span class="sd">This is the second line.</span>
<span class="lineno">3 </span><span class="sd">&quot;What&#39;s your name?,&quot; I asked.</span>
<span class="lineno">4 </span><span class="sd">He said &quot;Bond, James Bond.&quot;</span>
<span class="lineno">5 </span><span class="sd">&#39;&#39;&#39;</span>
</pre></div>

<blockquote>
<p><strong>针对 C/C++ 程序员的提示</strong></p>
<p>Python 中没有单独的 <code>char</code> 数据类型。</p>
<p><strong>针对 Perl/PHP 程序员的提示</strong></p>
<p>单引号括起的字符串和双引号括起的字符串是一样的——不存在任何区别。</p>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              15/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-16">
          <div class="inner">
            
            <header><h2>字符串</h2></header>
            
            
            <section><h3>格式化方法</h3>
<p>有时候我们需要构建字符串，这时候就会用到格式化。Python主要提供两种格式化方法：</p>
<ul>
<li>C语言%方式的格式化方法</li>
<li>强大的 <code>string.format()</code> 函数，Python 中 <code>format</code> 方法所做的事情便是将每个参数值替换至格式所在的位置</li>
</ul>
<p>下面提供部分format()函数的用法：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="c1">#通过位置</span>
<span class="lineno"> 2 </span><span class="k">print</span> <span class="s1">&#39;{0},{1}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;Xiaoming&#39;</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>   <span class="c1"># 不设置指定位置，按默认顺序</span>
<span class="lineno"> 3 </span><span class="k">print</span> <span class="s1">&#39;{},{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;Xiaoming&#39;</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>  <span class="c1"># 设置指定位置</span>
<span class="lineno"> 4 </span><span class="k">print</span> <span class="s1">&#39;{1},{0},{1}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;Xiaoming&#39;</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>  <span class="c1"># 设置指定位置</span>
<span class="lineno"> 5 </span>
<span class="lineno"> 6 </span><span class="c1">#通过关键字参数</span>
<span class="lineno"> 7 </span><span class="k">print</span> <span class="s1">&#39;{name},{age}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">age</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Xiaoming&#39;</span><span class="p">)</span>
<span class="lineno"> 8 </span>
<span class="lineno"> 9 </span><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
<span class="lineno">10 </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">age</span><span class="p">):</span>
<span class="lineno">11 </span>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
<span class="lineno">12 </span>        <span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>
<span class="lineno">13 </span>
<span class="lineno">14 </span>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="lineno">15 </span>        <span class="k">return</span> <span class="s1">&#39;This guy is {self.name},is {self.age} old&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
<span class="lineno">16 </span>
<span class="lineno">17 </span><span class="k">print</span> <span class="nb">str</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="s1">&#39;Xiaoming&#39;</span><span class="p">,</span><span class="mi">18</span><span class="p">))</span>
<span class="lineno">18 </span>
<span class="lineno">19 </span><span class="c1">#通过映射 list</span>
<span class="lineno">20 </span><span class="n">a_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Xiaoming&#39;</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="s1">&#39;china&#39;</span><span class="p">]</span>
<span class="lineno">21 </span><span class="k">print</span> <span class="s1">&#39;my name is {0[0]},from {0[2]},age is {0[1]}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">a_list</span><span class="p">)</span>
<span class="lineno">22 </span><span class="c1">#my name is Xiaoming,from china,age is 20</span>
<span class="lineno">23 </span>
<span class="lineno">24 </span><span class="c1">#通过映射 dict</span>
<span class="lineno">25 </span><span class="n">b_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;Xiaoming&#39;</span><span class="p">,</span><span class="s1">&#39;age&#39;</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span><span class="s1">&#39;province&#39;</span><span class="p">:</span><span class="s1">&#39;shanxi&#39;</span><span class="p">}</span>
<span class="lineno">26 </span><span class="k">print</span> <span class="s1">&#39;my name is {name}, age is {age},from {province}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">b_dict</span><span class="p">)</span>
<span class="lineno">27 </span><span class="c1">#my name is Xiaoming, age is 20,from shanxi</span>
<span class="lineno">28 </span>
<span class="lineno">29 </span><span class="c1">#填充与对齐</span>
<span class="lineno">30 </span><span class="k">print</span> <span class="s1">&#39;{:&gt;8}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;189&#39;</span><span class="p">)</span>  <span class="c1"># 左对齐，默认空格填充</span>
<span class="lineno">31 </span><span class="c1">#     189</span>
<span class="lineno">32 </span><span class="k">print</span> <span class="s1">&#39;{:0&gt;8}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;189&#39;</span><span class="p">)</span>  <span class="c1"># 左对齐，0填充</span>
<span class="lineno">33 </span><span class="c1">#00000189</span>
<span class="lineno">34 </span><span class="k">print</span> <span class="s1">&#39;{:a&gt;8}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;189&#39;</span><span class="p">)</span>
<span class="lineno">35 </span><span class="c1">#aaaaa189</span>
<span class="lineno">36 </span><span class="k">print</span> <span class="s1">&#39;{:x&lt;4}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;10&#39;</span><span class="p">)</span>  <span class="c1"># 右对齐，x填充</span>
<span class="lineno">37 </span><span class="c1">#10xx</span>
<span class="lineno">38 </span>
<span class="lineno">39 </span><span class="c1">#精度与类型f</span>
<span class="lineno">40 </span><span class="c1">#保留两位小数</span>
<span class="lineno">41 </span><span class="k">print</span> <span class="s1">&#39;{:.2f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">321.33345</span><span class="p">)</span>
<span class="lineno">42 </span><span class="c1">#321.33</span>
<span class="lineno">43 </span>
<span class="lineno">44 </span><span class="c1">#用来做金额的千位分隔符</span>
<span class="lineno">45 </span><span class="k">print</span> <span class="s1">&#39;{:,}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">1234567890</span><span class="p">)</span>
<span class="lineno">46 </span><span class="c1">#1,234,567,890</span>
<span class="lineno">47 </span>
<span class="lineno">48 </span><span class="c1">#其他类型 主要就是进制了，b、d、o、x分别是二进制、十进制、八进制、十六进制。</span>
<span class="lineno">49 </span><span class="k">print</span> <span class="s1">&#39;{:b}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span> <span class="c1">#二进制 10010</span>
<span class="lineno">50 </span><span class="k">print</span> <span class="s1">&#39;{:d}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span> <span class="c1">#十进制 18</span>
<span class="lineno">51 </span><span class="k">print</span> <span class="s1">&#39;{:o}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span> <span class="c1">#八进制 22</span>
<span class="lineno">52 </span><span class="k">print</span> <span class="s1">&#39;{:x}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span> <span class="c1">#十六进制12</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              16/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-17">
          <div class="inner">
            
            <header><h2>字符串</h2></header>
            
            
            <section><h3>转义序列</h3>
<p>想象一下，如果你希望生成一串包含单引号（<code>'</code>）的字符串，你应该如何指定这串字符串？例如，你想要的字符串是 <code>"What's your name?"</code>。</p>
<p>可以通过 <em>转义序列（Escape Sequence）</em> 来实现。<mark>通过 <code>\</code> 来指定单引号，将字符串指定为 <code>'What\'s your name?'</code></mark>。</p>
<p>如果你想指定一串双行字符串该怎么办？一种方式即使用如前所述的三引号字符串，下面是一个使用'\n'例子：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="s1">&#39;This is the first line</span><span class="se">\n</span><span class="s1">This is the second line&#39;</span>
</pre></div>

<p>还有一件需要的事情，在一个字符串中，一个放置在末尾的反斜杠表示字符串将在下一行继续，属于同一个 <em>逻辑行</em> 。来看看例子：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="s2">&quot;This is the first sentence. </span><span class="se">\</span>
<span class="lineno">2 </span><span class="s2">This is the second sentence.&quot;</span>
</pre></div>

<p>相当于</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="s2">&quot;This is the first sentence. This is the second sentence.&quot;</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              17/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-18">
          <div class="inner">
            
            <header><h2>字符串</h2></header>
            
            
            <section><h3>原始字符串</h3>
<p>在字符串前增加 <code>r</code> 或 <code>R</code> 来指定一个 <em><mark>原始（Raw）</mark></em> 字符串 。下面是一个例子：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="sa">r</span><span class="s2">&quot;Newlines are indicated by \n&quot;</span>
</pre></div>

<blockquote>
<p><strong>针对正则表达式用户的提示</strong></p>
<p>在处理正则表达式时应全程使用原始字符串。举例说明的话，反向引用可以通过 <code>'\\1'</code> 或 <code>r'\1'</code> 来实现。</p>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              18/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide slide-19">
          <div class="inner">
            
            <header><h2>变量</h2></header>
            
            
            <section><p><em>变量（Variables）</em> ，正如其名字所述那般，<mark>变量的值是可以变化的，也就是说，你可以用变量来存储任何东西。</mark>变量只是你的计算机内存中用以存储信息的一部分。访问这些变量你需要为它们命名。</p>
<h2>标识符命名</h2>
<p>变量是标识符的一个例子。 <em>标识符（Identifiers）</em> 是为 <em>某些东西</em> 提供的给定名称。在命名标识符时，需要遵守以下规则：</p>
<ul>
<li>第一个字符必须是字母表中的<mark>字母</mark>（大写 ASCII 字符或小写 ASCII 字符或 Unicode 字符）或<mark>下划线</mark>（<code>_</code>）。</li>
<li>标识符的其它部分可以由<mark>字符</mark>（大写 ASCII 字符或小写 ASCII 字符或 Unicode 字符）、<mark/>下划线</mark>（<code>_</code>）、<mark>数字</mark>（0~9）组成。</li>
<li>标识符名称<mark>区分大小写</mark>。例如，<code>myname</code> 和 <code>myName</code> 并 <em>不</em> 等同。要注意到前者是小写字母 <code>n</code> 而后者是大写字母 <code>N</code>。</li>
<li><em>有效</em> 的标识符名称举例 <code>i</code> 或 <code>name_2_3</code> ， <em>无效</em> 的标识符名称举例 <code>2things</code>，<code>this is spaced out</code>，<code>my-name</code> 和 <code>&gt;a1b2_c3</code>。</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              19/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide slide-20">
          <div class="inner">
            
            <header><h2>数据类型</h2></header>
            
            
            <section><p>变量可以将各种形式的值保存为不同的 <em>数据类型（Data Type）</em> 。基本的类型是我们已经讨论过的数字与字符串。在后面的章节中，我们会了解如何通过 <em>类（Classes）</em> 创建我们自己的类型。</p>
<h2>对象</h2>
<p>需要记住的是，Python 将程序中的任何内容统称为 <em>对象（Object）</em> 。</p>
<blockquote>
<p><strong>针对面向对象编程语言用户的提示：</strong></p>
<p>Python 是强（Strongly）面向对象的，因为所有的<mark>一切都是对象</mark>， 包括数字、字符串与函数。</p>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              20/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-21">
          <div class="inner">
            
            <header><h2>如何编写 Python 程序</h2></header>
            
            
            <section><h3>案例：使用变量与字面常量</h3>
<p>输入并运行以下程序：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="c1"># 文件名：var.py</span>
<span class="lineno">2 </span><span class="n">i</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># Python中变量只需被赋予某一值。不需要声明或定义数据类型。</span>
<span class="lineno">3 </span><span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="lineno">4 </span><span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
<span class="lineno">5 </span><span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="lineno">6 </span>
<span class="lineno">7 </span><span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;This is a multi-line string.</span>
<span class="lineno">8 </span><span class="s1">This is the second line.&#39;&#39;&#39;</span>
<span class="lineno">9 </span><span class="k">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
5<br>
6<br>
This is a multi-line string.<br>
This is the second line.
</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              21/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-22">
          <div class="inner">
            
            <header><h2>逻辑行与物理行</h2></header>
            
            
            <section><p>所谓物理行（Physical Line）是你在编写程序时 <em>你所看到</em> 的内容。所谓逻辑行（Logical Line）是 <em>Python 所看到</em> 的单个语句。Python 会假定每一 <em>物理行</em> 会对应一个 <em>逻辑行</em> 。</p>
<p>Python 鼓励每一行使用一句独立语句从而使得代码更加可读。</p>
<p>如果希望在一行物理行中指定多行逻辑行，那么你必须通过使用分号(<code>;</code>)来明确表明逻辑行或语句的结束。下面是一个例子：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="n">i</span> <span class="o">=</span> <span class="mi">5</span>
<span class="lineno">2 </span><span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>

<p>实际上等同于</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="n">i</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="lineno">2 </span><span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
</pre></div>

<p>同样可以看作</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="n">i</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span> <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
</pre></div>

<blockquote>
<p><strong>强烈建议：</strong> 每一行物理行最多只写入一行逻辑行 ，不使用分号。</p>
</blockquote>
<h3>显式行连接与隐式行连接</h3>
<p>在一类情况下这一方法会颇为有用：如果你有一行非常长的代码，你可以通过使用反斜杠将其拆分成多个物理行。这被称作 <em>显式行连接（Explicit Line Joining）</em> ：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;This is a string. </span><span class="se">\</span>
<span class="lineno">2 </span><span class="s1">This continues the string.&#39;</span>
<span class="lineno">3 </span><span class="k">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>

<p>输出：</p>
<pre><code>This is a string. This continues the string.
</code></pre>
<p>在某些情况下，会存在一个隐含的假设，允许你不使用反斜杠。这一情况即逻辑行以括号开始，它可以是方括号或花括号，但不能是右括号。这被称作 <em>隐式行连接（Implicit Line Joining）</em> 。你可以在后面讨论 <em>列表（List）</em> 时了解这一点。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              22/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-23">
          <div class="inner">
            
            <header><h2>缩进</h2></header>
            
            
            <section><p>各行开头的空白区被称作 <em>缩进（Indentation）</em> 。<mark>在逻辑行的开头留下空白区（使用空格或制表符）用以确定各逻辑行的缩进级别</mark>。</p>
<p>放置在一起的语句 <em>必须</em> 拥有相同的缩进。每一组这样的语句被称为 <em>块（block）</em> 。</p>
<p>下面是错误缩进导致错误的例子：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="n">i</span> <span class="o">=</span> <span class="mi">5</span>
<span class="lineno">2 </span><span class="c1"># 下面将发生错误，注意行首有一个空格</span>
<span class="lineno">3 </span> <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Value is&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
<span class="lineno">4 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;I repeat, the value is&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
</pre></div>

<p>当你运行这一程序时，你将得到如下错误：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span>  <span class="n">File</span> <span class="s2">&quot;whitespace.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">3</span>
<span class="lineno">2 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Value is&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
<span class="lineno">3 </span>    <span class="o">^</span>
<span class="lineno">4 </span><span class="ne">IndentationError</span><span class="p">:</span> <span class="n">unexpected</span> <span class="n">indent</span>
</pre></div>

<blockquote>
<p><strong>如何缩进</strong></p>
<p>使用四个空格来缩进。这是来自 Python 语言官方的建议。</p>
<p><strong>针对静态编程语言程序员的提示</strong></p>
<p>Python 将始终对块使用缩进，并且绝不会使用大括号。可以通过运行 <code>from __future__ import braces</code> 来了解更多信息。</p>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              23/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-24">
          <div class="inner">
            
            <header><h1>运算符与表达式</h1></header>
            
            
            <section><p>你所编写的大多数语句（逻辑行）都包含了 <em>表达式（Expressions）</em> 。一个表达式的简单例子便是 <code>2+3</code>。表达式可以拆分成运算符（Operators）与操作数（Operands）。</p>
<p><em>运算符（Operators）</em> 是进行某些操作，并且可以用诸如 <code>+</code> 等符号或特殊关键词加以表达的功能。运算符需要一些数据来进行操作，这些数据就被称作 <em>操作数（Operands）</em> 。在上面的例子中 <code>2</code> 和 <code>3</code> 就是操作数。</p>
<h2>运算符</h2>
<p>各类运算符及它们的用法</p>
<p>可以直接使用交互式 Python 解释器：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span>
<span class="lineno">2 </span><span class="mi">5</span>
<span class="lineno">3 </span><span class="o">&gt;&gt;&gt;</span> <span class="mi">3</span> <span class="o">*</span> <span class="mi">5</span>
<span class="lineno">4 </span><span class="mi">15</span>
<span class="lineno">5 </span><span class="o">&gt;&gt;&gt;</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              24/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide slide-25">
          <div class="inner">
            
            <header><h2>常用运算符</h2></header>
            
            
            <section><pre><code>+（加）
    两个对象相加。
    3+5 则输出 8。'a' + 'b' 则输出 'ab'。
-（减）
    从一个数中减去另一个数，如果第一个操作数不存在，则假定为零。
    -5.2 将输出一个负数，50 - 24 输出 26。
*（乘）
    给出两个数的乘积，或返回字符串重复指定次数后的结果。
    2 * 3 输出 6。'la' * 3 输出 'lalala'。
** （乘方）
    返回 x 的 y 次方。
    3 ** 4 输出 81 （即 3 * 3 * 3 * 3）。
/ （除）
    x 除以 y
    13 / 3 输出 4.333333333333333。
// （整除）
    x 除以 y 并对结果向下取整至最接近的整数。
    13 // 3 输出 4。
    -13 // 3 输出 -5。
% （取模）
    返回除法运算后的余数。
    13 % 3 输出 1。-25.5 % 2.25 输出 1.5。
&lt;&lt; （左移）
    将数字的位向左移动指定的位数。（每个数字在内存中以二进制数表示，即 0 和1）
    2 &lt;&lt; 2 输出 8。 2 用二进制数表示为 10。
    向左移 2 位会得到 1000 这一结果，表示十进制中的 8。
&gt;&gt; （右移）
    将数字的位向右移动指定的位数。
    11 &gt;&gt; 1 输出 5。
    11 在二进制中表示为 1011，右移一位后输出 101 这一结果，表示十进制中的 5。
&amp; （按位与）
    对数字进行按位与操作。1
    5 &amp; 3 输出 1。
| （按位或）
    对数字进行按位或操作。2
    5 | 3 输出 7。
^（按位异或）
    对数字进行按位异或操作。3
    5 ^ 3 输出 6。
~ （按位取反）4
    x 的按位取反结果为 -(x+1)。
    ~5 输出 -6。有关本例的更多细节可以参阅：http://stackoverflow.com/a/11810203 。
&lt; （小于）
    返回 x 是否小于 y。所有的比较运算符返回的结果均为 True 或 False。请注意这些名称之中的大写字母。
    5 &lt; 3 输出 False，3 &lt; 6 输出 True。
    比较可以任意组成组成链接：3 &lt; 5 &lt; 7 返回 True。
&gt; （大于）
    返回 x 是否大于 y。
    5 &gt; 3 返回 True。如果两个操作数均为数字，它们首先将会被转换至一种共同的类型。否则，它将总是返回 False。
&lt;= （小于等于）
    返回 x 是否小于或等于 y。
    x = 3; y = 6; x&lt;=y 返回 True。
&gt;= （大于等于）
    返回 x 是否大于或等于 y。
    x = 4; y = 3; x&gt;=3 返回 True。
== （等于）
    比较两个对象是否相等。
    x = 2; y = 2; x == y 返回 True。
    x = 'str'; y = 'stR'; x == y 返回 False。
    x = 'str'; y = 'str'; x == y 返回 True。
!= （不等于）
    比较两个对象是否不相等。
    x = 2; y = 3; x != y 返回 True。
not （布尔“非”）5
    如果 x 是 True，则返回 False。如果 x 是 False，则返回 True。
    x = True; not x 返回 False。
and （布尔“与”）6
    如果 x 是 False，则 x and y 返回 False，否则返回 y 的计算值。
    当 x 是 False 时，x = False; y = True; x and y 将返回 False。在这一情境中，Python 将不会计算 y，因为它已经了解 and 表达式的左侧是 False，这意味着整个表达式都将是 False 而不会是别的值。这种情况被称作短路计算（Short-circuit Evaluation）。
or（布尔“或”）7
    如果 x 是 True，则返回 True，否则它将返回 y 的计算值。
    x = Ture; y = False; x or y 将返回 Ture。在这里短路计算同样适用。
</code></pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              25/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-26">
          <div class="inner">
            
            <header><h2>数值运算与赋值的快捷方式</h2></header>
            
            
            <section><p>一种比较常见的操作是对一个变量进行一项数学运算并将运算得出的结果返回给这个变量，因此对于这类运算通常有如下的快捷表达方式：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>
<span class="lineno">2 </span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span> <span class="o">*</span> <span class="mi">3</span>
</pre></div>

<p>同样也可写作：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>
<span class="lineno">2 </span><span class="n">a</span> <span class="o">*=</span> <span class="mi">3</span>
</pre></div>

<p>要注意到 <code>变量 = 变量 运算 表达式</code> 会演变成 <code>变量 运算 = 表达式</code>。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              26/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide slide-27">
          <div class="inner">
            
            <header><h2>求值顺序</h2></header>
            
            
            <section><p>Python运算符与表达式求值顺序与数学知识基本一致：</p>
<ul>
<li>数学知识告诉我们乘法运算符的优先级要高于加法运算符</li>
<li>优先级相同的，遵循从左到右的结合性</li>
<li>适当使用括号让表达式更易读也可以改变求值顺序</li>
</ul>
<p>下面是Python 中从最低优先级到最高优先级的优先级表。Python 将优先计算表中较高优先级的运算符与表达式:</p>
<pre><code>lambda：Lambda 表达式
if - else ：条件表达式
or：布尔“或”
and：布尔“与”
not x：布尔“非”
in, not in, is, is not, &lt;, &lt;=, &gt;, &gt;=, !=, ==：比较，包括成员资格测试（Membership Tests）和身份测试（Identity Tests）。
|：按位或
^：按位异或
&amp;：按位与
&lt;&lt;, &gt;&gt;：移动
+, -：加与减
*, /, //, %：乘、除、整除、取余
+x, -x, ~x：正、负、按位取反
**：求幂
x[index], x[index:index], x(arguments...), x.attribute：下标、切片、调用、属性引用
(expressions...), [expressions...], {key: value...}, {expressions...}：表示绑定或元组、表示列表、表示字典、表示集合
</code></pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              27/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-28">
          <div class="inner">
            
            <header><h2>表达式</h2></header>
            
            
            <section><p>案例（将其保存为 <code>expression.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="n">length</span> <span class="o">=</span> <span class="mi">5</span>
<span class="lineno">2 </span><span class="n">breadth</span> <span class="o">=</span> <span class="mi">2</span>
<span class="lineno">3 </span>
<span class="lineno">4 </span><span class="n">area</span> <span class="o">=</span> <span class="n">length</span> <span class="o">*</span> <span class="n">breadth</span>
<span class="lineno">5 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Area is&#39;</span><span class="p">,</span> <span class="n">area</span><span class="p">)</span>
<span class="lineno">6 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Perimeter is&#39;</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">length</span> <span class="o">+</span> <span class="n">breadth</span><span class="p">))</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python expression.py<br>
Area is 10<br>
Perimeter is 14
</p>

<p><strong>它是如何工作的</strong></p>
<p>矩形的长度（Length）与宽度（Breadth）存储在以各自名称命名的变量中。我们使用它们并借助表达式来计算矩形的面积（Area）与周长（Perimeter）。我们将表达式 <code>length * breadth</code> 的结果存储在变量 <code>area</code> 中并将其通过使用 <code>print</code> 函数打印出来。在第二种情况中，我们直接在 <code>print</code> 函数中使用了表达式 <code>2 * (length + breadth)</code> 的值。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              28/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_notes slide-29">
          <div class="inner">
            
            <header><h1>控制流</h1></header>
            
            
            <section><p class="notes">在前面的学习中， Python 总是忠实地从上到下执行。如果你想改变这一工作流程，应该怎么做？就像这样的情况：你需要程序作出一些决定，并依据不同的情况去完成不同的事情，例如依据每天时间的不同打印出 '早上好' 'Good Morning' 或 '晚上好' 'Good Evening'？</p>
<p class="notes">正如你可能已经猜测到的那番，这是通过控制流语句来实现的。</p>
<p>在 Python 中有三种控制流语句——<code>if</code> <code>for</code> 和 <code>while</code>。</p>
<blockquote>
<p><strong>针对 C/C++ 程序员的提示</strong></p>
<p>Python 中不存在 <code>switch</code> 语句。你可以通过使用 <code>if..elif..else</code> 语句来实现同样的事情。</p>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              29/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-30">
          <div class="inner">
            
            <header><h2><code>if</code> 语句</h2></header>
            
            
            <section><p><code>if</code> 语句用以检查条件： <em>如果</em> 条件为真（True），我们将运行一块语句（称作 <em>if-block</em> 或 <em>if 块</em> ）， <em>否则</em> 我们将运行另一块语句（称作 <em>else-block</em> 或 <em>else 块</em> ）。其中 <em>else</em> 从句是可选的。</p>
<p>案例（保存为 <code>if.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="n">number</span> <span class="o">=</span> <span class="mi">23</span>
<span class="lineno"> 2 </span><span class="n">guess</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Enter an integer : &#39;</span><span class="p">))</span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span><span class="k">if</span> <span class="n">guess</span> <span class="o">==</span> <span class="n">number</span><span class="p">:</span>
<span class="lineno"> 5 </span>    <span class="c1"># 新块从这里开始</span>
<span class="lineno"> 6 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Congratulations, you guessed it.&#39;</span><span class="p">)</span>
<span class="lineno"> 7 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;(but you do not win any prizes!)&#39;</span><span class="p">)</span>
<span class="lineno"> 8 </span>    <span class="c1"># 新块在这里结束</span>
<span class="lineno"> 9 </span><span class="k">elif</span> <span class="n">guess</span> <span class="o">&lt;</span> <span class="n">number</span><span class="p">:</span>
<span class="lineno">10 </span>    <span class="c1"># 另一代码块</span>
<span class="lineno">11 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;No, it is a little higher than that&#39;</span><span class="p">)</span>
<span class="lineno">12 </span>    <span class="c1"># 你可以在此做任何你希望在该代码块内进行的事情</span>
<span class="lineno">13 </span><span class="k">else</span><span class="p">:</span>
<span class="lineno">14 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;No, it is a little lower than that&#39;</span><span class="p">)</span>
<span class="lineno">15 </span>    <span class="c1"># 你必须通过猜测一个大于（&gt;）设置数的数字来到达这里。</span>
<span class="lineno">16 </span>
<span class="lineno">17 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Done&#39;</span><span class="p">)</span>
<span class="lineno">18 </span><span class="c1"># 这最后一句语句将在</span>
<span class="lineno">19 </span><span class="c1"># if 语句执行完毕后执行。</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python if.py<br>
Enter an integer : 50<br>
No, it is a little lower than that<br>
Done<br>
<br>
$ python if.py<br>
Enter an integer : 22<br>
No, it is a little higher than that<br>
Done<br>
<br>
$ python if.py<br>
Enter an integer : 23<br>
Congratulations, you guessed it.<br>
(but you do not win any prizes!)<br>
Done<br>
</p>

<p><strong>它是如何工作的</strong></p>
<p>在这个程序中，我们根据用户猜测的数字来检查这一数字是否是我们所设置的。我们将变量 <code>number</code> 设为任何我们所希望的整数，例如 <code>23</code>。然后，我们通过 <code>input()</code> 函数来获取用户的猜测数。所谓函数是一种可重复使用的程序。我们将在<a href="10.functions.html#functions">下一章</a>详细讨论它。</p>
<p>我们为内置的 <code>input</code> 函数提供一串打印到屏幕上的字符串并等待用户的输入。一旦我们输入了某些内容并按下键盘上的 <code>enter</code> 键，<code>input()</code> 函数将以字符串的形式返回我们所输入的内容。然后我们通过 <code>int</code> 将这个字符串转换成一个整数并将其储存在变量 <code>guess</code> 中。实际上，<code>int</code> 是一个类（Class），但你现在你所需要知道的就是你可以使用它将一串字符串转换成一个整数（假设这个字符串的文本中含有一个有效的整数）。</p>
<p>接下来，我们将用户提供的猜测数与我们所选择的数字进行对比。如果它们相等，我们就打印一条成功信息。在这里要注意到我们使用缩进级别来告诉 Python 哪些语句分别属于哪个块。这便是为什么在 Python 中缩进如此重要。我希望你能够坚持“缩进一致”的原则，你能做到吧？</p>
<p>另外需要注意的是 <code>if</code> 语句在结尾处包含一个冒号——我们借此向 Python 指定接下来会有一块语句在后头。</p>
<p>然后，我们检查猜测数是否小于我们选择的数字，如果是，我们将告诉用户他们必须猜一个更高一些的数字。在这里我们使用的是 <code>elif</code> 语句，它们实际上将两个相连的 <code>if else-if else</code> 语句合并成一句 <code>if-elif-else</code> 语句。这能够使程序更加简便，并且可以减少所需要的缩进量。</p>
<p><code>elif</code> 和 <code>else</code> 同样都必须有一个冒号在其逻辑行的末尾，后面跟着与它们相应的语句块（当然，别忘了恰当的缩进）。</p>
<p>你可以在 if 块的 一个 <code>if</code> 语句中设置另一个 <code>if</code> 语句，并可以如此进行下去——这被称作嵌套的 <code>if</code> 语句。</p>
<p>要记住 <code>elif</code> 和 <code>else</code> 部分都是可选的。一个最小规模且有效的 <code>if</code> 语句是这样的：</p>
<pre><code>if True:
    print('Yes, it is true')
</code></pre>
<p>当 Python 完整执行了 <code>if</code> 语句及与其相关的 <code>elif</code> 和 <code>else</code> 子句后，它将会移动至包含 <code>if</code> 语句的代码块的下一句语句中。在本例中，也就是主代码块（程序开始执行的地方），其下一句语句就是 <code>print('Done')</code> 语句。在完成这些工作后，Python 会发现已行至程序末尾并宣告工作的完成。</p>
<p>尽管这是一个非常简单的程序，我也一直在其中指出你应该注意的事情。所有的这些都可算是简单易懂（对于那些具有 C/C++ 背景的人来说是相当简单易懂）。不过在开始时它们还是可能会不断吸引你的注意，不断地去在意它们。但经过一些更丰富的操作后你就会习惯它们及其中的逻辑，它们对于你来说将会成为“自然而然”的事情。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              30/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-31">
          <div class="inner">
            
            <header><h2><code>while</code> 语句</h2></header>
            
            
            <section><p><code>while</code> 语句能够让你在条件为真的前提下重复执行某块语句。 <code>while</code> 语句是 <em>循环（Looping）</em> 语句的一种。<code>while</code> 语句同样可以拥有 <code>else</code> 子句作为可选选项。</p>
<p>案例（保存为 <code>while.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="n">number</span> <span class="o">=</span> <span class="mi">23</span>
<span class="lineno"> 2 </span><span class="n">running</span> <span class="o">=</span> <span class="bp">True</span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span><span class="k">while</span> <span class="n">running</span><span class="p">:</span>
<span class="lineno"> 5 </span>    <span class="n">guess</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Enter an integer : &#39;</span><span class="p">))</span>
<span class="lineno"> 6 </span>
<span class="lineno"> 7 </span>    <span class="k">if</span> <span class="n">guess</span> <span class="o">==</span> <span class="n">number</span><span class="p">:</span>
<span class="lineno"> 8 </span>        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Congratulations, you guessed it.&#39;</span><span class="p">)</span>
<span class="lineno"> 9 </span>        <span class="c1"># 这将导致 while 循环中止</span>
<span class="lineno">10 </span>        <span class="n">running</span> <span class="o">=</span> <span class="bp">False</span>
<span class="lineno">11 </span>    <span class="k">elif</span> <span class="n">guess</span> <span class="o">&lt;</span> <span class="n">number</span><span class="p">:</span>
<span class="lineno">12 </span>        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;No, it is a little higher than that.&#39;</span><span class="p">)</span>
<span class="lineno">13 </span>    <span class="k">else</span><span class="p">:</span>
<span class="lineno">14 </span>        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;No, it is a little lower than that.&#39;</span><span class="p">)</span>
<span class="lineno">15 </span><span class="k">else</span><span class="p">:</span>
<span class="lineno">16 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;The while loop is over.&#39;</span><span class="p">)</span>
<span class="lineno">17 </span>    <span class="c1"># 在这里你可以做你想做的任何事</span>
<span class="lineno">18 </span>
<span class="lineno">19 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Done&#39;</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python while.py<br>
Enter an integer : 50<br>
No, it is a little lower than that.<br>
Enter an integer : 22<br>
No, it is a little higher than that.<br>
Enter an integer : 23<br>
Congratulations, you guessed it.<br>
The while loop is over.<br>
Done
</p>

<p><strong>它是如何工作的</strong></p>
<p>在这一程序中，我们依旧通过猜数游戏来演示，不过新程序的优点在于能够允许用户持续猜测直至他猜中为止——而无需像我们在上一节中所做的那样，每次猜测都要重新运行程序。这种变化恰到好处地演示了 <code>while</code> 语句的作用。</p>
<p>首先我们将 <code>input</code> 与 <code>if</code> 语句移到 <code>while</code> 循环之中，并在 while 循环开始前将变量 <code>running</code> 设置为 <code>True</code>。程序开始时，我们首先检查变量 <code>running</code> 是否为 <code>True</code>，之后再执行相应的 <em>while 块</em> 。在这一代码块被执行之后，将会重新对条件进行检查，在本例中也就是 <code>running</code> 变量。如果它依旧为 <code>True</code>，我们将再次执行 while 块，否则我们将继续执行可选的 else 块，然后进入到下一个语句中。</p>
<p><code>else</code> 代码块在 <code>while</code> 循环的条件变为 <code>False</code> 时开始执行——这个开始的时机甚至可能是在第一次检查条件的时候。如果 <code>while</code> 循环中存在一个 <code>else</code> 代码块，它将总是被执行，除非你通过 <code>break</code> 语句来中断这一循环。</p>
<p><code>True</code> 和 <code>False</code> 被称作布尔（Boolean）型，你可以将它们分别等价地视为 <code>1</code> 与 <code>0</code>。</p>
<blockquote>
<p><strong>针对 C/C++ 程序员的提示</strong></p>
<p>你可以在 <code>while</code> 循环中使用 <code>else</code> 从句。</p>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              31/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-32">
          <div class="inner">
            
            <header><h2><code>for</code> 循环</h2></header>
            
            
            <section><p><code>for...in</code> 语句是另一种循环语句，其特点是会在一系列对象上进行 <em>迭代（Iterates）</em> ，意即它会遍历序列中的每一个项目。我们将在后面的<a href="12.data_structures.html#sequence">序列（Sequences）</a>章节中了解有关它的更多内容。现在你所需要的就是所谓队列就是一系列项目的有序集合。</p>
<p>案例（保存为 <code>for.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
<span class="lineno">2 </span>    <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="lineno">3 </span><span class="k">else</span><span class="p">:</span>
<span class="lineno">4 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;The for loop is over&#39;</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python for.py<br>
1<br>
2<br>
3<br>
4<br>
The for loop is over
</p>

<p><strong>它是如何工作的</strong></p>
<p>在这一程序中，我们打印了一个数字 <em>序列</em> 。我们通过内置的 <code>range</code> 函数生成这一数字序列。</p>
<p>在这里我们所要做的事情是提供两个数字，而 <code>range</code> 将会返回一个数字序列，从第一个数字开始，至第二个数字结束。举个例子，<code>range(1,5)</code> 将输出序列 <code>[1, 2, 3, 4]</code>。在默认情况下，<code>range</code> 将会以 1 逐步递增。如果我们向 <code>range</code> 提供第三个数字，则这个数字将成为逐步递增的加数。同样举个例子来说明，<code>range(1,5,2)</code> 将会输出 <code>[1, 3]</code>。要记住这一序列扩展 <em>直到</em> 第二个数字，也就是说，它 <em>不会</em> 包括第二个数字在内。</p>
<p>另外需要注意的是，<code>range()</code> 每次只会生成一个数字，如果你希望获得完整的数字列表，要在使用 <code>range()</code> 时调用 <code>list()</code>。例如下面这样：<code>list(range(5))</code> ，它将会返回 <code>[0, 1, 2, 3, 4]</code>。有关列表的详细解释将会在 <a href="12.data_structures.html#data-structures">《数据结构》一章</a>呈现。</p>
<p>然后 <code>for</code> 循环就会在这一范围内展开递归——<code>for i in range(1,5)</code> 等价于 <code>for i in [1, 2, 3, 4]</code>，这个操作将依次将队列里的每个数字（或是对象）分配给 <code>i</code>，一次一个，然后以每个 <code>i</code> 的值执行语句块。在本例中，我们这一语句块所做的就是打印出这些值。</p>
<p>同样要记住，<code>else</code> 部分是可选的。当循环中包含他时，它总会在 <code>for</code> 循环结束后开始执行，除非程序遇到了 break 语句。</p>
<p>另一个需要注意的地方是 <code>for...in</code> 能在任何队列中工作。在这里，我们有的是通过内置的 <code>range</code> 函数生成的一串数字列表，但总体来说我们可以包含任何类型对象的队列！我们将会在后面的章节详细解释这一观念。</p>
<blockquote>
<p><strong>针对 C/C++/Java/C# 程序员的提示</strong></p>
<p>Python 中的 <code>for</code> 循环和 C/C++ 中的 <code>for</code> 循环可以说是完全不同。C# 程序员会注意到 Python 中的 <code>for</code> 循环与 C# 中的 <code>foreach</code> 循环相似。Java 程序员则会注意到它同样与 Java 1.5 中的 <code>for (int i : IntArray)</code> 无甚区别。</p>
<p>在 C/C++ 中，如果你希望编写 <code>for (int i = 0; i &lt; 5; i++)</code>，那么在 Python 你只需要写下 <code>for i in range(0,5)</code>。正如你所看到的，Python 中的 <code>for</code> 循环将更加简单，更具表现力且更不容易出错。</p>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              32/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-33">
          <div class="inner">
            
            <header><h2><code>break</code> 语句</h2></header>
            
            
            <section><p><code>break</code> 语句用以 <em>中断</em> （Break）循环语句，也就是中止循环语句的执行，即使循环条件没有变更为 <code>False</code>，或队列中的项目尚未完全迭代依旧如此。</p>
<p>有一点需要尤其注意，如果你 <em>中断</em> 了一个 <code>for</code> 或 <code>while</code> 循环，任何相应循环中的 <code>else</code> 块都将 <em>不会</em> 被执行。</p>
<p>案例（保存为 <code>break.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
<span class="lineno">2 </span>    <span class="n">s</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Enter something : &#39;</span><span class="p">)</span>
<span class="lineno">3 </span>    <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="s1">&#39;quit&#39;</span><span class="p">:</span>
<span class="lineno">4 </span>        <span class="k">break</span>
<span class="lineno">5 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Length of the string is&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
<span class="lineno">6 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Done&#39;</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python break.py<br>
Enter something : Programming is fun<br>
Length of the string is 18<br>
Enter something : When the work is done<br>
Length of the string is 21<br>
Enter something : if you wanna make your work also fun:<br>
Length of the string is 37<br>
Enter something : use Python!<br>
Length of the string is 11<br>
Enter something : quit<br>
Done
</p>

<p><strong>它是如何工作的</strong></p>
<p>在本程序中，我们重复地接受用户的输入内容并打印出每一次输入内容的长度。我们通过检查用户输入的是否是 <code>quit</code> 这一特殊条件来判断是否应该终止程序。我们通过 <em>中断</em> 循环并转进至程序末尾来结束这一程序。</p>
<p>输入字符串的长度可以通过内置的 <code>len</code> 函数来找到。</p>
<p>记住，<code>break</code> 语句同样可以适用于 <code>for</code> 循环。</p>
<p><strong>Swaroop 的诗意 Python</strong></p>
<p>我所使用的输入内容是一首我所写的小诗：</p>
<pre><code>Programming is fun
When the work is done
if you wanna make your work also fun:
    use Python!
</code></pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              33/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-34">
          <div class="inner">
            
            <header><h2><code>continue</code> 语句</h2></header>
            
            
            <section><p><code>continue</code> 语句用以告诉 Python 跳过当前循环块中的剩余语句，并 <em>继续</em> 该循环的下一次迭代。</p>
<p>案例（保存为 <code>continue.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
<span class="lineno">2 </span>    <span class="n">s</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Enter something : &#39;</span><span class="p">)</span>
<span class="lineno">3 </span>    <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="s1">&#39;quit&#39;</span><span class="p">:</span>
<span class="lineno">4 </span>        <span class="k">break</span>
<span class="lineno">5 </span>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
<span class="lineno">6 </span>        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Too small&#39;</span><span class="p">)</span>
<span class="lineno">7 </span>        <span class="k">continue</span>
<span class="lineno">8 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Input is of sufficient length&#39;</span><span class="p">)</span>
<span class="lineno">9 </span>    <span class="c1"># 自此处起继续进行其它任何处理</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python continue.py<br>
Enter something : a<br>
Too small<br>
Enter something : 12<br>
Too small<br>
Enter something : abc<br>
Input is of sufficient length<br>
Enter something : quit
</p>

<p><strong>它是如何工作的</strong></p>
<p>在本程序中，我们接受来自用户的输入内容，但是只有在输入的字符串其长至少 3 字符我们才会对其进行处理。为此，我们使用内置的 <code>len</code> 函数和来获取字符串的长度，如果其长度小于 3，我们便通过使用 <code>continue</code> 语句跳过代码块中的其余语句。否则，循环中的剩余语句将被执行，并在此处进行我们所希望的任何类型的处理。</p>
<p>要注意 <code>continue</code> 语句同样能用于 <code>for</code> 循环。</p>
<h2>总结</h2>
<p>我们已经了解了三种控制流语句——<code>if</code>，<code>while</code> 和 <code>for</code> ——及其相关的 <code>break</code> 与 <code>continue</code> 语句是如何工作的。这些语句是 Python 中一些最常用的部分，因此，习惯去使用它们是必要的。</p>
<p>接下来，我们将了解如何创建并使用函数。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              34/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-35">
          <div class="inner">
            
            <header><h1>函数</h1></header>
            
            
            <section><h2>定义和调用</h2>
<p>函数（Functions）是指可重复使用的程序片段。它们允许你为某个代码块赋予名字，允许你通过这一特殊的名字在你的程序任何地方来运行代码块，并可重复任何次数。这就是所谓的 <em>调用（Calling）</em> 函数。</p>
<p>函数通过关键字 <code>def</code> 来定义。这一关键字后跟一个函数的 <em>标识符</em> 名称，再跟一对圆括号，其中可以包括一些变量的名称，再以冒号结尾，结束这一行。随后而来的语句块是函数的一部分。</p>
<p>案例（保存为 <code>function1.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="k">def</span> <span class="nf">say_hello</span><span class="p">():</span>
<span class="lineno">2 </span>    <span class="c1"># 该块属于这一函数</span>
<span class="lineno">3 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;hello world&#39;</span><span class="p">)</span>
<span class="lineno">4 </span><span class="c1"># 函数结束</span>
<span class="lineno">5 </span>
<span class="lineno">6 </span><span class="n">say_hello</span><span class="p">()</span>  <span class="c1"># 调用函数</span>
<span class="lineno">7 </span><span class="n">say_hello</span><span class="p">()</span>  <span class="c1"># 再次调用函数</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python function1.py<br>
hello world<br>
hello world
</p>

<p><strong>它是如何工作的</strong></p>
<p>我们以上文解释过的方式定义名为 <code>say_hello</code> 的函数。这个函数不使用参数，因此在括号中没有声明变量。函数的参数只是输入到函数之中，以便我可以传递不同的值给它，并获得相应的结果。</p>
<p>要注意到我们可以两次调用相同的函数，这意味着我们不必重新把代码再写一次。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              35/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-36">
          <div class="inner">
            
            <header><h2>函数参数</h2></header>
            
            
            <section><p>函数可以获取参数，这个参数的值由你所提供。这些参数与变量类似，这些变量的值在我们调用函数时已被定义，且在函数运行时均已赋值完成。</p>
<p>函数中的参数通过将其放置在用以定义函数的一对圆括号中指定，并通过逗号予以分隔。当我们调用函数时，我们以同样的形式提供需要的值。要注意在此使用的术语——在定义函数时给定的名称称作 <em>“形参”（Parameters）</em> ，在调用函数时你所提供给函数的值称作 <em>“实参”（Arguments）</em> 。</p>
<p>案例（保存为 <code>function_param.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="k">def</span> <span class="nf">print_max</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<span class="lineno"> 2 </span>    <span class="k">if</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span><span class="p">:</span>
<span class="lineno"> 3 </span>        <span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s1">&#39;is maximum&#39;</span><span class="p">)</span>
<span class="lineno"> 4 </span>    <span class="k">elif</span> <span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">:</span>
<span class="lineno"> 5 </span>        <span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s1">&#39;is equal to&#39;</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="lineno"> 6 </span>    <span class="k">else</span><span class="p">:</span>
<span class="lineno"> 7 </span>        <span class="k">print</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="s1">&#39;is maximum&#39;</span><span class="p">)</span>
<span class="lineno"> 8 </span>
<span class="lineno"> 9 </span><span class="c1"># 直接传递字面值</span>
<span class="lineno">10 </span><span class="n">print_max</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="lineno">11 </span>
<span class="lineno">12 </span><span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
<span class="lineno">13 </span><span class="n">y</span> <span class="o">=</span> <span class="mi">7</span>
<span class="lineno">14 </span>
<span class="lineno">15 </span><span class="c1"># 以参数的形式传递变量</span>
<span class="lineno">16 </span><span class="n">print_max</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python function_param.py<br>
4 is maximum<br>
7 is maximum
</p>

<p><strong>它是如何工作的</strong></p>
<p>在这里，我们将函数命名为 <code>print_max</code> 并使用两个参数分别称作 <code>a</code> 和 <code>b</code>。我们使用一个简单的 <code>if...else</code> 语句来找出更大的那个数，并将它打印出来。</p>
<p>第一次调用函数 <code>print_max</code> 时，我们以实参的形式直接向函数提供这一数字。在第二次调用时，我们将变量作为实参来调用函数。<code>print_max(x, y)</code> 将使得实参 <code>x</code> 的值将被赋值给形参 <code>a</code>，而实参 <code>y</code> 的值将被赋值给形参 <code>b</code>。在两次调用中，<code>print_max</code> 都以相同的方式工作。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              36/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-37">
          <div class="inner">
            
            <header><h2>作用域</h2></header>
            
            
            <section><h3>局部变量</h3>
<p>当你在一个函数的定义中声明变量时，它们不会以任何方式与身处函数之外但具有相同名称的变量产生关系，也就是说，这些变量名只存在于函数这一 <em>局部（Local）</em> 。这被称为变量的 <em>作用域（Scope）</em> 。所有变量的作用域是它们被定义的块，从定义它们的名字的定义点开始。</p>
<p>内置函数<code>locals()</code> 和<code>globals()</code>，提供了基于字典的访问局部和全局变量的方式。</p>
<p>案例（保存为 <code>function_local.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="n">x</span> <span class="o">=</span> <span class="mi">50</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="lineno"> 5 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;x is&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="lineno"> 6 </span>    <span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>
<span class="lineno"> 7 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Changed local x to&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="lineno"> 8 </span>
<span class="lineno"> 9 </span>
<span class="lineno">10 </span><span class="n">func</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="lineno">11 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;x is still&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python function_local.py<br>
x is 50<br>Changed local x to 2<br>
x is still 50
</p>

<p><strong>它是如何工作的</strong></p>
<p>当我们第一次打印出存在于函数块的第一行的名为 <code>x</code> 的值时，Python 使用的是在函数声明之上的主代码块中声明的这一参数的值。</p>
<p>接着，我们将值 <code>2</code> 赋值给 <code>x</code>。<code>x</code> 是我们这一函数的局部变量。因此，当我们改变函数中 <code>x</code> 的值的时候，主代码块中的 <code>x</code> 则不会受到影响。</p>
<p>随着最后一句 <code>print</code> 语句，我们展示出主代码块中定义的 <code>x</code> 的值，由此确认它实际上不受先前调用的函数中的局部变量的影响。</p>
<h3><code>global</code> 语句</h3>
<p>如果你想给一个在程序顶层的变量赋值（也就是说它不存在于任何作用域中，无论是函数还是类），那么你必须告诉 Python 这一变量并非局部的，而是 <em>全局（Global）</em> 的。我们需要通过 <code>global</code> 语句来完成这件事。因为在不使用 <code>global</code> 语句的情况下，不可能为一个定义于函数之外的变量赋值。</p>
<p>你可以使用定义于函数之外的变量的值（假设函数中没有具有相同名字的变量）。然而，这种方式不会受到鼓励而且应该避免，因为它对于程序的读者来说是含糊不清的，无法弄清楚变量的定义究竟在哪。而通过使用 <code>global</code> 语句便可清楚看出这一变量是在最外边的代码块中定义的。</p>
<p>案例（保存为 <code>function_global.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="n">x</span> <span class="o">=</span> <span class="mi">50</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span><span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
<span class="lineno"> 5 </span>    <span class="k">global</span> <span class="n">x</span>
<span class="lineno"> 6 </span>
<span class="lineno"> 7 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;x is&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="lineno"> 8 </span>    <span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>
<span class="lineno"> 9 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Changed global x to&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="lineno">10 </span>
<span class="lineno">11 </span>
<span class="lineno">12 </span><span class="n">func</span><span class="p">()</span>
<span class="lineno">13 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Value of x is&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python function_global.py<br>
x is 50<br>
Changed global x to 2<br>
Value of x is 2<br>
</p>

<p><strong>它是如何工作的</strong></p>
<p><code>global</code> 语句用以声明 <code>x</code> 是一个全局变量——因此，当我们在函数中为 <code>x</code> 进行赋值时，这一改动将影响到我们在主代码块中使用的 <code>x</code> 的值。</p>
<p>你可以在同一句 <code>global</code> 语句中指定不止一个的全局变量，例如 <code>global x, y, z</code>。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              37/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-38">
          <div class="inner">
            
            <header><h2>默认参数值</h2></header>
            
            
            <section><p>对于一些函数来说，你可能为希望使一些参数 <em>可选</em> 并使用默认的值，以避免用户不想为他们提供值的情况。默认参数值可以有效帮助解决这一情况。你可以通过在函数定义时附加一个赋值运算符（<code>=</code>）来为参数指定默认参数值。</p>
<p>要注意到，默认参数值应该是常数。更确切地说，默认参数值应该是不可变的——这将在后面的章节中予以更详细的解释。就目前来说，只要记住就行了。</p>
<p>案例（保存为 <code>function_default.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="k">def</span> <span class="nf">say</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">times</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="lineno">2 </span>    <span class="k">print</span><span class="p">(</span><span class="n">message</span> <span class="o">*</span> <span class="n">times</span><span class="p">)</span>
<span class="lineno">3 </span>
<span class="lineno">4 </span><span class="n">say</span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">)</span>
<span class="lineno">5 </span><span class="n">say</span><span class="p">(</span><span class="s1">&#39;World&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python function_default.py<br>
Hello<br>WorldWorldWorldWorldWorld
</p>

<p><strong>它是如何工作的</strong></p>
<p>名为 <code>say</code> 的函数用以按照给定的次数打印一串字符串。如果我们没有提供一个数值，则将按照默认设置，只打印一次字符串。我们通过为参数 <code>times</code> 指定默认参数值 <code>1</code> 来实现这一点。</p>
<p>在第一次使用 <code>say</code> 时，我们只提供字符串因而函数只会将这个字符串打印一次。在第二次使用 <code>say</code> 时，我们既提供了字符串，同时也提供了一个参数 <code>5</code>，声明我们希望 <em>说（Say）</em> 这个字符串五次。</p>
<blockquote>
<p><em>注意</em></p>
<p>只有那些位于参数列表末尾的参数才能被赋予默认参数值，意即在函数的参数列表中拥有默认参数值的参数不能位于没有默认参数值的参数之前。</p>
<p>这是因为值是按参数所处的位置依次分配的。举例来说，<code>def func(a, b=5)</code> 是有效的，但 <code>def func(a=5, b)</code> 是 <em>无效的</em> 。</p>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              38/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-39">
          <div class="inner">
            
            <header><h2>关键字参数</h2></header>
            
            
            <section><p>如果你有一些具有许多参数的函数，而你又希望只对其中的一些进行指定，那么你可以通过命名它们来给这些参数赋值——这就是 <em>关键字参数（Keyword Arguments）</em> ——我们使用命名（关键字）而非位置（一直以来我们所使用的方式）来指定函数中的参数。</p>
<p>这样做有两大优点——其一，我们不再需要考虑参数的顺序，函数的使用将更加容易。其二，我们可以只对那些我们希望赋予的参数以赋值，只要其它的参数都具有默认参数值。</p>
<p>案例（保存为 <code>function_keyword.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
<span class="lineno">2 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;a is&#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="s1">&#39;and b is&#39;</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="s1">&#39;and c is&#39;</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="lineno">3 </span>
<span class="lineno">4 </span><span class="n">func</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="lineno">5 </span><span class="n">func</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span>
<span class="lineno">6 </span><span class="n">func</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python function_keyword.py<br>
a is 3 and b is 7 and c is 10<br>
a is 25 and b is 5 and c is 24<br>
a is 100 and b is 5 and c is 50<br>
</p>

<p><strong>它是如何工作的</strong></p>
<p>名为 <code>func</code> 的函数有一个没有默认参数值的参数，后跟两个各自带有默认参数值的参数。</p>
<p>在第一次调用函数时，<code>func(3, 7)</code>，参数 <code>a</code> 获得了值 <code>3</code>，参数 <code>b</code> 获得了值 <code>7</code>，而 <code>c</code> 获得了默认参数值 <code>10</code>。</p>
<p>在第二次调用函数时，<code>func(25, c=24)</code>，由于其所处的位置，变量 <code>a</code> 首先获得了值 25。然后，由于命名——即关键字参数——指定，变量 <code>c</code> 获得了值 <code>24</code>。变量 <code>b</code> 获得默认参数值 <code>5</code>。</p>
<p>在第三次调用函数时，<code>func(c=50, a=100)</code>，我们全部使用关键字参数来指定值。在这里要注意到，尽管 <code>a</code> 在 <code>c</code> 之前定义，但我们还是在变量 <code>a</code> 之前指定了变量 <code>c</code>。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              39/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-40">
          <div class="inner">
            
            <header><h2>可变参数</h2></header>
            
            
            <section><p>有时你可能想定义的函数里面能够有 <em>任意</em> 数量的变量，也就是参数数量是可变的，这可以通过使用星号来实现（将下方案例保存为 <code>function_varargs.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="k">def</span> <span class="nf">total</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="o">*</span><span class="n">numbers</span><span class="p">,</span> <span class="o">**</span><span class="n">phonebook</span><span class="p">):</span>
<span class="lineno"> 2 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span>    <span class="c1">#遍历元组中的所有项目</span>
<span class="lineno"> 5 </span>    <span class="k">for</span> <span class="n">single_item</span> <span class="ow">in</span> <span class="n">numbers</span><span class="p">:</span>
<span class="lineno"> 6 </span>        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;single_item&#39;</span><span class="p">,</span> <span class="n">single_item</span><span class="p">)</span>
<span class="lineno"> 7 </span>
<span class="lineno"> 8 </span>    <span class="c1">#遍历字典中的所有项目</span>
<span class="lineno"> 9 </span>    <span class="k">for</span> <span class="n">first_part</span><span class="p">,</span> <span class="n">second_part</span> <span class="ow">in</span> <span class="n">phonebook</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<span class="lineno">10 </span>        <span class="k">print</span><span class="p">(</span><span class="n">first_part</span><span class="p">,</span><span class="n">second_part</span><span class="p">)</span>
<span class="lineno">11 </span>
<span class="lineno">12 </span><span class="k">print</span><span class="p">(</span><span class="n">total</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="n">Jack</span><span class="o">=</span><span class="mi">1123</span><span class="p">,</span><span class="n">John</span><span class="o">=</span><span class="mi">2231</span><span class="p">,</span><span class="n">Inge</span><span class="o">=</span><span class="mi">1560</span><span class="p">))</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
    $ python function_varargs.py<br>
    a 10<br>
    single_item 1<br>
    single_item 2<br>
    single_item 3<br>
    Inge 1560<br>
    John 2231<br>
    Jack 1123<br>
    None
</p>

<p><strong>它是如何工作的</strong></p>
<p>当我们声明一个诸如 <code>*param</code> 的星号参数时，从此处开始直到结束的所有位置参数（Positional Arguments）都将被收集并汇集成一个称为“param”的元组（Tuple）。</p>
<p>类似地，当我们声明一个诸如 <code>**param</code> 的双星号参数时，从此处开始直至结束的所有关键字参数都将被收集并汇集成一个名为 <code>param</code> 的字典（Dictionary）。</p>
<p>我们将在后面的章节探索有关元组与字典的更多内容。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              40/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-41">
          <div class="inner">
            
            <header><h2><code>return</code> 语句</h2></header>
            
            
            <section><p><code>return</code> 语句用于从函数中 <em>返回</em> ，也就是中断函数。我们也可以选择在中断函数时从函数中 <em>返回一个值</em> 。</p>
<p>案例（保存为 <code>function_return.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="k">def</span> <span class="nf">maximum</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="lineno">2 </span>    <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">:</span>
<span class="lineno">3 </span>        <span class="k">return</span> <span class="n">x</span>
<span class="lineno">4 </span>    <span class="k">elif</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">:</span>
<span class="lineno">5 </span>        <span class="k">return</span> <span class="s1">&#39;The numbers are equal&#39;</span>
<span class="lineno">6 </span>    <span class="k">else</span><span class="p">:</span>
<span class="lineno">7 </span>        <span class="k">return</span> <span class="n">y</span>
<span class="lineno">8 </span>
<span class="lineno">9 </span><span class="k">print</span><span class="p">(</span><span class="n">maximum</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python function_return.py<br>
3
</p>

<p><strong>它是如何工作的</strong></p>
<p><code>maximum</code> 函数将会返回参数中的最大值，在本例中是提供给函数的数值。它使用一套简单的 <code>if...else</code> 语句来找到较大的那个值并将其 <em>返回</em> 。</p>
<p>要注意到如果 <code>return</code> 语句没有搭配任何一个值则代表着 <code>返回 None</code>。<code>None</code> 在 Python 中一个特殊的类型，代表着虚无。举个例子， 它用于指示一个变量没有值，如果有值则它的值便是 <code>None（虚无）</code>。</p>
<p>每一个<mark>函数都在其末尾隐含了一句 <code>return None</code></mark>，除非你写了你自己的 <code>return</code> 语句。你可以运行 <code>print(some_function())</code>，其中 <code>some_function</code> 函数不使用 <code>return</code> 语句，就像这样：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="k">def</span> <span class="nf">some_function</span><span class="p">():</span>
<span class="lineno">2 </span>    <span class="k">pass</span>
</pre></div>

<p>Python 中的 <code>pass</code> 语句用于指示一个没有内容的语句块。</p>
<blockquote>
<p>提示：有一个名为 <code>max</code> 的内置函数已经实现了“找到最大数”这一功能，所以尽可能地使用这一内置函数。</p>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              41/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-42">
          <div class="inner">
            
            <header><h2>DocStrings</h2></header>
            
            
            <section><p>Python 有一个甚是优美的功能称作 <em>文档字符串（Documentation Strings）</em> ，在称呼它时通常会使用另一个短一些的名字 <em>docstrings</em> 。DocStrings 是一款你应当使用的重要工具，它能够帮助你更好地记录程序并让其更加易于理解。令人惊叹的是，当程序实际运行时，我们甚至可以通过一个函数来获取文档！</p>
<p>案例（保存为 <code>function_docstring.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="k">def</span> <span class="nf">print_max</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="lineno"> 2 </span>    <span class="sd">&#39;&#39;&#39;打印两个数值中的最大数。</span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span><span class="sd">    这两个数都应该是整数&#39;&#39;&#39;</span>
<span class="lineno"> 5 </span>    <span class="c1"># 如果可能，将其转换至整数类型</span>
<span class="lineno"> 6 </span>    <span class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="lineno"> 7 </span>    <span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="lineno"> 8 </span>
<span class="lineno"> 9 </span>    <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">:</span>
<span class="lineno">10 </span>        <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;is maximum&#39;</span><span class="p">)</span>
<span class="lineno">11 </span>    <span class="k">else</span><span class="p">:</span>
<span class="lineno">12 </span>        <span class="k">print</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="s1">&#39;is maximum&#39;</span><span class="p">)</span>
<span class="lineno">13 </span>
<span class="lineno">14 </span><span class="n">print_max</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="lineno">15 </span><span class="k">print</span><span class="p">(</span><span class="n">print_max</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
    $ python function_docstring.py<br>
    5 is maximum<br>
    打印两个数值中的最大数。<br>
    <br>
        这两个数都应该是整数<br>
</p>

<p><strong>它是如何工作的</strong></p>
<p>函数的第一行逻辑行中的字符串是该函数的 <em>文档字符串（DocString）</em> 。这里要注意文档字符串也适用于后面相关章节将提到的<a href="11.modules.html#modules">模块（Modules）</a>与<a href="14.oop.html#oop">类（Class）</a> 。</p>
<p>该文档字符串所约定的是一串多行字符串，其中第一行以某一大写字母开始，以句号结束。第二行为空行，后跟的第三行开始是任何详细的解释说明。5在此 <em>强烈建议</em> 你在你所有重要功能的所有文档字符串中都遵循这一约定。</p>
<p>我们可以通过使用函数的 <code>__doc__</code>（注意其中的 <em>双下划綫</em> ）属性（属于函数的名称）来获取函数 <code>print_max</code> 的文档字符串属性。只消记住 Python 将 <em>所有东西</em> 都视为一个对象，这其中自然包括函数。我们将在后面的<a href="14.oop.html#oop">类（Class）</a>章节讨论有关对象的更多细节。</p>
<p>如果你曾使用过 Python 的 <code>help()</code> 函数，那么你应该已经了解了文档字符串的用途了。它所做的便是获取函数的 <code>__doc__</code> 属性并以一种整洁的方式将其呈现给你。你可以在上方的函数中尝试一下——只需在程序中包含 <code>help(print_max)</code> 就行了。要记住你可以通过按下 <code>q</code> 键来退出 <code>help</code>。</p>
<p>自动化工具可以以这种方式检索你的程序中的文档。因此，我 <em>强烈推荐</em> 你为你编写的所有重要的函数配以文档字符串。你的 Python 发行版中附带的 <code>pydoc</code> 命令与 <code>help()</code> 使用文档字符串的方式类似。</p>
<h2>总结</h2>
<p>我们已经了解了许多方面的函数，但我们依旧还未覆盖到所有类型的函数。不过，我们已经覆盖到了大部分你每天日常使用都会使用到的 Python 函数。</p>
<p>接下来，我们将了解如何创建并使用 Python 模块。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              42/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-43">
          <div class="inner">
            
            <header><h1>模块</h1></header>
            
            
            <section><h2>定义</h2>
<p>在上一章，你已经了解了如何在你的程序中通过定义一次函数工作来重用代码。那么如果你想在你所编写的别的程序中重用一些函数的话，应该怎么办？正如你可能想象到的那样，答案是模块（Modules）。</p>
<p><mark>编写模块有很多种方法，其中最简单的一种便是创建一个包含函数与变量、以 <code>.py</code> 为后缀的文件</mark>。</p>
<p>另一种方法是<mark>使用撰写 Python 解释器本身的本地语言来编写模块</mark>。举例来说，你可以使用 <a href="http://docs.python.org/3/extending/">C 语言</a>来撰写 Python 模块，并且在编译后，你可以通过标准 Python 解释器在你的 Python 代码中使用它们。</p>
<p>一个模块可以被其它程序 <em>导入</em> 并运用其功能。我们在使用 Python 标准库的功能时也同样如此。首先，我们要了解如何使用标准库模块。</p>
<p>案例 (保存为 <code>module_using_sys.py</code>):</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="lineno">2 </span>
<span class="lineno">3 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;The command line arguments are:&#39;</span><span class="p">)</span>
<span class="lineno">4 </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">:</span>
<span class="lineno">5 </span>    <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="lineno">6 </span>
<span class="lineno">7 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">The PYTHONPATH is&#39;</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python module_using_sys.py we are arguments<br>
The command line arguments are:<br>
module_using_sys.py<br>
we<br>
are<br>
arguments<br>
<br>
<br>
The PYTHONPATH is ['/tmp/py',<br>
# many entries here, not shown here<br>
'/Library/Python/2.7/site-packages',<br>
'/usr/local/lib/python2.7/site-packages']
</p>

<p><strong>它是如何工作的</strong></p>
<p>首先，我们通过 <code>import</code> 语句 <em>导入</em> <code>sys</code> 模块。基本上，这句代码将转化为我们告诉 Python 我们希望使用这一模块。<code>sys</code> 模块包含了与 Python 解释器及其环境相关的功能，也就是所谓的 <em>系统</em> 功能（ <em>sys</em> tem）。</p>
<p>当 Python 运行 <code>import sys</code> 这一语句时，它会开始寻找 <code>sys</code> 模块。在这一案例中，由于其是一个内置模块，因此 Python 知道应该在哪里找到它。</p>
<p>如果它不是一个已编译好的模块，即用 Python 编写的模块，那么 Python 解释器将从它的 <code>sys.path</code> 变量所提供的目录中进行搜索。如果找到了对应模块，则该模块中的语句将在开始运行，并 <em>能够</em> 为你所使用。在这里需要注意的是，初始化工作只需在我们 <em>第一次</em> 导入模块时完成。</p>
<p><code>sys</code> 模块中的 <code>argv</code> 变量通过使用点号予以指明，也就是 <code>sys.argv</code> 这样的形式。它清晰地表明了这一名称是 <code>sys</code> 模块的一部分。这一处理方式的另一个优点是这个名称不会与你程序中的其它任何一个 <code>argv</code> 变量冲突。</p>
<p><code>sys.argv</code> 变量是一系列字符串的 <em>列表（List）</em> （列表将在<a href="12.data_structures.html#data-structures">后面的章节</a>予以详细解释）。具体而言，<code>sys.argv</code> 包含了 <em>命令行参数（Command Line Arguments）</em> 这一列表，也就是使用命令行传递给你的程序的参数。</p>
<p>如果你正在使用一款 IDE 来编写并运行这些程序，请在程序菜单中寻找相关指定命令行参数的选项。</p>
<p>在这里，当我们运行 <code>python module_using_sys.py we are arguments</code> 时，我们通过 <code>python</code> 命令来运行 <code>module_using_sys.py</code> 模块，后面的内容则是传递给程序的参数。 Python 将命令行参数存储在 <code>sys.argv</code> 变量中供我们使用。</p>
<p>在这里要记住的是，运行的脚本名称在 <code>sys.argv</code> 的列表中总会位列第一。因此，在这一案例中我们将会有如下对应关系：<code>'module_using_sys.py'</code> 对应 <code>sys.argv[0]</code>，<code>'we'</code> 对应 <code>sys.argv[1]</code>，<code>'are'</code> 对应 <code>sys.argv[2]</code>，<code>'arguments'</code> 对应 <code>sys.argv[3]</code>。要注意到 Python 从 0 开始计数，而不是 1。</p>
<p><code>sys.path</code> 内包含了导入模块的字典名称列表。你能观察到 <code>sys.path</code> 的第一段字符串是空的——这一空字符串代表当前目录也是 <code>sys.path</code> 的一部分，它与 <code>PYTHONPATH</code> 环境变量等同。这意味着你可以直接导入位于当前目录的模块。否则，你必须将你的模块放置在 <code>sys.path</code> 内所列出的目录中。</p>
<p>另外要注意的是当前目录指的是程序启动的目录。你可以通过运行 <code>import os; print(os.getcwd())</code> 来查看你的程序目前所处在的目录。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              43/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide slide-44">
          <div class="inner">
            
            <header><h2>按字节码编译的 .pyc 文件</h2></header>
            
            
            <section><p>导入一个模块是一件代价高昂的事情，因此 Python 引入了一些技巧使其能够更快速的完成。其中一种方式便是创建 <em>按字节码编译的（Byte-Compiled）</em> 文件，这一文件以 <code>.pyc</code> 为其扩展名，是将 Python 转换成中间形式的文件（还记得<a href="04.about_python.html#interpreted">《介绍》</a>一章中介绍的 Python 是如何工作的吗？）。这一 <code>.pyc</code> 文件在你下一次从其它不同的程序导入模块时非常有用——它将更加快速，因为导入模块时所需要的一部分处理工作已经完成了。同时，这些按字节码编译的文件是独立于运行平台的。</p>
<p>注意：这些 <code>.pyc</code> 文件通常会创建在与对应的 <code>.py</code> 文件所处的目录中。如果 Python 没有相应的权限对这一目录进行写入文件的操作，那么 <code>.pyc</code> 文件将 <em>不会</em> 被创建。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              44/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-45">
          <div class="inner">
            
            <header><h2><code>from..import</code> 语句</h2></header>
            
            
            <section><p>如果你希望直接将 <code>argv</code> 变量导入你的程序（为了避免每次都要输入 <code>sys.</code>），那么你可以通过使用 <code>from sys import argv</code> 语句来实现这一点。</p>
<blockquote>
<p><strong>警告：</strong> 一般来说，你应该尽量 <em>避免</em> 使用 <code>from...import</code> 语句，而去使用 <code>import</code> 语句。这是为了避免在你的程序中出现名称冲突，同时也为了使程序更加易读。</p>
</blockquote>
<p>案例：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span>
<span class="lineno">2 </span><span class="k">print</span><span class="p">(</span><span class="s2">&quot;Square root of 16 is&quot;</span><span class="p">,</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">16</span><span class="p">))</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              45/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-46">
          <div class="inner">
            
            <header><h2>模块的 <code>__name__</code></h2></header>
            
            
            <section><p>每个模块都有一个名称，而模块中的语句可以找到它们所处的模块的名称。这对于确定模块是独立运行的还是被导入进来运行的这一特定目的来说大为有用。正如先前所提到的，当模块第一次被导入时，它所包含的代码将被执行。我们可以通过这一特性来使模块以不同的方式运行，这取决于它是为自己所用还是从其它从的模块中导入而来。这可以通过使用模块的 <code>__name__</code> 属性来实现。</p>
<p>案例（保存为 <code>module_using_name.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<span class="lineno">2 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;This program is being run by itself&#39;</span><span class="p">)</span>
<span class="lineno">3 </span><span class="k">else</span><span class="p">:</span>
<span class="lineno">4 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;I am being imported from another module&#39;</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
    $ python module_using_name.py<br>
    This program is being run by itself<br>
    <br>
    $ python<br>
    >>> import module_using_name<br>
    I am being imported from another module<br>
    >>>
</p>

<p><strong>它是如何工作的</strong></p>
<p>每一个 Python 模块都定义了它的 <code>__name__</code> 属性。如果它与 <code>__main__</code> 属性相同则代表这一模块是由用户独立运行的，因此我们便可以采取适当的行动。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              46/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-47">
          <div class="inner">
            
            <header><h2>编写你自己的模块</h2></header>
            
            
            <section><p>编写你自己的模块很简单，这其实就是你一直在做的事情！这是因为每一个 Python 程序同时也是一个模块。你只需要保证它以 <code>.py</code> 为扩展名即可。下面的案例会作出清晰的解释。</p>
<p>案例（保存为 <code>mymodule.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="k">def</span> <span class="nf">say_hi</span><span class="p">():</span>
<span class="lineno">2 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Hi, this is mymodule speaking.&#39;</span><span class="p">)</span>
<span class="lineno">3 </span>
<span class="lineno">4 </span><span class="n">__version__</span> <span class="o">=</span> <span class="s1">&#39;0.1&#39;</span>
</pre></div>

<p>上方所呈现的就是一个简单的 <em>模块</em> 。正如你所看见的，与我们一般所使用的 Python 的程序相比其实并没有什么特殊的区别。我们接下来将看到如何在其它 Python 程序中使用这一模块。</p>
<p>要记住该模块应该放置于与其它我们即将导入这一模块的程序相同的目录下，或者是放置在 <code>sys.path</code> 所列出的其中一个目录下。</p>
<p>另一个模块（保存为 <code>mymodule_demo.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="kn">import</span> <span class="nn">mymodule</span>
<span class="lineno">2 </span>
<span class="lineno">3 </span><span class="n">mymodule</span><span class="o">.</span><span class="n">say_hi</span><span class="p">()</span>
<span class="lineno">4 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Version&#39;</span><span class="p">,</span> <span class="n">mymodule</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
    $ python mymodule_demo.py<br>
    Hi, this is mymodule speaking.<br>
    Version 0.1
</p>

<p><strong>它是如何工作的</strong></p>
<p>你会注意到我们使用相同的点符来访问模块中的成员。Python 很好地重用了其中的符号，这充满了“Pythonic”式的气息，这使得我们可以不必学习新的方式来完成同样的事情。</p>
<p>下面是一个使用 <code>from...import</code> 语法的范本（保存为 <code>mymodule_demo2.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="kn">from</span> <span class="nn">mymodule</span> <span class="kn">import</span> <span class="n">say_hi</span><span class="p">,</span> <span class="n">__version__</span>
<span class="lineno">2 </span>
<span class="lineno">3 </span><span class="n">say_hi</span><span class="p">()</span>
<span class="lineno">4 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Version&#39;</span><span class="p">,</span> <span class="n">__version__</span><span class="p">)</span>
</pre></div>

<p><code>mymodule_demo2.py</code> 所输出的内容与 <code>mymodule_demo.py</code> 所输出的内容是一样的。</p>
<p>在这里需要注意的是，如果导入到 mymodule 中的模块里已经存在了 <code>__version__</code> 这一名称，那将产生冲突。这可能是因为每个模块通常都会使用这一名称来声明它们各自的版本号。因此，我们大都推荐最好去使用 <code>import</code> 语句，尽管这会使你的程序变得稍微长一些。</p>
<p>你还可以使用：</p>
<pre><code>from mymodule import *
</code></pre>
<p>这将导入诸如 <code>say_hi</code> 等所有公共名称，但不会导入 <code>__version__</code> 名称，因为后者以双下划线开头。</p>
<blockquote>
<p><strong>警告：</strong> 要记住你应该避免使用 import _这种形式，即 <code>from mymodule import_</code>。</p>
<p><strong>Python 之禅</strong></p>
<p>Python 的一大指导原则是“明了胜过晦涩”。你可以通过在 Python 中运行 <code>import this</code> 来了解更多内容。</p>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              47/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-48">
          <div class="inner">
            
            <header><h2><code>dir</code> 函数</h2></header>
            
            
            <section><p>内置的 <code>dir()</code> 函数能够返回由对象所定义的名称列表。 如果这一对象是一个模块，则该列表会包括函数内所定义的函数、类与变量。</p>
<p>该函数接受参数。 如果参数是模块名称，函数将返回这一指定模块的名称列表。 如果没有提供参数，函数将返回当前模块的名称列表。</p>
<p>案例：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="err">$</span> <span class="n">python</span>
<span class="lineno"> 2 </span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">sys</span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span><span class="c1"># 给出 sys 模块中的属性名称</span>
<span class="lineno"> 5 </span><span class="o">&gt;&gt;&gt;</span> <span class="nb">dir</span><span class="p">(</span><span class="n">sys</span><span class="p">)</span>
<span class="lineno"> 6 </span><span class="p">[</span><span class="s1">&#39;__displayhook__&#39;</span><span class="p">,</span> <span class="s1">&#39;__doc__&#39;</span><span class="p">,</span>
<span class="lineno"> 7 </span><span class="s1">&#39;argv&#39;</span><span class="p">,</span> <span class="s1">&#39;builtin_module_names&#39;</span><span class="p">,</span>
<span class="lineno"> 8 </span><span class="s1">&#39;version&#39;</span><span class="p">,</span> <span class="s1">&#39;version_info&#39;</span><span class="p">]</span>
<span class="lineno"> 9 </span><span class="c1"># 此处只展示部分条目</span>
<span class="lineno">10 </span>
<span class="lineno">11 </span><span class="c1"># 给出当前模块的属性名称</span>
<span class="lineno">12 </span><span class="o">&gt;&gt;&gt;</span> <span class="nb">dir</span><span class="p">()</span>
<span class="lineno">13 </span><span class="p">[</span><span class="s1">&#39;__builtins__&#39;</span><span class="p">,</span> <span class="s1">&#39;__doc__&#39;</span><span class="p">,</span>
<span class="lineno">14 </span><span class="s1">&#39;__name__&#39;</span><span class="p">,</span> <span class="s1">&#39;__package__&#39;</span><span class="p">,</span><span class="s1">&#39;sys&#39;</span><span class="p">]</span>
<span class="lineno">15 </span>
<span class="lineno">16 </span><span class="c1"># 创建一个新的变量 &#39;a&#39;</span>
<span class="lineno">17 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">5</span>
<span class="lineno">18 </span>
<span class="lineno">19 </span><span class="o">&gt;&gt;&gt;</span> <span class="nb">dir</span><span class="p">()</span>
<span class="lineno">20 </span><span class="p">[</span><span class="s1">&#39;__builtins__&#39;</span><span class="p">,</span> <span class="s1">&#39;__doc__&#39;</span><span class="p">,</span> <span class="s1">&#39;__name__&#39;</span><span class="p">,</span> <span class="s1">&#39;__package__&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span>
<span class="lineno">21 </span>
<span class="lineno">22 </span><span class="c1"># 删除或移除一个名称</span>
<span class="lineno">23 </span><span class="o">&gt;&gt;&gt;</span> <span class="k">del</span> <span class="n">a</span>
<span class="lineno">24 </span>
<span class="lineno">25 </span><span class="o">&gt;&gt;&gt;</span> <span class="nb">dir</span><span class="p">()</span>
<span class="lineno">26 </span><span class="p">[</span><span class="s1">&#39;__builtins__&#39;</span><span class="p">,</span> <span class="s1">&#39;__doc__&#39;</span><span class="p">,</span> <span class="s1">&#39;__name__&#39;</span><span class="p">,</span> <span class="s1">&#39;__package__&#39;</span><span class="p">]</span>
</pre></div>

<p><strong>它是如何工作的</strong></p>
<p>首先我们看到的是 <code>dir</code> 在被导入的 <code>sys</code> 模块上的用法。我们能够看见它所包含的一个巨大的属性列表。</p>
<p>随后，我们以不传递参数的形式使用 <code>dir</code> 函数。在默认情况下，它将返回当前模块的属性列表。要注意到被导入模块的列表也会是这一列表的一部分。</p>
<p>给了观察 <code>dir</code> 函数的操作，我们定义了一个新的变量 <code>a</code> 并为其赋予了一个值，然后在检查 <code>dir</code> 返回的结果，我们就能发现，同名列表中出现了一个新的值。我们通过 <code>del</code> 语句移除了一个变量或是属性，这一变化再次反映在 <code>dir</code> 函数所处的内容中。</p>
<p>关于 <code>del</code> 的一个小小提示——这一语句用于 <em>删除</em> 一个变量或名称，当这一语句运行后，在本例中即 <code>del a</code>，你便不再能访问变量 <code>a</code>——它将如同从未存在过一般。</p>
<p>要注意到 <code>dir()</code> 函数能对 <em>任何</em> 对象工作。例如运行 <code>dir(str)</code> 可以访问 <code>str</code>（String，字符串）类的属性。</p>
<p>同时，还有一个 <a href="http://docs.python.org/3/library/functions.html#vars"><code>vars()</code></a> 函数也可以返回给你这些值的属性，但只是可能，它并不能针对所有类都能正常工作。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              48/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide slide-49">
          <div class="inner">
            
            <header><h2>包</h2></header>
            
            
            <section><p>现在，你必须开始遵守用以组织你的程序的层次结构。变量通常位于函数内部，函数与全局变量通常位于模块内部。如果你希望组织起这些模块的话，应该怎么办？这便是包（Packages）应当登场的时刻。</p>
<p><mark>包是指一个包含模块与一个特殊的 <code>__init__.py</code> 文件的文件夹</mark>，后者向 Python 表明这一文件夹是特别的，因为其包含了 Python 模块。</p>
<p>让我们这样设想：你想创建一个名为“world”的包，其中还包含着 “asia”、“africa”等其它子包，同时这些子包都包含了诸如“india”、 “madagascar”等模块。</p>
<p>下面是你会构建出的文件夹的结构：</p>
<pre><code>- &lt;some folder present in the sys.path&gt;/
    - world/
        - __init__.py
        - asia/
            - __init__.py
            - india/
                - __init__.py
                - foo.py
        - africa/
            - __init__.py
            - madagascar/
                - __init__.py
                - bar.py
</code></pre>
<p>包是一种能够方便地分层组织模块的方式。你将在 <a href="17.stdlib.html#stdlib">标准库</a> 中看到许多有关于此的实例。</p>
<h2>总结</h2>
<p>如同函数是程序中的可重用部分那般，模块是一种可重用的程序。包是用以组织模块的另一种层次结构。Python 所附带的标准库就是这样一组有关包与模块的例子。</p>
<p>我们已经了解了如何使用这些模块并创建你自己的模块。</p>
<p>接下来，我们将学习一些有趣的概念，它们被称作数据结构。</p>
<h1>数据结构</h1>
<p>数据结构（Data Structures）基本上人如其名——它们只是一种 <em>结构</em> ，能够将一些 <em>数据</em> 聚合在一起。换句话说，它们是用来存储一系列相关数据的集合。</p>
<p>Python 中有四种内置的数据结构—— <em>列表（List）、元组（Tuple）、字典（Dictionary）和集合（Set）</em> 。我们将了解如何使用它们，并利用它们将我们的编程之路变得更加简单。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              49/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-50">
          <div class="inner">
            
            <header><h2>列表</h2></header>
            
            
            <section><p><code>列表</code> 是一种<mark>用于保存一系列有序项目的集合</mark>，也就是说，你可以利用列表保存一串项目的 <em>序列</em> 。想象起来也不难，你可以想象你有一张购物清单，上面列出了需要购买的商品，除开在购物清单上你可能为每件物品都单独列一行，在 Python 中你需要在它们之间多加上一个逗号。</p>
<p>项目的列表应该用方括号括起来，这样 Python 才能理解到你正在指定一张列表。一旦你创建了一张列表，你可以添加、移除或搜索列表中的项目。既然我们可以添加或删除项目，我们会说列表是一种 <em>可变的（Mutable）</em> 数据类型，意即，这种类型是可以被改变的。</p>
<h2>有关对象与类的快速介绍</h2>
<p>虽然到目前为止我经常推迟有关对象（Object）与类（Class）的讨论，但现在对它们进行稍许解释能够有助于你更好地理解列表。我们将在<a href="14.oop.html#oop">后面的章节</a>讨论有关它们的更多细节。</p>
<p>列表是使用对象与类的实例。当我们启用一个变量 <code>i</code> 并将整数 <code>5</code> 赋值给它时，你可以认为这是在创建一个 <code>int</code> <em>类</em> （即类型）之下的 <em>对象</em> （即实例） <code>i</code>。实际上，你可以阅读 <code>help(int)</code> 来了解更多内容。</p>
<p>一个类也可以带有 <em>方法（Method）</em> ，也就是说对这个类定义仅对于它启用某个函数。只有当你拥有一个属于该类的对象时，你才能使用这些功能。举个例子，Python 为 <code>list</code> 类提供了一种 <code>append</code> 方法，能够允许你向列表末尾添加一个项目。例如 <code>mylist.append('an item')</code> 将会向列表 <code>mylist</code> 添加一串字符串。在这里要注意到我们通过使用点号的方法来访问对象。</p>
<p>一个类同样也可以具有 <em>字段（Field）</em> ，它是只为该类定义且只为该类所用的变量。只有当你拥有一个属于该类的对象时，你才能够使用这些变量或名称。字段同样可以通过点号来访问，例如 <code>mylist.field</code>。</p>
<p>案例（保存为 <code>ds_using_list.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="c1"># This is my shopping list</span>
<span class="lineno"> 2 </span><span class="n">shoplist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;mango&#39;</span><span class="p">,</span> <span class="s1">&#39;carrot&#39;</span><span class="p">,</span> <span class="s1">&#39;banana&#39;</span><span class="p">]</span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;I have&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">shoplist</span><span class="p">),</span> <span class="s1">&#39;items to purchase.&#39;</span><span class="p">)</span>
<span class="lineno"> 5 </span>
<span class="lineno"> 6 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;These items are:&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
<span class="lineno"> 7 </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">shoplist</span><span class="p">:</span>
<span class="lineno"> 8 </span>    <span class="k">print</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
<span class="lineno"> 9 </span>
<span class="lineno">10 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">I also have to buy rice.&#39;</span><span class="p">)</span>
<span class="lineno">11 </span><span class="n">shoplist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;rice&#39;</span><span class="p">)</span>
<span class="lineno">12 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;My shopping list is now&#39;</span><span class="p">,</span> <span class="n">shoplist</span><span class="p">)</span>
<span class="lineno">13 </span>
<span class="lineno">14 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;I will sort my list now&#39;</span><span class="p">)</span>
<span class="lineno">15 </span><span class="n">shoplist</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="lineno">16 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Sorted shopping list is&#39;</span><span class="p">,</span> <span class="n">shoplist</span><span class="p">)</span>
<span class="lineno">17 </span>
<span class="lineno">18 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;The first item I will buy is&#39;</span><span class="p">,</span> <span class="n">shoplist</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="lineno">19 </span><span class="n">olditem</span> <span class="o">=</span> <span class="n">shoplist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="lineno">20 </span><span class="k">del</span> <span class="n">shoplist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="lineno">21 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;I bought the&#39;</span><span class="p">,</span> <span class="n">olditem</span><span class="p">)</span>
<span class="lineno">22 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;My shopping list is now&#39;</span><span class="p">,</span> <span class="n">shoplist</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
    $ python ds_using_list.py<br>
    I have 4 items to purchase.<br>
    These items are: apple mango carrot banana<br>
    I also have to buy rice.<br>
    My shopping list is now ['apple', 'mango', 'carrot', 'banana', 'rice']<br>
    I will sort my list now<br>
    Sorted shopping list is ['apple', 'banana', 'carrot', 'mango', 'rice']<br>
    The first item I will buy is apple<br>
    I bought the apple<br>
    My shopping list is now ['banana', 'carrot', 'mango', 'rice']
</p>

<p><strong>它是如何工作的</strong></p>
<p>变量 <code>shoplist</code> 是一张为即将前往市场的某人准备的购物清单。在 <code>shoplist</code> 中，我们只存储了一些字符串，它们是我们需要购买的物品的名称，但是你可以向列表中添加 <em>任何类型的对象</em> ，包括数字，甚至是其它列表。</p>
<p>我们还使用 <code>for...in</code> 循环来遍历列表中的每一个项目。学习到现在，你必须有一种列表也是一个序列的意识。有关序列的特性将会在稍后的章节予以讨论。</p>
<p>在这里要注意在调用 <code>print</code> 函数时我们使用 <code>end</code> 参数，这样就能通过一个空格来结束输出工作，而不是通常的换行。</p>
<p>接下来，如我们讨论过的那般，我们通过列表对象中的 <code>append</code> 方法向列表中添加一个对象。然后，我们将列表简单地传递给 <code>print</code> 函数，整洁且完整地打印出列表内容，以此来检查项目是否被切实地添加进列表之中。</p>
<p>接着，我们列表的 <code>sort</code> 方法对列表进行排序。在这里要着重理解到这一方法影响到的是列表本身，而不会返回一个修改过的列表——这与修改字符串的方式并不相同。同时，这也是我们所说的，列表是 <em>可变的（Mutable）</em> 而字符串是 <em>不可变的（Immutable）</em> 。</p>
<p>随后，当我们当我们在市场上买回某件商品时，我们需要从列表中移除它。我们通过使用 <code>del</code> 语句来实现这一需求。在这里，我们将给出我们希望从列表中移除的商品，<code>del</code> 语句则会为我们从列表中移除对应的项目。我们希望移除列表中的第一个商品，因此我们使用 <code>del shoplist[0]</code>（要记住 Python 从 0 开始计数）。</p>
<p>如果你想了解列表对象定义的所有方法，可以通过 <code>help(list)</code> 来了解更多细节。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              50/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-51">
          <div class="inner">
            
            <header><h2>元组</h2></header>
            
            
            <section><p>元组（Tuple）用于将多个对象保存到一起。你可以将它们<mark>近似地看作列表</mark>，但是元组不能提供列表类能够提供给你的广泛的功能。元组的一大特征类似于字符串，它们是 <em>不可变的</em> ，也就是说，你不能编辑或更改元组。</p>
<p>元组是通过特别指定项目来定义的，在指定项目时，你可以给它们加上括号，并在括号内部用逗号进行分隔。</p>
<p>元组通常用于保证某一语句或某一用户定义的函数可以安全地采用一组数值，意即<mark>元组内的数值不会改变</mark>。</p>
<p>案例（保存为 <code>ds_using_tuple.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="c1"># 我会推荐你总是使用括号</span>
<span class="lineno"> 2 </span><span class="c1"># 来指明元组的开始与结束</span>
<span class="lineno"> 3 </span><span class="c1"># 尽管括号是一个可选选项。</span>
<span class="lineno"> 4 </span><span class="c1"># 明了胜过晦涩，显式优于隐式。</span>
<span class="lineno"> 5 </span><span class="n">zoo</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;python&#39;</span><span class="p">,</span> <span class="s1">&#39;elephant&#39;</span><span class="p">,</span> <span class="s1">&#39;penguin&#39;</span><span class="p">)</span>
<span class="lineno"> 6 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Number of animals in the zoo is&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">zoo</span><span class="p">))</span>
<span class="lineno"> 7 </span>
<span class="lineno"> 8 </span><span class="n">new_zoo</span> <span class="o">=</span> <span class="s1">&#39;monkey&#39;</span><span class="p">,</span> <span class="s1">&#39;camel&#39;</span><span class="p">,</span> <span class="n">zoo</span>
<span class="lineno"> 9 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Number of cages in the new zoo is&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_zoo</span><span class="p">))</span>
<span class="lineno">10 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;All animals in new zoo are&#39;</span><span class="p">,</span> <span class="n">new_zoo</span><span class="p">)</span>
<span class="lineno">11 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Animals brought from old zoo are&#39;</span><span class="p">,</span> <span class="n">new_zoo</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="lineno">12 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Last animal brought from old zoo is&#39;</span><span class="p">,</span> <span class="n">new_zoo</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span>
<span class="lineno">13 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Number of animals in the new zoo is&#39;</span><span class="p">,</span>
<span class="lineno">14 </span>      <span class="nb">len</span><span class="p">(</span><span class="n">new_zoo</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="n">new_zoo</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
    $ python ds_using_tuple.py<br>
    Number of animals in the zoo is 3<br>
    Number of cages in the new zoo is 3<br>
    All animals in new zoo are ('monkey', 'camel', ('python', 'elephant', 'penguin'))<br>
    Animals brought from old zoo are ('python', 'elephant', 'penguin')<br>
    Last animal brought from old zoo is penguin<br>
    Number of animals in the new zoo is 5
</p>

<p><strong>它是如何工作的</strong></p>
<p>变量 <code>zoo</code> 指的是一个包含项目的元组。我们能够看到 <code>len</code> 函数在此处用来获取元组的长度。这也表明元组同时也是一个序列。</p>
<p>现在，我们将这些动物从即将关闭的老动物园（Zoo）转移到新的动物园中。因此，<code>new_zoo</code> 这一元组包含了一些本已存在的动物以及从老动物园转移过去的动物。让我们回到话题中来，在这里要注意到元组中所包含的元组不会失去其所拥有的身份。</p>
<p>如同我们在列表里所做的那般，我们可以通过在方括号中指定项目所处的位置来访问元组中的各个项目。这种使用方括号的形式被称作 <em>索引（Indexing）</em> 运算符。我们通过指定 <code>new_zoo[2]</code> 来指定 <code>new_zoo</code> 中的第三个项目，我们也可以通过指定 <code>new_zoo[2][2]</code> 来指定 <code>new_zoo</code> 元组中的第三个项目中的第三个项目1。一旦你习惯了这种语法你就会觉得这其实非常简单。</p>
<blockquote>
<p><strong>包含 0 或 1 个项目的元组</strong></p>
<p>一个空的元组由一对圆括号构成，就像 <code>myempty = ()</code> 这样。然而，一个只拥有一个项目的元组并不像这样简单。你必须在第一个（也是唯一一个）项目的后面加上一个逗号来指定它，如此一来 Python 才可以识别出在这个表达式想表达的究竟是一个元组还是只是一个被括号所环绕的对象，也就是说，如果你想指定一个包含项目 <code>2</code> 的元组，你必须指定 <code>singleton = (2, )</code>。</p>
<p><strong>针对 Perl 程序员的提示</strong></p>
<p>列表中的列表不会丢失其标识，即列表不会像在 Perl 里那般会被打散（Flattened）。这同样也适用于元组中的元组、列表中的元组或元组中的列表等等情况。对于 Python 而言，它们只是用一个对象来存储另一个对象，不过仅此而已。</p>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              51/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-52">
          <div class="inner">
            
            <header><h2>字典</h2></header>
            
            
            <section><p>字典就像一本地址簿，如果你知道了他或她的姓名，你就可以在这里找到其地址或是能够联系上对方的更多详细信息，换言之，我们<mark>将 <em>键值（Keys）</em> （即姓名）与 <em>值（Values）</em> （即地址等详细信息）联立到一起</mark>。在这里要注意到<mark>键值必须是唯一的</mark>，正如在现实中面对两个完全同名的人你没办法找出有关他们的正确信息。</p>
<p>另外要注意的是你只能使用不可变的对象（如字符串）作为字典的键值，但是你可以使用可变或不可变的对象作为字典中的值。基本上这段话也可以翻译为你只能使用简单对象作为键值。</p>
<p>在字典中，你可以通过使用符号构成 <code>d = {key : value1 , key2 : value2}</code> 这样的形式，来成对地指定键值与值。在这里要注意到成对的键值与值之间使用冒号分隔，而每一对键值与值则使用逗号进行区分，它们全都由一对花括号括起。</p>
<p>另外需要记住，字典中的成对的键值—值配对不会以任何方式进行排序。如果你希望为它们安排一个特别的次序，只能在使用它们之前自行进行排序。</p>
<p>你将要使用的字典是属于 <code>dict</code> 类下的实例或对象。</p>
<p>案例（保存为 <code>ds_using_dict.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="c1"># “ab”是地址（Address）簿（Book）的缩写</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span><span class="n">ab</span> <span class="o">=</span> <span class="p">{</span>
<span class="lineno"> 4 </span>    <span class="s1">&#39;Swaroop&#39;</span><span class="p">:</span> <span class="s1">&#39;swaroop@swaroopch.com&#39;</span><span class="p">,</span>
<span class="lineno"> 5 </span>    <span class="s1">&#39;Larry&#39;</span><span class="p">:</span> <span class="s1">&#39;larry@wall.org&#39;</span><span class="p">,</span>
<span class="lineno"> 6 </span>    <span class="s1">&#39;Matsumoto&#39;</span><span class="p">:</span> <span class="s1">&#39;matz@ruby-lang.org&#39;</span><span class="p">,</span>
<span class="lineno"> 7 </span>    <span class="s1">&#39;Spammer&#39;</span><span class="p">:</span> <span class="s1">&#39;spammer@hotmail.com&#39;</span>
<span class="lineno"> 8 </span><span class="p">}</span>
<span class="lineno"> 9 </span>
<span class="lineno">10 </span><span class="k">print</span><span class="p">(</span><span class="s2">&quot;Swaroop&#39;s address is&quot;</span><span class="p">,</span> <span class="n">ab</span><span class="p">[</span><span class="s1">&#39;Swaroop&#39;</span><span class="p">])</span>
<span class="lineno">11 </span>
<span class="lineno">12 </span><span class="c1"># 删除一对键值—值配对</span>
<span class="lineno">13 </span><span class="k">del</span> <span class="n">ab</span><span class="p">[</span><span class="s1">&#39;Spammer&#39;</span><span class="p">]</span>
<span class="lineno">14 </span>
<span class="lineno">15 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">There are {} contacts in the address-book</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ab</span><span class="p">)))</span>
<span class="lineno">16 </span>
<span class="lineno">17 </span><span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">address</span> <span class="ow">in</span> <span class="n">ab</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<span class="lineno">18 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Contact {} at {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">address</span><span class="p">))</span>
<span class="lineno">19 </span>
<span class="lineno">20 </span><span class="c1"># 添加一对键值—值配对</span>
<span class="lineno">21 </span><span class="n">ab</span><span class="p">[</span><span class="s1">&#39;Guido&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;guido@python.org&#39;</span>
<span class="lineno">22 </span>
<span class="lineno">23 </span><span class="k">if</span> <span class="s1">&#39;Guido&#39;</span> <span class="ow">in</span> <span class="n">ab</span><span class="p">:</span>
<span class="lineno">24 </span>    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Guido&#39;s address is&quot;</span><span class="p">,</span> <span class="n">ab</span><span class="p">[</span><span class="s1">&#39;Guido&#39;</span><span class="p">])</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
    $ python ds_using_dict.py<br>
    Swaroop's address is swaroop@swaroopch.com<br>
    <br>
    There are 3 contacts in the address-book<br>
    <br>
    Contact Swaroop at swaroop@swaroopch.com<br>
    Contact Matsumoto at matz@ruby-lang.org<br>
    Contact Larry at larry@wall.org<br>
    <br>
    Guido's address is guido@python.org<br>
</p>

<p><strong>它是如何工作的</strong></p>
<p>我们通过已经讨论过的符号体系来创建字典 <code>ab</code>。然后我们通过使用索引运算符来指定某一键值以访问相应的键值—值配对，有关索引运算符的方法我们已经在列表与元组部分讨论过了。你可以观察到这之中的语法非常简单。</p>
<p>我们可以通过我们的老朋友——<code>del</code> 语句——来删除某一键值—值配对。我们只需指定字典、包含需要删除的键值名称的索引算符，并将其传递给 <code>del</code> 语句。这一操作不需要你知道与该键值相对应的值。</p>
<p>接着，我们通过使用字典的 <code>items</code> 方法来访问字典中的每一对键值—值配对信息，这一操作将返回一份包含元组的列表，每一元组中则包含了每一对相应的信息——键值以及其相应的值。我们检索这一配对，并通过 <code>for...in</code> 循环将每一对配对的信息相应地分配给 <code>name</code> 与 <code>address</code> 变量，并将结果打印在 <code>for</code> 代码块中。</p>
<p>如果想增加一堆新的键值—值配对，我们可以简单地通过使用索引运算符访问一个键值并为其分配与之相应的值，就像我们在上面的例子中对 Guido 键值所做的那样。</p>
<p>我们可以使用 <code>in</code> 运算符来检查某对键值—值配对是否存在。</p>
<p>要想了解有关 <code>dict</code> 类的更多方法，请参阅 <code>help(dict)</code>。</p>
<blockquote>
<p><strong>关键字参数与字典</strong></p>
<p>如果你曾在你的函数中使用过关键词参数，那么你就已经使用过字典了！你只要这么想——你在定义函数时的参数列表时，就指定了相关的键值—值配对。当你在你的函数中访问某一变量时，它其实就是在访问字典中的某个键值。（在编译器设计的术语中，这叫作 <em>符号表（Symbol Table）</em> ）</p>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              52/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-53">
          <div class="inner">
            
            <header><h2>序列</h2></header>
            
            
            <section><p>列表、元组和字符串可以看作序列（Sequence）的某种表现形式，可是究竟什么是序列，它又有什么特别之处？</p>
<p>序列的主要功能是 <em>资格测试（Membership Test）</em> （也就是 <code>in</code> 与 <code>not in</code> 表达式）和 <em>索引操作（Indexing Operations）</em> ，它们能够允许我们直接获取序列中的特定项目。</p>
<p>上面所提到的序列的三种形态——列表、元组与字符串，同样拥有一种 <em>切片（Slicing）</em> 运算符，它能够允许我们序列中的某段切片——也就是序列之中的一部分。</p>
<p>案例（保存为 <code>ds_seq.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="n">shoplist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;mango&#39;</span><span class="p">,</span> <span class="s1">&#39;carrot&#39;</span><span class="p">,</span> <span class="s1">&#39;banana&#39;</span><span class="p">]</span>
<span class="lineno"> 2 </span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;swaroop&#39;</span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span><span class="c1"># Indexing or &#39;Subscription&#39; operation #</span>
<span class="lineno"> 5 </span><span class="c1"># 索引或“下标（Subscription）”操作符 #</span>
<span class="lineno"> 6 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Item 0 is&#39;</span><span class="p">,</span> <span class="n">shoplist</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="lineno"> 7 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Item 1 is&#39;</span><span class="p">,</span> <span class="n">shoplist</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="lineno"> 8 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Item 2 is&#39;</span><span class="p">,</span> <span class="n">shoplist</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="lineno"> 9 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Item 3 is&#39;</span><span class="p">,</span> <span class="n">shoplist</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<span class="lineno">10 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Item -1 is&#39;</span><span class="p">,</span> <span class="n">shoplist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="lineno">11 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Item -2 is&#39;</span><span class="p">,</span> <span class="n">shoplist</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
<span class="lineno">12 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Character 0 is&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="lineno">13 </span>
<span class="lineno">14 </span><span class="c1"># Slicing on a list #</span>
<span class="lineno">15 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Item 1 to 3 is&#39;</span><span class="p">,</span> <span class="n">shoplist</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">])</span>
<span class="lineno">16 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Item 2 to end is&#39;</span><span class="p">,</span> <span class="n">shoplist</span><span class="p">[</span><span class="mi">2</span><span class="p">:])</span>
<span class="lineno">17 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Item 1 to -1 is&#39;</span><span class="p">,</span> <span class="n">shoplist</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="lineno">18 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Item start to end is&#39;</span><span class="p">,</span> <span class="n">shoplist</span><span class="p">[:])</span>
<span class="lineno">19 </span>
<span class="lineno">20 </span><span class="c1"># 从某一字符串中切片 #</span>
<span class="lineno">21 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;characters 1 to 3 is&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">])</span>
<span class="lineno">22 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;characters 2 to end is&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">[</span><span class="mi">2</span><span class="p">:])</span>
<span class="lineno">23 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;characters 1 to -1 is&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="lineno">24 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;characters start to end is&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">[:])</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
    $ python ds_seq.py<br>
    Item 0 is apple<br>
    Item 1 is mango<br>
    Item 2 is carrot<br>
    Item 3 is banana<br>
    Item -1 is banana<br>
    Item -2 is carrot<br>
    Character 0 is s<br>
    Item 1 to 3 is ['mango', 'carrot']<br>
    Item 2 to end is ['carrot', 'banana']<br>
    Item 1 to -1 is ['mango', 'carrot']<br>
    Item start to end is ['apple', 'mango', 'carrot', 'banana']<br>
    characters 1 to 3 is wa<br>
    characters 2 to end is aroop<br>
    characters 1 to -1 is waroo<br>
    characters start to end is swaroop
</p>

<p><strong>它是如何工作的</strong></p>
<p>首先，我们已经了解了如何通过使用索引来获取序列中的各个项目。这也被称作 <em>下标操作（Subscription Operation）</em> 。如上所示，每当你在方括号中为序列指定一个数字，Python 将获取序列中与该位置编号相对应的项目。要记得 Python 从 0 开始计数。因此 <code>shoplist[0]</code> 将获得 <code>shoplist</code> 序列中的第一个项目，而 <code>shoplist[3]</code> 将获得第四个项目。</p>
<p>索引操作也可以使用负数，在这种情况下，位置计数将从队列的末尾开始。因此，<code>shoplist[-1]</code> 指的是序列的最后一个项目，<code>shoplist[-2]</code> 将获取序列中倒数第二个项目。</p>
<p>你需要通过指定序列名称来进行序列操作，在指定时序列名称后面可以跟一对数字——这是可选的操作，这一对数字使用方括号括起，并使用冒号分隔。在这里需要注意，它与你至今为止使用的索引操作显得十分相像。但是你要记住数字是可选的，冒号却不是。</p>
<p>在切片操作中，第一个数字（冒号前面的那位）指的是切片开始的位置，第二个数字（冒号后面的那位）指的是切片结束的位置。如果第一位数字没有指定，Python 将会从序列的起始处开始操作。如果第二个数字留空，Python 将会在序列的末尾结束操作。要注意的是切片操作会在开始处返回 <em>start</em> ，并在 <em>end</em> 前面的位置结束工作。也就是说，序列切片将包括起始位置，但不包括结束位置。</p>
<p>因此，<code>shoplist[1:3]</code> 返回的序列的一组切片将从位置 1 开始，包含位置 2 并在位置 3 时结束，因此，这块 <em>切片</em> 返回的是两个项目。类似地，<code>shoplist[:]</code> 返回的是整个序列。</p>
<p>你同样可以在切片操作中使用负数位置。使用负数时位置将从序列末端开始计算。例如，<code>shoplist[:-1]</code> 强返回一组序列切片，其中不包括序列的最后一项项目，但其它所有项目都包含其中。</p>
<p>你同样可以在切片操作中提供第三个参数，这一参数将被视为切片的 <em>步长（Step）</em> （在默认情况下，步长大小为 1）：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">shoplist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;mango&#39;</span><span class="p">,</span> <span class="s1">&#39;carrot&#39;</span><span class="p">,</span> <span class="s1">&#39;banana&#39;</span><span class="p">]</span>
<span class="lineno">2 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">shoplist</span><span class="p">[::</span><span class="mi">1</span><span class="p">]</span>
<span class="lineno">3 </span><span class="p">[</span><span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;mango&#39;</span><span class="p">,</span> <span class="s1">&#39;carrot&#39;</span><span class="p">,</span> <span class="s1">&#39;banana&#39;</span><span class="p">]</span>
<span class="lineno">4 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">shoplist</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span>
<span class="lineno">5 </span><span class="p">[</span><span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;carrot&#39;</span><span class="p">]</span>
<span class="lineno">6 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">shoplist</span><span class="p">[::</span><span class="mi">3</span><span class="p">]</span>
<span class="lineno">7 </span><span class="p">[</span><span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;banana&#39;</span><span class="p">]</span>
<span class="lineno">8 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">shoplist</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="lineno">9 </span><span class="p">[</span><span class="s1">&#39;banana&#39;</span><span class="p">,</span> <span class="s1">&#39;carrot&#39;</span><span class="p">,</span> <span class="s1">&#39;mango&#39;</span><span class="p">,</span> <span class="s1">&#39;apple&#39;</span><span class="p">]</span>
</pre></div>

<p>你会注意到当步长为 2 时，我们得到的是第 0、2、4…… 位项目。当步长为 3 时，我们得到的是第 0、3……位项目。</p>
<p>你可以在 Python 解释器中交互地尝试不同的切片方式的组合，这将帮助你立即看到结果。序列的一大优点在于你可以使用同样的方式访问元组、列表与字符串。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              53/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-54">
          <div class="inner">
            
            <header><h2>集合</h2></header>
            
            
            <section><p>集合（Set）是简单对象的 <em>无序</em> 集合（Collection）。当集合中的项目存在与否比起次序或其出现次数更加重要时，我们就会使用集合。</p>
<p>通过使用集合，你可以测试某些对象的资格或情况，检查它们是否是其它集合的子集，找到两个集合的交集，等等。</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">bri</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;brazil&#39;</span><span class="p">,</span> <span class="s1">&#39;russia&#39;</span><span class="p">,</span> <span class="s1">&#39;india&#39;</span><span class="p">])</span>
<span class="lineno"> 2 </span><span class="o">&gt;&gt;&gt;</span> <span class="s1">&#39;india&#39;</span> <span class="ow">in</span> <span class="n">bri</span>
<span class="lineno"> 3 </span><span class="bp">True</span>
<span class="lineno"> 4 </span><span class="o">&gt;&gt;&gt;</span> <span class="s1">&#39;usa&#39;</span> <span class="ow">in</span> <span class="n">bri</span>
<span class="lineno"> 5 </span><span class="bp">False</span>
<span class="lineno"> 6 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">bric</span> <span class="o">=</span> <span class="n">bri</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="lineno"> 7 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">bric</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s1">&#39;china&#39;</span><span class="p">)</span>
<span class="lineno"> 8 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">bric</span><span class="o">.</span><span class="n">issuperset</span><span class="p">(</span><span class="n">bri</span><span class="p">)</span>
<span class="lineno"> 9 </span><span class="bp">True</span>
<span class="lineno">10 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">bri</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;russia&#39;</span><span class="p">)</span>
<span class="lineno">11 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">bri</span> <span class="o">&amp;</span> <span class="n">bric</span> <span class="c1"># OR bri.intersection(bric)</span>
<span class="lineno">12 </span><span class="p">{</span><span class="s1">&#39;brazil&#39;</span><span class="p">,</span> <span class="s1">&#39;india&#39;</span><span class="p">}</span>
</pre></div>

<p><strong>它是如何工作的</strong></p>
<p>这个案例几乎不言自明，因为它涉及的是学校所教授的<mark>数学里的基础集合知识</mark>。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              54/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-55">
          <div class="inner">
            
            <header><h2>引用</h2></header>
            
            
            <section><p>当你创建了一个对象并将其分配给某个变量时，变量只会 <em>查阅（Refer）</em> 某个对象，并且它也不会代表对象本身。也就是说，变量名只是指向你计算机内存中存储了相应对象的那一部分。这叫作将名称 <em>绑定（Binding）</em> 给那一个对象。</p>
<p>一般来说，你不需要去关心这个，不过由于这一引用操作困难会产生某些微妙的效果，这是需要你注意的：</p>
<p>案例（保存为 <code>ds_reference.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Simple Assignment&#39;</span><span class="p">)</span>
<span class="lineno"> 2 </span><span class="n">shoplist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;mango&#39;</span><span class="p">,</span> <span class="s1">&#39;carrot&#39;</span><span class="p">,</span> <span class="s1">&#39;banana&#39;</span><span class="p">]</span>
<span class="lineno"> 3 </span><span class="c1"># mylist 只是指向同一对象的另一种名称</span>
<span class="lineno"> 4 </span><span class="n">mylist</span> <span class="o">=</span> <span class="n">shoplist</span>
<span class="lineno"> 5 </span>
<span class="lineno"> 6 </span><span class="c1"># 我购买了第一项项目，所以我将其从列表中删除</span>
<span class="lineno"> 7 </span><span class="k">del</span> <span class="n">shoplist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="lineno"> 8 </span>
<span class="lineno"> 9 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;shoplist is&#39;</span><span class="p">,</span> <span class="n">shoplist</span><span class="p">)</span>
<span class="lineno">10 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;mylist is&#39;</span><span class="p">,</span> <span class="n">mylist</span><span class="p">)</span>
<span class="lineno">11 </span><span class="c1"># 注意到 shoplist 和 mylist 二者都</span>
<span class="lineno">12 </span><span class="c1"># 打印出了其中都没有 apple 的同样的列表，以此我们确认</span>
<span class="lineno">13 </span><span class="c1"># 它们指向的是同一个对象</span>
<span class="lineno">14 </span>
<span class="lineno">15 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Copy by making a full slice&#39;</span><span class="p">)</span>
<span class="lineno">16 </span><span class="c1"># 通过生成一份完整的切片制作一份列表的副本</span>
<span class="lineno">17 </span><span class="n">mylist</span> <span class="o">=</span> <span class="n">shoplist</span><span class="p">[:]</span>
<span class="lineno">18 </span><span class="c1"># 删除第一个项目</span>
<span class="lineno">19 </span><span class="k">del</span> <span class="n">mylist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="lineno">20 </span>
<span class="lineno">21 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;shoplist is&#39;</span><span class="p">,</span> <span class="n">shoplist</span><span class="p">)</span>
<span class="lineno">22 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;mylist is&#39;</span><span class="p">,</span> <span class="n">mylist</span><span class="p">)</span>
<span class="lineno">23 </span><span class="c1"># 注意到现在两份列表已出现不同</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
    $ python ds_reference.py<br>
    Simple Assignment<br>
    shoplist is ['mango', 'carrot', 'banana']<br>
    mylist is ['mango', 'carrot', 'banana']<br>
    Copy by making a full slice<br>
    shoplist is ['mango', 'carrot', 'banana']<br>
    mylist is ['carrot', 'banana']<br>
</p>

<p><strong>它是如何工作的</strong></p>
<p>大部分解释已经在注释中提供。</p>
<p>你要记住如果你希望创建一份诸如序列等复杂对象的副本（而非整数这种简单的 <em>对象（Object）</em> ），你必须使用切片操作来制作副本。如果你仅仅是将一个变量名赋予给另一个名称，那么它们都将“查阅”同一个对象，如果你对此不够小心，那么它将造成麻烦。</p>
<blockquote>
<p><strong>针对 Perl 程序员的提示</strong></p>
<p>要记住列表的赋值语句 <strong>不会</strong> 创建一份副本。你必须使用切片操作来生成一份序列的副本。</p>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              55/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-56">
          <div class="inner">
            
            <header><h2>有关字符串的更多内容</h2></header>
            
            
            <section><p>在早些时候我们已经详细讨论过了字符串。还有什么可以知道的吗？还真有，想必你还不知道字符串同样也是一种对象，并且它也具有自己的方法，可以做到检查字符串中的一部分或是去掉空格等几乎一切事情！</p>
<p>你在程序中使用的所有字符串都是 <code>str</code> 类下的对象。下面的案例将演示这种类之下一些有用的方法。要想获得这些方法的完成清单，你可以查阅 <code>help(str)</code>。</p>
<p>案例（保存为 <code>ds_str_methods.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="c1"># 这是一个字符串对象</span>
<span class="lineno"> 2 </span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Swaroop&#39;</span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span><span class="k">if</span> <span class="n">name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;Swa&#39;</span><span class="p">):</span>
<span class="lineno"> 5 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Yes, the string starts with &quot;Swa&quot;&#39;</span><span class="p">)</span>
<span class="lineno"> 6 </span>
<span class="lineno"> 7 </span><span class="k">if</span> <span class="s1">&#39;a&#39;</span> <span class="ow">in</span> <span class="n">name</span><span class="p">:</span>
<span class="lineno"> 8 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Yes, it contains the string &quot;a&quot;&#39;</span><span class="p">)</span>
<span class="lineno"> 9 </span>
<span class="lineno">10 </span><span class="k">if</span> <span class="n">name</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;war&#39;</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
<span class="lineno">11 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Yes, it contains the string &quot;war&quot;&#39;</span><span class="p">)</span>
<span class="lineno">12 </span>
<span class="lineno">13 </span><span class="n">delimiter</span> <span class="o">=</span> <span class="s1">&#39;_*_&#39;</span>
<span class="lineno">14 </span><span class="n">mylist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Brazil&#39;</span><span class="p">,</span> <span class="s1">&#39;Russia&#39;</span><span class="p">,</span> <span class="s1">&#39;India&#39;</span><span class="p">,</span> <span class="s1">&#39;China&#39;</span><span class="p">]</span>
<span class="lineno">15 </span><span class="k">print</span><span class="p">(</span><span class="n">delimiter</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">mylist</span><span class="p">))</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
    $ python ds_str_methods.py<br>
    Yes, the string starts with "Swa"<br>
    Yes, it contains the string "a"<br>
    Yes, it contains the string "war"<br>
    Brazil_*_Russia_*_India_*_China<br>
</p>

<p><strong>它是如何工作的</strong></p>
<p>在这里，我们会看见一此操作中包含了好多字符串方法。<code>startswith</code> 方法用于查找字符串是否以给定的字符串内容开头。<code>in</code> 运算符用以检查给定的字符串是否是查询的字符串中的一部分。</p>
<p><code>find</code> 方法用于定位字符串中给定的子字符串的位置。如果找不到相应的子字符串，<code>find</code> 会返回 -1。<code>str</code> 类同样还拥有一个简洁的方法用以 <code>联结（Join）</code>序列中的项目，其中字符串将会作为每一项目之间的分隔符，并以此生成并返回一串更大的字符串。</p>
<h2>总结</h2>
<p>我们已经详细探讨了 Python 中内置的多种不同的数据结构。这些数据结构对于编写大小适中的 Python 程序而言至关重要。</p>
<p>现在我们已经具备了诸多有关 Python 的基本知识，接下来我们将会了解如何设计并编写一款真实的 Python 程序。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              56/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-57">
          <div class="inner">
            
            <header><h1>解决问题</h1></header>
            
            
            <section><p>我们已经探索了 Python 语言中的许多部分，现在我们将通过设计并编写一款程序来了解如何把这些部分组合到一起。这些程序一定是能 <em>做到</em> 一些有用的事情。这其中的方法就是去学习如何靠你自己来编写一份 Python 脚本。</p>
<h2>问题</h2>
<p>我们希望解决的问题如下：</p>
<blockquote>
<p>我想要一款程序来备份我所有的重要文件。</p>
</blockquote>
<p>虽然这是一个简单的问题，但是其中并没有足够的信息有助于让我们开始规划一份解决方案。我们需要进行一些 <em>分析（Analysis）</em> 。例如，我们应该如何指定 <em>哪些</em> 文件是我们需要备份的？它们应该 <em>如何</em> 进行备份？储存到 <em>哪里</em>?</p>
<p>在正确地分析了这些问题过后，我们便开始 <em>设计（Design）</em> 我们的程序。我们将列出一份关于我们的程序应如何运转的清单。在这个案例中，我已经编写了如下清单来说明 <em>我</em> 将如何工作。如果由你来设计程序，你可能不会做出同样的分析，因为每个人都有其自己的行事方式，所以出现不同是完全正常、且正确的。</p>
<ul>
<li>需要备份的文件与目录应在一份列表中予以指定。</li>
<li>备份必须存储在一个主备份目录中。</li>
<li>备份文件将打包压缩成 zip 文件。</li>
<li>zip 压缩文件的文件名由当前日期与时间构成。</li>
<li>我们使用在任何 GNU/Linux 或 Unix 发行版中都会默认提供的标准 <code>zip</code> 命令进行打包。在这里你需要了解到只要有命令行界面，你就可以使用任何需要用到的压缩或归档命令。</li>
</ul>
<blockquote>
<p><strong>针对 Windows 用户的提示</strong></p>
<p>Windows 用户可以从 <a href="http://gnuwin32.sourceforge.net/packages/zip.htm">GnuWin32 项目页面</a> 上下载并<a href="http://gnuwin32.sourceforge.net/downlinks/zip.php">安装</a> <code>zip</code> 命令，并将 <code>C:\Program Files\GnuWin32\bin</code> 添加至你的系统的 <code>PATH</code> 环境变量中，这一操作过程与<a href="installation.md#dos-prompt">我们为使系统识别 Python 命令本身所做的事情</a>相同。</p>
</blockquote>
<h2>解决方案</h2>
<p>由于我们的程序设计方案现在已经相当稳定，我们便可以开始编写代码，这个过程我们称之为 <em>实现（Implementation）</em> 我们的解决方案。</p>
<p>将下述代码保存为 <code>backup_ver1.py</code>：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="kn">import</span> <span class="nn">os</span>
<span class="lineno"> 2 </span><span class="kn">import</span> <span class="nn">time</span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span><span class="c1"># 1. 需要备份的文件与目录将被</span>
<span class="lineno"> 5 </span><span class="c1"># 指定在一个列表中。</span>
<span class="lineno"> 6 </span><span class="c1"># 例如在 Windows 下：</span>
<span class="lineno"> 7 </span><span class="c1"># source = [&#39;&quot;C:\\My Documents&quot;&#39;, &#39;C:\\Code&#39;]</span>
<span class="lineno"> 8 </span><span class="c1"># 又例如在 Mac OS X 与 Linux 下：</span>
<span class="lineno"> 9 </span><span class="n">source</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;/Users/swa/notes&#39;</span><span class="p">]</span>
<span class="lineno">10 </span><span class="c1"># 在这里要注意到我们必须在字符串中使用双引号</span>
<span class="lineno">11 </span><span class="c1"># 用以括起其中包含空格的名称。</span>
<span class="lineno">12 </span>
<span class="lineno">13 </span><span class="c1">#2. 备份文件必须存储在一个</span>
<span class="lineno">14 </span><span class="c1">#主备份目录中</span>
<span class="lineno">15 </span><span class="c1">#例如在 Windows 下：</span>
<span class="lineno">16 </span><span class="c1"># target_dir = &#39;E:\\Backup&#39;</span>
<span class="lineno">17 </span><span class="c1"># 又例如在 Mac OS X 和 Linux 下：</span>
<span class="lineno">18 </span><span class="n">target_dir</span> <span class="o">=</span> <span class="s1">&#39;/Users/swa/backup&#39;</span>
<span class="lineno">19 </span><span class="c1"># 要记得将这里的目录地址修改至你将使用的路径</span>
<span class="lineno">20 </span>
<span class="lineno">21 </span><span class="c1"># 3. 备份文件将打包压缩成 zip 文件。</span>
<span class="lineno">22 </span><span class="c1"># 4. zip 压缩文件的文件名由当前日期与时间构成。</span>
<span class="lineno">23 </span><span class="n">target</span> <span class="o">=</span> <span class="n">target_dir</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">sep</span> <span class="o">+</span> \
<span class="lineno">24 </span>         <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">%H%M%S&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;.zip&#39;</span>
<span class="lineno">25 </span>
<span class="lineno">26 </span><span class="c1"># 如果目标目录还不存在，则进行创建</span>
<span class="lineno">27 </span><span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">target_dir</span><span class="p">):</span>
<span class="lineno">28 </span>    <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">target_dir</span><span class="p">)</span>  <span class="c1"># 创建目录</span>
<span class="lineno">29 </span>
<span class="lineno">30 </span><span class="c1"># 5. 我们使用 zip 命令将文件打包成 zip 格式</span>
<span class="lineno">31 </span><span class="n">zip_command</span> <span class="o">=</span> <span class="s1">&#39;zip -r {0} {1}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">target</span><span class="p">,</span>
<span class="lineno">32 </span>                                      <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">source</span><span class="p">))</span>
<span class="lineno">33 </span>
<span class="lineno">34 </span><span class="c1"># 运行备份</span>
<span class="lineno">35 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Zip command is:&#39;</span><span class="p">)</span>
<span class="lineno">36 </span><span class="k">print</span><span class="p">(</span><span class="n">zip_command</span><span class="p">)</span>
<span class="lineno">37 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Running:&#39;</span><span class="p">)</span>
<span class="lineno">38 </span><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="n">zip_command</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="lineno">39 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Successful backup to&#39;</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
<span class="lineno">40 </span><span class="k">else</span><span class="p">:</span>
<span class="lineno">41 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Backup FAILED&#39;</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
    $ python backup_ver1.py<br>
    Zip command is:<br>
    zip -r /Users/swa/backup/20140328084844.zip /Users/swa/notes<br>
    Running:<br>
      adding: Users/swa/notes/ (stored 0%)<br>
      adding: Users/swa/notes/blah1.txt (stored 0%)<br>
      adding: Users/swa/notes/blah2.txt (stored 0%)<br>
      adding: Users/swa/notes/blah3.txt (stored 0%)<br>
    Successful backup to /Users/swa/backup/20140328084844.zip<br>
</p>

<p>现在，我们正处于 <em>测试（Testing）</em> 阶段，在这一阶段我们测试我们的程序是否能正常工作。如果其行为不符合我们的预期，那么我们需要对我们的程序进行 <em>Debug</em> 工作，也就是说，移除程序中的 <em>Bug</em> （错误）。</p>
<p>如果上面的程序不能够正常工作，复制打印在 <code>Zip command is</code> 后面的命令，将其粘贴至 shell（在 GNU/Linux 与 Mac OS X 环境中）或 <code>cmd</code>（对于 Windows 环境），看看存在什么错误并尝试将其修复。同时你还需要检查 zip 命令手册来看看是不是哪里存在错误。如果这条命令成功运行，那么可能是错误可能存在在 Python 程序本身之中，因此你需要检查你的程序是否如上面所展示那番。</p>
<p><strong>它是如何工作的</strong></p>
<p>你会注意到我们是如何一步步将我们的 <em>设计</em> 转化为 <em>代码</em> 的。</p>
<p>我们首先导入 <code>os</code> 与 <code>time</code> 模块以准备使用它们。然后，我们在 <code>source</code> 列表中指定我们需要备份的文件与目录。我们需要存储我们所有备份文件的目标目录在 <code>target_dir</code> 变量中予以指定。我们将要创建的 zip 归档文件的名字由当前日期与时间构成，在这里通过 <code>time.strftime()</code> 函数来创建。文件名将以 <code>.zip</code> 作为扩展名，并存储在 <code>target_dir</code> 目录中。</p>
<p>在这里要注意 <code>os.sep</code> 变量的使用方式——它将根据你的操作系统给出相应的分隔符，在 GNU/Linux 与 Unix 中它会是 <code>'/'</code>，在 Windows 中它会是 <code>'\\'</code>，在 Mac OS 中它会是 <code>':'</code>。使用 <code>os.sep</code> 而非直接使用这些字符有助于使我们的程序变得可移植，从而可以在上述这些系统中都能正常工作。</p>
<p><code>time.strftime()</code> 函数会遵循某些格式（Specification），其中一种就如我们在上方程序中所使用的那样。<code>%Y</code> 将被替换成带有具体世纪的年份。<code>%m</code> 将会被替换成以 <code>01</code> 至 <code>12</code> 的十进制数所表示的月份。有关这些格式的全部列表可以在<a href="http://docs.python.org/3/library/time.html#time.strftime"> Python 参考手册</a>中查询到。</p>
<p>我们使用 <em>连接（Concatenates）</em> 字符串的加法（<code>+</code>）运算符来创建目标 zip 文件的文件名，也就是说，它将两个字符串连接到一起并返回一个新的字符串。然后，我们创建了一串字符串 <code>zip_command</code>，其中包括了我们要执行的命令。如果这条命令不能正常工作，你可以把它拷贝到 Shell（GNU/Linux 终端或 DOS 提示符）中进行检查。</p>
<p>我们使用的 <code>zip</code> 命令会有一些选项与参数需要传递。<code>-r</code> 选项用以指定 zip 命令应该 <strong>递归地</strong> （ <strong>R</strong> ecursively）对目录进行工作，也就是说它应该包括所有的子文件夹与其中的文件。这两个选项结合到一起并可以指定一个快捷方式作 <code>-qr</code>。选项后面跟着的是将要创建的 zip 文件的名称，再往后是需要备份的文件与目录的列表。我们通过使用已经讨论过并已了解该如何运用的的字符串方法 <code>join</code> 来将列表 <code>source</code> 转换成字符串。</p>
<p>随后，我们终于可以 <em>运行</em> 这一使用了 <code>os.system</code> 函数的命令，这一函数可以使命令像是从 <em>系统</em> 中运行的。也就是说，从 shell 中运行的——如果运行成功，它将返回 <code>0</code>，如果运行失败，将返回一个错误代码。</p>
<p>根据命令运行的结果是成功还是失败，我们将打印出与之相应的信息来告诉你备份的结果究竟如何。</p>
<p>就是这样，我们便创建了一份用以备份我们的重要文件的脚本！</p>
<blockquote>
<p><strong>针对 Windows 用户的提示</strong></p>
<p>除了使用双反斜杠转义序列，你还可以使用原始字符串。例如使用 <code>'C:\\Documents'</code> 或 <code>r'C:\Documents'</code>。然而， <em>不</em> 要使用 <code>'C:\Documents'</code>，因为它将被识别为你使用了一个未知的转义序列 <code>\D</code> 来结束路径的输入。</p>
</blockquote>
<p>现在，我们已经拥有了一份可以正常工作的备份脚本，我们可以在任何我们需要备份文件的时候使用它。这被称作软件的 <em>操作（Operation）</em> 或 <em>部署（Deployment）</em> 阶段。</p>
<p>上面所展示的程序能够正常工作，但是（通常）第一个程序都不会按照你所期望的进行工作。可能是因为你没有正确地设计程序，或如果你在输入代码时出现了错误。出现这些情况时，在恰当的时候，你需要回到设计阶段，或者你需要对你的程序进行 Debug 工作。</p>
<h2>第二版</h2>
<p>我们的第一版脚本已经能够工作了。然而，我们还可以对它作出一些改进，从而使它能够更好地在每一天都可以正常工作。我们将这一阶段称之为软件的 <em>维护（Maintenance）</em> 阶段。</p>
<p>我认为有一种颇为有用的改进是起用一种更好的文件命名机制——使用 <em>时间</em> 作为文件名，存储在以当前 <em>日期</em> 为名字的文件夹中，这一文件夹则照常存储在主备份目录下。这种机制的第一个有点在于你的备份会以分层的形式予以存储，从而使得它们能更易于管理。第二个优点是文件名能够更短。第三个优点在于由于只有当天进行了备份才会创建相应的目录，独立的目录能够帮助你快速地检查每天是否都进行了备份。</p>
<p>保存为 <code>backup_ver2.py</code>：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="kn">import</span> <span class="nn">os</span>
<span class="lineno"> 2 </span><span class="kn">import</span> <span class="nn">time</span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span><span class="c1"># 1. 需要备份的文件与目录将被</span>
<span class="lineno"> 5 </span><span class="c1"># 指定在一个列表中。</span>
<span class="lineno"> 6 </span><span class="c1"># 例如在 Windows 下：</span>
<span class="lineno"> 7 </span><span class="c1"># source = [&#39;&quot;C:\\My Documents&quot;&#39;, &#39;C:\\Code&#39;]</span>
<span class="lineno"> 8 </span><span class="c1"># 又例如在 Mac OS X 与 Linux 下：</span>
<span class="lineno"> 9 </span><span class="n">source</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;/Users/swa/notes&#39;</span><span class="p">]</span>
<span class="lineno">10 </span><span class="c1"># 在这里要注意到我们必须在字符串中使用双引号</span>
<span class="lineno">11 </span><span class="c1"># 用以括起其中包含空格的名称。</span>
<span class="lineno">12 </span>
<span class="lineno">13 </span><span class="c1"># 2. 备份文件必须存储在一个</span>
<span class="lineno">14 </span><span class="c1"># 主备份目录中</span>
<span class="lineno">15 </span><span class="c1"># 例如在 Windows 下：</span>
<span class="lineno">16 </span><span class="c1"># target_dir = &#39;E:\\Backup&#39;</span>
<span class="lineno">17 </span><span class="c1"># 又例如在 Mac OS X 和 Linux 下：</span>
<span class="lineno">18 </span><span class="n">target_dir</span> <span class="o">=</span> <span class="s1">&#39;/Users/swa/backup&#39;</span>
<span class="lineno">19 </span><span class="c1"># 要记得将这里的目录地址修改至你将使用的路径</span>
<span class="lineno">20 </span>
<span class="lineno">21 </span><span class="c1"># 如果目标目录不存在则创建目录</span>
<span class="lineno">22 </span><span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">target_dir</span><span class="p">):</span>
<span class="lineno">23 </span>    <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">target_dir</span><span class="p">)</span>  <span class="c1"># 创建目录</span>
<span class="lineno">24 </span>
<span class="lineno">25 </span><span class="c1"># 3. 备份文件将打包压缩成 zip 文件。</span>
<span class="lineno">26 </span><span class="c1"># 4. 将当前日期作为主备份目录下的子目录名称</span>
<span class="lineno">27 </span><span class="n">today</span> <span class="o">=</span> <span class="n">target_dir</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">sep</span> <span class="o">+</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="lineno">28 </span><span class="c1"># 将当前时间作为 zip 文件的文件名</span>
<span class="lineno">29 </span><span class="n">now</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%H%M%S&#39;</span><span class="p">)</span>
<span class="lineno">30 </span>
<span class="lineno">31 </span><span class="c1"># zip 文件名称格式</span>
<span class="lineno">32 </span><span class="n">target</span> <span class="o">=</span> <span class="n">today</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">sep</span> <span class="o">+</span> <span class="n">now</span> <span class="o">+</span> <span class="s1">&#39;.zip&#39;</span>
<span class="lineno">33 </span>
<span class="lineno">34 </span><span class="c1"># 如果子目录尚不存在则创建一个</span>
<span class="lineno">35 </span><span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">today</span><span class="p">):</span>
<span class="lineno">36 </span>    <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">today</span><span class="p">)</span>
<span class="lineno">37 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Successfully created directory&#39;</span><span class="p">,</span> <span class="n">today</span><span class="p">)</span>
<span class="lineno">38 </span>
<span class="lineno">39 </span><span class="c1"># 5. 我们使用 zip 命令将文件打包成 zip 格式</span>
<span class="lineno">40 </span><span class="n">zip_command</span> <span class="o">=</span> <span class="s1">&#39;zip -r {0} {1}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">target</span><span class="p">,</span>
<span class="lineno">41 </span>                                      <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">source</span><span class="p">))</span>
<span class="lineno">42 </span>
<span class="lineno">43 </span><span class="c1"># 运行备份</span>
<span class="lineno">44 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Zip command is:&#39;</span><span class="p">)</span>
<span class="lineno">45 </span><span class="k">print</span><span class="p">(</span><span class="n">zip_command</span><span class="p">)</span>
<span class="lineno">46 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Running:&#39;</span><span class="p">)</span>
<span class="lineno">47 </span><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="n">zip_command</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="lineno">48 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Successful backup to&#39;</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
<span class="lineno">49 </span><span class="k">else</span><span class="p">:</span>
<span class="lineno">50 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Backup FAILED&#39;</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
    $ python backup_ver2.py<br>
    Successfully created directory /Users/swa/backup/20140329<br>
    Zip command is:<br>
    zip -r /Users/swa/backup/20140329/073201.zip /Users/swa/notes<br>
    Running:<br>
      adding: Users/swa/notes/ (stored 0%)<br>
      adding: Users/swa/notes/blah1.txt (stored 0%)<br>
      adding: Users/swa/notes/blah2.txt (stored 0%)<br>
      adding: Users/swa/notes/blah3.txt (stored 0%)<br>
    Successful backup to /Users/swa/backup/20140329/073201.zip
</p>

<p><strong>它是如何工作的</strong></p>
<p>程序的大部分都保持不变。有所改变的部分是我们通过 <code>os.path.exists</code> 函数来检查主文件目录中是否已经存在了以当前日期作为名称的子目录。如果尚未存在，我们通过 <code>os.mkdir</code> 函数来创建一个。</p>
<h2>第三版</h2>
<p>第二版在我要制作多份备份时能够正常工作，但当备份数量过于庞大时，我便很难找出备份之间有什么区别了。例如，我可能对我的程序或者演示文稿做了重大修改，然后我想将这些修改与 zip 文件的文件名产生关联。这可以通过将用户提供的注释内容添加到文件名中来实现。</p>
<p>预先提醒：下面给出的程序将不会正常工作，所以不必惊慌，只需跟着案例去做因为你要在里面学上一课。</p>
<p>保存为 <code>backup_ver3.py</code>：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="kn">import</span> <span class="nn">os</span>
<span class="lineno"> 2 </span><span class="kn">import</span> <span class="nn">time</span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span><span class="c1"># 1. 需要备份的文件与目录将被</span>
<span class="lineno"> 5 </span><span class="c1"># 指定在一个列表中。</span>
<span class="lineno"> 6 </span><span class="c1"># 例如在 Windows 下：</span>
<span class="lineno"> 7 </span><span class="c1"># source = [&#39;&quot;C:\\My Documents&quot;&#39;, &#39;C:\\Code&#39;]</span>
<span class="lineno"> 8 </span><span class="c1"># 又例如在 Mac OS X 与 Linux 下：</span>
<span class="lineno"> 9 </span><span class="n">source</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;/Users/swa/notes&#39;</span><span class="p">]</span>
<span class="lineno">10 </span><span class="c1"># 在这里要注意到我们必须在字符串中使用双引号</span>
<span class="lineno">11 </span><span class="c1"># 用以括起其中包含空格的名称。</span>
<span class="lineno">12 </span>
<span class="lineno">13 </span><span class="c1"># 2. 备份文件必须存储在一个</span>
<span class="lineno">14 </span><span class="c1"># 主备份目录中</span>
<span class="lineno">15 </span><span class="c1"># 例如在 Windows 下：</span>
<span class="lineno">16 </span><span class="c1"># target_dir = &#39;E:\\Backup&#39;</span>
<span class="lineno">17 </span><span class="c1"># 又例如在 Mac OS X 和 Linux 下：</span>
<span class="lineno">18 </span><span class="n">target_dir</span> <span class="o">=</span> <span class="s1">&#39;/Users/swa/backup&#39;</span>
<span class="lineno">19 </span><span class="c1"># 要记得将这里的目录地址修改至你将使用的路径</span>
<span class="lineno">20 </span>
<span class="lineno">21 </span><span class="c1"># 如果目标目录还不存在，则进行创建</span>
<span class="lineno">22 </span><span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">target_dir</span><span class="p">):</span>
<span class="lineno">23 </span>    <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">target_dir</span><span class="p">)</span>  <span class="c1"># 创建目录</span>
<span class="lineno">24 </span>
<span class="lineno">25 </span><span class="c1"># 3. 备份文件将打包压缩成 zip 文件。</span>
<span class="lineno">26 </span><span class="c1"># 4. 将当前日期作为主备份目录下的</span>
<span class="lineno">27 </span><span class="c1"># 子目录名称</span>
<span class="lineno">28 </span><span class="n">today</span> <span class="o">=</span> <span class="n">target_dir</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">sep</span> <span class="o">+</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="lineno">29 </span><span class="c1"># 将当前时间作为 zip 文件的文件名</span>
<span class="lineno">30 </span><span class="n">now</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%H%M%S&#39;</span><span class="p">)</span>
<span class="lineno">31 </span>
<span class="lineno">32 </span><span class="c1"># 添加一条来自用户的注释以创建</span>
<span class="lineno">33 </span><span class="c1"># zip 文件的文件名</span>
<span class="lineno">34 </span><span class="n">comment</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Enter a comment --&gt; &#39;</span><span class="p">)</span>
<span class="lineno">35 </span><span class="c1"># 检查是否有评论键入</span>
<span class="lineno">36 </span><span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">comment</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="lineno">37 </span>    <span class="n">target</span> <span class="o">=</span> <span class="n">today</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">sep</span> <span class="o">+</span> <span class="n">now</span> <span class="o">+</span> <span class="s1">&#39;.zip&#39;</span>
<span class="lineno">38 </span><span class="k">else</span><span class="p">:</span>
<span class="lineno">39 </span>    <span class="n">target</span> <span class="o">=</span> <span class="n">today</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">sep</span> <span class="o">+</span> <span class="n">now</span> <span class="o">+</span> <span class="s1">&#39;_&#39;</span> <span class="o">+</span>
<span class="lineno">40 </span>        <span class="n">comment</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;.zip&#39;</span>
<span class="lineno">41 </span>
<span class="lineno">42 </span><span class="c1"># 如果子目录尚不存在则创建一个</span>
<span class="lineno">43 </span><span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">today</span><span class="p">):</span>
<span class="lineno">44 </span>    <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">today</span><span class="p">)</span>
<span class="lineno">45 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Successfully created directory&#39;</span><span class="p">,</span> <span class="n">today</span><span class="p">)</span>
<span class="lineno">46 </span>
<span class="lineno">47 </span><span class="c1"># 5. 我们使用 zip 命令将文件打包成 zip 格式</span>
<span class="lineno">48 </span><span class="n">zip_command</span> <span class="o">=</span> <span class="s2">&quot;zip -r {0} {1}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">target</span><span class="p">,</span>
<span class="lineno">49 </span>                                      <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">source</span><span class="p">))</span>
<span class="lineno">50 </span>
<span class="lineno">51 </span><span class="c1"># 运行备份</span>
<span class="lineno">52 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Zip command is:&#39;</span><span class="p">)</span>
<span class="lineno">53 </span><span class="k">print</span><span class="p">(</span><span class="n">zip_command</span><span class="p">)</span>
<span class="lineno">54 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Running:&#39;</span><span class="p">)</span>
<span class="lineno">55 </span><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="n">zip_command</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="lineno">56 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Successful backup to&#39;</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
<span class="lineno">57 </span><span class="k">else</span><span class="p">:</span>
<span class="lineno">58 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Backup FAILED&#39;</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
    $ python backup_ver3.py<br>
      File "backup_ver3.py", line 39<br>
        target = today + os.sep + now + '_' +<br>
                                            ^<br>
    SyntaxError: invalid syntax<br>
</p>

<p><strong>它是如何（不）工作的</strong></p>
<p><em>这个程序它跑不起来！</em> Python 会说程序之中存在着语法错误，这意味着脚本并未拥有 Python 期望看见的结构。当我们观察 Python 给出的错误时，会看见它同时也告诉我们它检测到错误的额地方。所以我们开始从那个地方开始对我们的程序进行 <em>Debug</em> 工作。</p>
<p>仔细观察，我们会发现有一独立的逻辑行被分成了两行物理行，但我们并未指定这两行物理行应该是一起的。基本上，Python 已经发现了该逻辑行中的加法运算符（<code>+</code>）没有任何操作数，因此它不知道接下来应当如何继续。因此，我们在程序中作出修正。当我们发现程序中的错误并对其进行修正时，我们称为 <em>“错误修复（Bug Fixing）”</em> 。</p>
<h2>第四版</h2>
<p>保存为 <code>backup_ver4.py</code>：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="kn">import</span> <span class="nn">os</span>
<span class="lineno"> 2 </span><span class="kn">import</span> <span class="nn">time</span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span><span class="c1"># 1. 需要备份的文件与目录将被</span>
<span class="lineno"> 5 </span><span class="c1"># 指定在一个列表中。</span>
<span class="lineno"> 6 </span><span class="c1"># 例如在 Windows 下：</span>
<span class="lineno"> 7 </span><span class="c1"># source = [&#39;&quot;C:\\My Documents&quot;&#39;, &#39;C:\\Code&#39;]</span>
<span class="lineno"> 8 </span><span class="c1"># 又例如在 Mac OS X 与 Linux 下：</span>
<span class="lineno"> 9 </span><span class="n">source</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;/Users/swa/notes&#39;</span><span class="p">]</span>
<span class="lineno">10 </span><span class="c1"># 在这里要注意到我们必须在字符串中使用双引号</span>
<span class="lineno">11 </span><span class="c1"># 用以括起其中包含空格的名称。</span>
<span class="lineno">12 </span>
<span class="lineno">13 </span><span class="c1"># 2. 备份文件必须存储在一个</span>
<span class="lineno">14 </span><span class="c1"># 主备份目录中</span>
<span class="lineno">15 </span><span class="c1"># 例如在 Windows 下：</span>
<span class="lineno">16 </span><span class="c1"># target_dir = &#39;E:\\Backup&#39;</span>
<span class="lineno">17 </span><span class="c1"># 又例如在 Mac OS X 和 Linux 下：</span>
<span class="lineno">18 </span><span class="n">target_dir</span> <span class="o">=</span> <span class="s1">&#39;/Users/swa/backup&#39;</span>
<span class="lineno">19 </span><span class="c1"># 要记得将这里的目录地址修改至你将使用的路径</span>
<span class="lineno">20 </span>
<span class="lineno">21 </span><span class="c1"># 如果目标目录还不存在，则进行创建</span>
<span class="lineno">22 </span><span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">target_dir</span><span class="p">):</span>
<span class="lineno">23 </span>    <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">target_dir</span><span class="p">)</span>  <span class="c1"># 创建目录</span>
<span class="lineno">24 </span>
<span class="lineno">25 </span><span class="c1"># 3. 备份文件将打包压缩成 zip 文件。</span>
<span class="lineno">26 </span><span class="c1"># 4. 将当前日期作为主备份目录下的</span>
<span class="lineno">27 </span><span class="c1"># 子目录名称</span>
<span class="lineno">28 </span><span class="n">today</span> <span class="o">=</span> <span class="n">target_dir</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">sep</span> <span class="o">+</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="lineno">29 </span><span class="c1"># 将当前时间作为 zip 文件的文件名</span>
<span class="lineno">30 </span><span class="n">now</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%H%M%S&#39;</span><span class="p">)</span>
<span class="lineno">31 </span>
<span class="lineno">32 </span><span class="c1"># 添加一条来自用户的注释以创建</span>
<span class="lineno">33 </span><span class="c1"># zip 文件的文件名</span>
<span class="lineno">34 </span><span class="n">comment</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Enter a comment --&gt; &#39;</span><span class="p">)</span>
<span class="lineno">35 </span><span class="c1"># 检查是否有评论键入</span>
<span class="lineno">36 </span><span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">comment</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="lineno">37 </span>    <span class="n">target</span> <span class="o">=</span> <span class="n">today</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">sep</span> <span class="o">+</span> <span class="n">now</span> <span class="o">+</span> <span class="s1">&#39;.zip&#39;</span>
<span class="lineno">38 </span><span class="k">else</span><span class="p">:</span>
<span class="lineno">39 </span>    <span class="n">target</span> <span class="o">=</span> <span class="n">today</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">sep</span> <span class="o">+</span> <span class="n">now</span> <span class="o">+</span> <span class="s1">&#39;_&#39;</span> <span class="o">+</span> \
<span class="lineno">40 </span>        <span class="n">comment</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;.zip&#39;</span>
<span class="lineno">41 </span>
<span class="lineno">42 </span><span class="c1"># 如果子目录尚不存在则创建一个</span>
<span class="lineno">43 </span><span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">today</span><span class="p">):</span>
<span class="lineno">44 </span>    <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">today</span><span class="p">)</span>
<span class="lineno">45 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Successfully created directory&#39;</span><span class="p">,</span> <span class="n">today</span><span class="p">)</span>
<span class="lineno">46 </span>
<span class="lineno">47 </span><span class="c1"># 5. 我们使用 zip 命令将文件打包成 zip 格式</span>
<span class="lineno">48 </span><span class="n">zip_command</span> <span class="o">=</span> <span class="s1">&#39;zip -r {0} {1}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">target</span><span class="p">,</span>
<span class="lineno">49 </span>                                      <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">source</span><span class="p">))</span>
<span class="lineno">50 </span>
<span class="lineno">51 </span><span class="c1"># 运行备份</span>
<span class="lineno">52 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Zip command is:&#39;</span><span class="p">)</span>
<span class="lineno">53 </span><span class="k">print</span><span class="p">(</span><span class="n">zip_command</span><span class="p">)</span>
<span class="lineno">54 </span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;Running:&#39;</span><span class="p">)</span>
<span class="lineno">55 </span><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="n">zip_command</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="lineno">56 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Successful backup to&#39;</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
<span class="lineno">57 </span><span class="k">else</span><span class="p">:</span>
<span class="lineno">58 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Backup FAILED&#39;</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
    $ python backup_ver4.py<br>
    Enter a comment --> added new examples<br>
    Zip command is:<br>
    zip -r /Users/swa/backup/20140329/074122_added_new_examples.zip /Users/swa/notes<br>
    Running:<br>
      adding: Users/swa/notes/ (stored 0%)<br>
      adding: Users/swa/notes/blah1.txt (stored 0%)<br>
      adding: Users/swa/notes/blah2.txt (stored 0%)<br>
      adding: Users/swa/notes/blah3.txt (stored 0%)<br>
    Successful backup to /Users/swa/backup/20140329/074122_added_new_examples.zip
</p>

<p><strong>它是如何工作的</strong></p>
<p>现在程序可以正常工作了！让我们来回顾一下我们在第三版中所作出的实际的增强工作。我们使用 <code>input</code> 函数来接受用户的注释内容，并通过 <code>len</code> 函数来检查输入内容的长度，以检查用户是否确实输入了什么内容。如果用户未输入任何内容而直接敲下了 <code>enter</code> 键（也许这份备份只是一份例行备份而没作出什么特殊的修改），那么我们将继续我们以前所做的工作。</p>
<p>不过，如果用户输入了某些注释内容，那么它将会被附加进 zip 文件的文件名之中，处在 <code>.zip</code> 扩展名之前。在这里需要注意的是我们用下划线替换注释中的空格——这是因为管理没有空格的文件名总会容易得多。</p>
<h2>继续改进</h2>
<p>第四版程序已经是一份对大多数用户来说都能令人满意地工作运行的脚本了，不过总会有改进的余地在。例如，你可以在程序中添加 <code>-v</code> 选项来指定程序的显示信息的 <em>详尽_1 程度，从而使你的程序可以更具说服力，或者是添加 <code>-q</code> 选项使程序能 _静默（Quiet）</em> 运行。</p>
<p>另一个可以增强的方向是在命令行中允许额外的文件与目录传递到脚本中。我们可以从 <code>sys.argv</code> 列表中获得这些名称，然后我们可以通过<code>list</code> 类提供的 <code>extend</code> 方法把它们添加到我们的 <code>source</code> 列表中.</p>
<p>最重要的改进方向是不使用 <code>os.system</code> 方法来创建归档文件，而是使用 <a href="http://docs.python.org/3/library/zipfile.html">zipfile</a> 或 <a href="http://docs.python.org/3/library/tarfile.html">tarfile</a> 内置的模块来创建它们的归档文件。这些都是标准库的一部分，随时供你在你的电脑上没有 zip 程序作为没有外部依赖的情况下使用这些功能。</p>
<p>不过，在上面的例子中，我一直都在使用 <code>os.system</code> 这种方式作为创建备份的手段，这样就能保证案例对于所有人来说都足够简单同时也确实有用。</p>
<p>你可以试试编写第五版脚本吗？在脚本中使用 <a href="http://docs.python.org/3/library/zipfile.html">zipfile</a> 模块而非 <code>os.system</code> 调用。</p>
<h2>软件开发流程</h2>
<p>我们已经经历了开发一款软件的流程中的各个<code>阶段（Phases）</code>。现在可以将这些阶段总结如下：</p>
<ol>
<li>What/做什么（分析）</li>
<li>How/怎么做（设计）</li>
<li>Do It/开始做（执行）</li>
<li>Test/测试（测试与修复错误）</li>
<li>Use/使用（操作或开发）</li>
<li>Maintain/维护（改进）</li>
</ol>
<p>编写程序时推荐的一种方式是遵循我们在编写备份脚本时所经历的步骤：进行分析与设计；开始实现一个简单版本；测试并修复错误；开始使用以确保工作状况皆如期望那般。现在，你可以添加任何你所希望拥有的功能，并继续去重复这一“开始做—测试—使用”循环，需要做多少次就去做多少次。</p>
<p>要记住：</p>
<blockquote>
<p>程序是成长起来的，不是搭建出来的。 （Software is grown, not built.） ——<a href="http://97things.oreilly.com/wiki/index.php/Great_software_is_not_built,_it_is_grown">Bill de hÓra</a></p>
</blockquote>
<h2>总结</h2>
<p>我们已经看到了如何创建我们自己的 Python 程序与脚本，也了解了编写这些程序需要经历的数个阶段。或许你会发现我们在本章中学习的内容对于编写你自己的程序很有帮助，这样你就能慢慢习惯 Python，同样包括它解决问题的方式。</p>
<p>接下来，我们将讨论面向对象编程。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              57/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide slide-58">
          <div class="inner">
            
            <header><h1>面向对象编程</h1></header>
            
            
            <section><p>在至今我们编写的所有程序中，我们曾围绕函数设计我们的程序，也就是那些能够处理数据的代码块。这被称作 <em>面向过程（Procedure-oriented）</em> 的编程方式。还有另外一种组织起你的程序的方式，它将数据与功能进行组合，并将其包装在被称作“对象”的东西内。在大多数情况下，你可以使用过程式编程，但是当你需要编写一个大型程序或面对某一更适合此方法的问题时，你可以考虑使用面向对象式的编程技术。</p>
<p>类与对象是面向对象编程的两个主要方面。一个 <strong>类（Class）</strong> 能够创建一种新的 <em>类型（Type）</em> ，其中 <strong>对象（Object）</strong> 就是类的 <strong>实例（Instance）</strong> 。可以这样来类比：你可以拥有类型 <code>int</code> 的变量，也就是说存储整数的变量是 <code>int</code> 类的实例（对象）。</p>
<blockquote>
<p><strong>针对静态编程语言程序员的提示</strong></p>
<p>请注意，即使是整数也会被视为对象（<code>int</code> 类的对象）。这不同于 C++ 与 Java（1.5 版之前），在它们那儿整数是原始内置类型。1</p>
<p>有关类的更多详细信息，请参阅 <code>help(int)</code>。</p>
<p>C# 与 Java 1.5 程序员会发现这与 <em>装箱与拆箱（Boxing and Unboxing）</em> 概念2颇有相似之处。</p>
</blockquote>
<p>对象可以使用 <em>属于</em> 它的普通变量来存储数据。这种从属于对象或类的变量叫作 <strong>字段（Field）</strong> 。对象还可以使用 <em>属于</em> 类的函数来实现某些功能，这种函数叫作类的 <strong>方法（Method）</strong> 。这两个术语很重要，它有助于我们区分函数与变量，哪些是独立的，哪些又是属于类或对象的。总之，字段与方法通称类的 <strong>属性（Attribute）</strong> 。</p>
<p>字段有两种类型——它们属于某一类的各个实例或对象，或是从属于某一类本身。它们被分别称作 <strong>实例变量（Instance Variables）</strong> 与 <strong>类变量（Class Variables）</strong> 。</p>
<p>通过 <code>class</code> 关键字可以创建一个类。这个类的字段与方法可以在缩进代码块中予以列出。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              58/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide slide-59">
          <div class="inner">
            
            <header><h2><code>self</code></h2></header>
            
            
            <section><p>类方法与普通函数只有一种特定的区别——前者必须多加一个参数在参数列表开头，这个名字必须添加到参数列表的开头，但是你 <em>不用</em> 在你调用这个功能时为这个参数赋值，Python 会为它提供。这种特定的变量引用的是对象 <em>本身</em> ，按照惯例，它被赋予 <code>self</code> 这一名称。</p>
<p>尽管你可以为这一参数赋予任何名称，但是 <em>强烈推荐</em> 你使用 <code>self</code> 这一名称——其它的任何一种名称绝对会引人皱眉。使用一个标准名称能带来诸多好处——任何一位你的程序的读者能够立即认出它，甚至是专门的 IDE（Integrated Development Environments，集成开发环境）也可以为你提供帮助，只要你使用了 <code>self</code> 这一名称。</p>
<blockquote>
<p><strong>针对 C++/Java/C# 程序员的提示</strong></p>
<p>Python 中的 <code>self</code> 相当于 C++ 中的 <code>this</code> 指针以及 Java 与 C# 中的 <code>this</code> 引用。</p>
</blockquote>
<p>你一定会在想 Python 是如何给 <code>self</code> 赋值的，以及为什么你不必给它一个值。一个例子或许会让这些疑问得到解答。假设你有一个 <code>MyClass</code> 的类，这个类下有一个实例 <code>myobject</code>。当你调用一个这个对象的方法，如 <code>myobject.method(arg1, arg2)</code> 时，Python 将会自动将其转换成 <code>MyClass.method(myobject, arg1, arg2)</code>——这就是 <code>self</code> 的全部特殊之处所在。</p>
<p>这同时意味着，如果你有一个没有参数的方法，你依旧必须拥有一个参数——<code>self</code>。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              59/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-60">
          <div class="inner">
            
            <header><h2>类</h2></header>
            
            
            <section><p>最简单的类（Class）可以通过下面的案例来展示（保存为 <code>oop_simplestclass.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
<span class="lineno">2 </span>    <span class="k">pass</span>  <span class="c1"># 一个空的代码块</span>
<span class="lineno">3 </span>
<span class="lineno">4 </span><span class="n">p</span> <span class="o">=</span> <span class="n">Person</span><span class="p">()</span>
<span class="lineno">5 </span><span class="k">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python oop_simplestclass.py<br>
<__main__.Person instance at 0x10171f518>
</p>

<p><strong>它是如何工作的</strong></p>
<p>我们通过使用 <code>class</code> 语句与这个类的名称来创建一个新类。在它之后是一个缩进的语句块，代表这个类的主体。在本案例中，我们创建的是一个空代码块，使用 <code>pass</code> 语句予以标明。</p>
<p>然后，我们通过采用类的名称后跟一对括号的方法，给这个类创建一个对象（或是实例，我们将在后面的章节中了解有关实例的更多内容）。为了验证我们的操作是否成功，我们通过直接将它们打印出来来确认变量的类型。结果告诉我们我们在 <code>Person</code> 类的 <code>__main__</code> 模块中拥有了一个实例。</p>
<p>要注意到在本例中还会打印出计算机内存中存储你的对象的地址。案例中给出的地址会与你在你的电脑上所能看见的地址不相同，因为 Python 会在它找到的任何空间来存储对象。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              60/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-61">
          <div class="inner">
            
            <header><h2>方法</h2></header>
            
            
            <section><p>我们已经在前面讨论过类与对象一如函数那般都可以带有方法（Method），唯一的不同在于我们还拥有一个额外的 <code>self</code> 变量。现在让我们来看看下面的例子（保存为 <code>oop_method.py</code>）。</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
<span class="lineno">2 </span>    <span class="k">def</span> <span class="nf">say_hi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="lineno">3 </span>        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Hello, how are you?&#39;</span><span class="p">)</span>
<span class="lineno">4 </span>
<span class="lineno">5 </span><span class="n">p</span> <span class="o">=</span> <span class="n">Person</span><span class="p">()</span>
<span class="lineno">6 </span><span class="n">p</span><span class="o">.</span><span class="n">say_hi</span><span class="p">()</span>
<span class="lineno">7 </span><span class="c1"># 前面两行同样可以写作</span>
<span class="lineno">8 </span><span class="c1"># Person().say_hi()</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python oop_method.py<br>
Hello, how are you?
</p>

<p><strong>它是如何工作的</strong></p>
<p>这里我们就能看见 <code>self</code> 是如何行动的了。要注意到 <code>say_hi</code> 这一方法不需要参数，但是依旧在函数定义中拥有 <code>self</code> 变量。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              61/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-62">
          <div class="inner">
            
            <header><h2><code>__init__</code> 方法</h2></header>
            
            
            <section><p>在 Python 的类中，有不少方法的名称具有着特殊的意义。现在我们要了解的就是 <code>__init__</code> 方法的意义。</p>
<p><code>__init__</code> 方法会在类的对象被实例化（Instantiated）时立即运行。这一方法可以对任何你想进行操作的目标对象进行 <em>初始化（Initialization）</em> 操作。这里你要注意在 init 前后加上的双下划线。</p>
<p>案例（保存为 <code>oop_init.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
<span class="lineno"> 2 </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
<span class="lineno"> 3 </span>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
<span class="lineno"> 4 </span>
<span class="lineno"> 5 </span>    <span class="k">def</span> <span class="nf">say_hi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="lineno"> 6 </span>        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Hello, my name is&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="lineno"> 7 </span>
<span class="lineno"> 8 </span><span class="n">p</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="s1">&#39;Swaroop&#39;</span><span class="p">)</span>
<span class="lineno"> 9 </span><span class="n">p</span><span class="o">.</span><span class="n">say_hi</span><span class="p">()</span>
<span class="lineno">10 </span><span class="c1"># 前面两行同时也能写作</span>
<span class="lineno">11 </span><span class="c1"># Person(&#39;Swaroop&#39;).say_hi()</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python oop_init.py<br>
Hello, my name is Swaroop
</p>

<p><strong>它是如何工作的</strong></p>
<p>在本例中，我们定义一个接受 <code>name</code> 参数（当然还有 <code>self</code> 参数）的 <code>__init__</code> 方法。在这里，我们创建了一个字段，同样称为 <code>name</code>。要注意到尽管它们的名字都是“name”，但这是两个不相同的变量。虽说如此，但这并不会造成任何问题，因为 <code>self.name</code> 中的点号意味着这个叫作“name”的东西是某个叫作“self”的对象的一部分，而另一个 <code>name</code> 则是一个局部变量。由于我们已经如上这般明确指出了我们所指的是哪一个名字，所以它不会引发混乱。</p>
<p>当我们在 <code>Person</code> 类下创建新的实例 <code>p</code> 时，我们采用的方法是先写下类的名称，后跟括在括号中的参数，形如：<code>p = Person('Swaroop')</code>。</p>
<p>我们不会显式地调用 <code>__init__</code> 方法。 这正是这个方法的特殊之处所在。</p>
<p>现在，我们可以使用我们方法中的 <code>self.name</code> 字段了，使用的方法在 <code>say_hi</code> 方法中已经作过说明。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              62/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-63">
          <div class="inner">
            
            <header><h2>类变量与对象变量</h2></header>
            
            
            <section><p>我们已经讨论过了类与对象的功能部分（即方法），现在让我们来学习它们的数据部分。数据部分——也就是字段——只不过是 <em>绑定（Bound）</em> 到类与对象的 <strong>命名空间（Namespace）</strong> 的普通变量。这就代表着这些名称仅在这些类与对象所存在的上下文中有效。这就是它们被称作 <em>“命名空间”</em> 的原因。</p>
<p><em>字段（Field）</em> 有两种类型——类变量与对象变量，它们根据究竟是类还是对象 <em>拥有</em> 这些变量来进行分类。</p>
<p><strong>类变量（Class Variable）</strong> 是共享的（Shared）——它们可以被属于该类的所有实例访问。该类变量只拥有一个副本，当任何一个对象对类变量作出改变时，发生的变动将在其它所有实例中都会得到体现。</p>
<p><strong>对象变量（Object variable）</strong> 由类的每一个独立的对象或实例所拥有。在这种情况下，每个对象都拥有属于它自己的字段的副本，也就是说，它们不会被共享，也不会以任何方式与其它不同实例中的相同名称的字段产生关联。下面一个例子可以帮助你理解（保存为 <code>oop_objvar.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="c1"># coding=UTF-8</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span><span class="k">class</span> <span class="nc">Robot</span><span class="p">:</span>
<span class="lineno"> 4 </span>    <span class="sd">&quot;&quot;&quot;表示有一个带有名字的机器人。&quot;&quot;&quot;</span>
<span class="lineno"> 5 </span>
<span class="lineno"> 6 </span>    <span class="c1"># 一个类变量，用来计数机器人的数量</span>
<span class="lineno"> 7 </span>    <span class="n">population</span> <span class="o">=</span> <span class="mi">0</span>
<span class="lineno"> 8 </span>
<span class="lineno"> 9 </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
<span class="lineno">10 </span>        <span class="sd">&quot;&quot;&quot;初始化数据&quot;&quot;&quot;</span>
<span class="lineno">11 </span>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
<span class="lineno">12 </span>        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;(Initializing {})&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
<span class="lineno">13 </span>
<span class="lineno">14 </span>        <span class="c1"># 当有人被创建时，机器人</span>
<span class="lineno">15 </span>        <span class="c1"># 将会增加人口数量</span>
<span class="lineno">16 </span>        <span class="n">Robot</span><span class="o">.</span><span class="n">population</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="lineno">17 </span>
<span class="lineno">18 </span>    <span class="k">def</span> <span class="nf">die</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="lineno">19 </span>        <span class="sd">&quot;&quot;&quot;我挂了。&quot;&quot;&quot;</span>
<span class="lineno">20 </span>        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;{} is being destroyed!&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
<span class="lineno">21 </span>
<span class="lineno">22 </span>        <span class="n">Robot</span><span class="o">.</span><span class="n">population</span> <span class="o">-=</span> <span class="mi">1</span>
<span class="lineno">23 </span>
<span class="lineno">24 </span>        <span class="k">if</span> <span class="n">Robot</span><span class="o">.</span><span class="n">population</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="lineno">25 </span>            <span class="k">print</span><span class="p">(</span><span class="s2">&quot;{} was the last one.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
<span class="lineno">26 </span>        <span class="k">else</span><span class="p">:</span>
<span class="lineno">27 </span>            <span class="k">print</span><span class="p">(</span><span class="s2">&quot;There are still {:d} robots working.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
<span class="lineno">28 </span>                <span class="n">Robot</span><span class="o">.</span><span class="n">population</span><span class="p">))</span>
<span class="lineno">29 </span>
<span class="lineno">30 </span>    <span class="k">def</span> <span class="nf">say_hi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="lineno">31 </span>        <span class="sd">&quot;&quot;&quot;来自机器人的诚挚问候</span>
<span class="lineno">32 </span>
<span class="lineno">33 </span><span class="sd">        没问题，你做得到。&quot;&quot;&quot;</span>
<span class="lineno">34 </span>        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Greetings, my masters call me {}.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
<span class="lineno">35 </span>
<span class="lineno">36 </span>    <span class="nd">@classmethod</span>
<span class="lineno">37 </span>    <span class="k">def</span> <span class="nf">how_many</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<span class="lineno">38 </span>        <span class="sd">&quot;&quot;&quot;打印出当前的人口数量&quot;&quot;&quot;</span>
<span class="lineno">39 </span>        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;We have {:d} robots.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">population</span><span class="p">))</span>
<span class="lineno">40 </span>
<span class="lineno">41 </span>
<span class="lineno">42 </span><span class="n">droid1</span> <span class="o">=</span> <span class="n">Robot</span><span class="p">(</span><span class="s2">&quot;R2-D2&quot;</span><span class="p">)</span>
<span class="lineno">43 </span><span class="n">droid1</span><span class="o">.</span><span class="n">say_hi</span><span class="p">()</span>
<span class="lineno">44 </span><span class="n">Robot</span><span class="o">.</span><span class="n">how_many</span><span class="p">()</span>
<span class="lineno">45 </span>
<span class="lineno">46 </span><span class="n">droid2</span> <span class="o">=</span> <span class="n">Robot</span><span class="p">(</span><span class="s2">&quot;C-3PO&quot;</span><span class="p">)</span>
<span class="lineno">47 </span><span class="n">droid2</span><span class="o">.</span><span class="n">say_hi</span><span class="p">()</span>
<span class="lineno">48 </span><span class="n">Robot</span><span class="o">.</span><span class="n">how_many</span><span class="p">()</span>
<span class="lineno">49 </span>
<span class="lineno">50 </span><span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Robots can do some work here.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="lineno">51 </span>
<span class="lineno">52 </span><span class="k">print</span><span class="p">(</span><span class="s2">&quot;Robots have finished their work. So let&#39;s destroy them.&quot;</span><span class="p">)</span>
<span class="lineno">53 </span><span class="n">droid1</span><span class="o">.</span><span class="n">die</span><span class="p">()</span>
<span class="lineno">54 </span><span class="n">droid2</span><span class="o">.</span><span class="n">die</span><span class="p">()</span>
<span class="lineno">55 </span>
<span class="lineno">56 </span><span class="n">Robot</span><span class="o">.</span><span class="n">how_many</span><span class="p">()</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
    $ python oop_objvar.py<br>
    (Initializing R2-D2)<br>
    Greetings, my masters call me R2-D2.<br>
    We have 1 robots.<br>
    (Initializing C-3PO)<br>
    Greetings, my masters call me C-3PO.<br>
    We have 2 robots.<br>
    <br>
    Robots can do some work here.<br>
    <br>
    Robots have finished their work. So let's destroy them.<br>
    R2-D2 is being destroyed!<br>
    There are still 1 robots working.<br>
    C-3PO is being destroyed!<br>
    C-3PO was the last one.<br>
    We have 0 robots.<br>
</p>

<p><strong>它是如何工作的</strong></p>
<p>这是一个比较长的案例，但是它有助于展现类与对象变量的本质。在本例中，<code>population</code> 属于 <code>Robot</code> 类，因此它是一个类变量。<code>name</code> 变量属于一个对象（通过使用 <code>self</code> 分配），因此它是一个对象变量。</p>
<p>因此，我们通过 <code>Robot.population</code> 而非 <code>self.population</code> 引用 <code>population</code> 类变量。我们对于 <code>name</code> 对象变量采用 <code>self.name</code> 标记法加以称呼，这是这个对象中所具有的方法。要记住这个类变量与对象变量之间的简单区别。同时你还要注意当一个对象变量与一个类变量名称相同时，类变量将会被隐藏。</p>
<p>除了 <code>Robot.popluation</code>，我们还可以使用 <code>self.__class__.population</code>，因为每个对象都通过 <code>self.__class__</code> 属性来引用它的类。</p>
<p><code>how_many</code> 实际上是一个属于类而非属于对象的方法。这就意味着我们可以将它定义为一个 <code>classmethod（类方法）</code> 或是一个 <code>staticmethod（静态方法）</code>，这取决于我们是否需要知道这一方法属于哪个类。由于我们已经引用了一个类变量，因此我们使用 <code>classmethod（类方法）</code>。</p>
<p>我们使用<a href="18.more.html#decorator">装饰器（Decorator）</a>将 <code>how_many</code> 方法标记为类方法。</p>
<p>你可以将装饰器想象为调用一个包装器（Wrapper）函数的快捷方式，因此启用 <code>@classmethod</code> 装饰器等价于调用：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="n">how_many</span> <span class="o">=</span> <span class="nb">classmethod</span><span class="p">(</span><span class="n">how_many</span><span class="p">)</span>
</pre></div>

<p>你会观察到 <code>__init__</code> 方法会使用一个名字以初始化 <code>Robot</code> 实例。在这一方法中，我们将 <code>population</code> 按 1 往上增长，因为我们多增加了一台机器人。你还会观察到 <code>self.name</code> 的值是指定给每个对象的，这体现了对象变量的本质。</p>
<p>你需要记住你 <em>只能</em> 使用 <code>self</code> 来引用同一对象的变量与方法。这被称作 <em>属性引用（Attribute Reference）</em> 。</p>
<p>在本程序中，我们还会看见针对类和方法的 <em>文档字符串（DocStrings）</em> 的使用方式。我们可以在运行时通过 <code>Robot.__doc__</code> 访问类的 文档字符串，对于方法的文档字符串，则可以使用 <code>Robot.say_hi.__doc__</code>。</p>
<p>在 <code>die</code> 方法中，我们简单地将 <code>Robot.population</code> 的计数按 1 向下减少。</p>
<p>所有的类成员都是公开的。但有一个例外：如果你使用数据成员并在其名字中 <em>使用双下划线作为前缀</em> ，形成诸如 <code>__privatevar</code> 这样的形式，Python 会使用名称调整（Name-mangling）来使其有效地成为一个私有变量。</p>
<p>因此，你需要遵循这样的约定：任何在类或对象之中使用的变量其命名应以下划线开头，其它所有非此格式的名称都将是公开的，并可以为其它任何类或对象所使用。请记得这只是一个约定，Python 并不强制如此（除了双下划线前缀这点）。</p>
<blockquote>
<p><strong>针对 C++/Java/C# 程序员的提示</strong></p>
<p>所有类成员（包括数据成员）都是 <em>公开的</em> ，并且 Python 中所有的方法都是 <em>虚拟的（Virtual）</em> 。</p>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              63/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-64">
          <div class="inner">
            
            <header><h2>继承</h2></header>
            
            
            <section><p>面向对象编程的一大优点是对代码的 <strong>重用（Reuse）</strong> ，重用的一种实现方法就是通过 <strong>继承（Inheritance）</strong> 机制。继承最好是想象成在类之间实现 <strong>类型与子类型（Type and Subtype）</strong> 关系的工具。</p>
<p>现在假设你希望编写一款程序来追踪一所大学里的老师和学生。有一些特征是他们都具有的，例如姓名、年龄和地址。另外一些特征是他们独有的，一如教师的薪水、课程与假期，学生的成绩和学费。</p>
<p>你可以为每一种类型创建两个独立的类，并对它们进行处理。但增添一条共有特征就意味着将其添加进两个独立的类。这很快就会使程序变得笨重。</p>
<p>一个更好的方法是创建一个公共类叫作 <code>SchoolMember</code>，然后让教师和学生从这个类中 <em>继承（Inherit）</em> ，也就是说他们将成为这一类型（类）的子类型，而我们就可以向这些子类型中添加某些该类独有的特征。</p>
<p>这种方法有诸多优点。如果我们增加或修改了 <code>SchoolMember</code> 的任何功能，它将自动反映在子类型中。举个例子，你可以通过简单地向 SchoolMember 类进行操作，来为所有老师与学生添加一条新的 ID 卡字段。不过，对某一子类型作出的改动并不会影响到其它子类型。另一大优点是你可以将某一老师或学生对象看作 <code>SchoolMember</code> 的对象并加以引用，这在某些情况下会大为有用，例如清点学校中的成员数量。这被称作 <strong>多态性（Polymorphism）</strong> ，在任何情况下，如果父类型希望，子类型都可以被替换，也就是说，该对象可以被看作父类的实例。</p>
<p>同时还需要注意的是我们重用父类的代码，但我们不需要再在其它类中重复它们，当我们使用独立类型时才会必要地重复这些代码。</p>
<p>在上文设想的情况中，<code>SchoolMember</code> 类会被称作 <strong>基类（Base Class）</strong> 或是 <strong>超类（Superclass）</strong> 。<code>Teacher</code> 和 <code>Student</code> 类会被称作 <strong>派生类（Derived Classes）</strong> 或是 <strong>子类（Subclass）</strong> 。</p>
<p>我们将通过下面的程序作为案例来进行了解（保存为 <code>oop_subclass.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="c1"># coding=UTF-8</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span><span class="k">class</span> <span class="nc">SchoolMember</span><span class="p">:</span>
<span class="lineno"> 4 </span>    <span class="sd">&#39;&#39;&#39;代表任何学校里的成员。&#39;&#39;&#39;</span>
<span class="lineno"> 5 </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">):</span>
<span class="lineno"> 6 </span>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
<span class="lineno"> 7 </span>        <span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>
<span class="lineno"> 8 </span>        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;(Initialized SchoolMember: {})&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
<span class="lineno"> 9 </span>
<span class="lineno">10 </span>    <span class="k">def</span> <span class="nf">tell</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="lineno">11 </span>        <span class="sd">&#39;&#39;&#39;告诉我有关我的细节。&#39;&#39;&#39;</span>
<span class="lineno">12 </span>        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Name:&quot;{}&quot; Age:&quot;{}&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">age</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="lineno">13 </span>
<span class="lineno">14 </span>
<span class="lineno">15 </span><span class="k">class</span> <span class="nc">Teacher</span><span class="p">(</span><span class="n">SchoolMember</span><span class="p">):</span>
<span class="lineno">16 </span>    <span class="sd">&#39;&#39;&#39;代表一位老师。&#39;&#39;&#39;</span>
<span class="lineno">17 </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">salary</span><span class="p">):</span>
<span class="lineno">18 </span>        <span class="n">SchoolMember</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">)</span>
<span class="lineno">19 </span>        <span class="bp">self</span><span class="o">.</span><span class="n">salary</span> <span class="o">=</span> <span class="n">salary</span>
<span class="lineno">20 </span>        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;(Initialized Teacher: {})&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
<span class="lineno">21 </span>
<span class="lineno">22 </span>    <span class="k">def</span> <span class="nf">tell</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="lineno">23 </span>        <span class="n">SchoolMember</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="lineno">24 </span>        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Salary: &quot;{:d}&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">salary</span><span class="p">))</span>
<span class="lineno">25 </span>
<span class="lineno">26 </span>
<span class="lineno">27 </span><span class="k">class</span> <span class="nc">Student</span><span class="p">(</span><span class="n">SchoolMember</span><span class="p">):</span>
<span class="lineno">28 </span>    <span class="sd">&#39;&#39;&#39;代表一位学生。&#39;&#39;&#39;</span>
<span class="lineno">29 </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">marks</span><span class="p">):</span>
<span class="lineno">30 </span>        <span class="n">SchoolMember</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">)</span>
<span class="lineno">31 </span>        <span class="bp">self</span><span class="o">.</span><span class="n">marks</span> <span class="o">=</span> <span class="n">marks</span>
<span class="lineno">32 </span>        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;(Initialized Student: {})&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
<span class="lineno">33 </span>
<span class="lineno">34 </span>    <span class="k">def</span> <span class="nf">tell</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="lineno">35 </span>        <span class="n">SchoolMember</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="lineno">36 </span>        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Marks: &quot;{:d}&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">marks</span><span class="p">))</span>
<span class="lineno">37 </span>
<span class="lineno">38 </span><span class="n">t</span> <span class="o">=</span> <span class="n">Teacher</span><span class="p">(</span><span class="s1">&#39;Mrs. Shrividya&#39;</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">30000</span><span class="p">)</span>
<span class="lineno">39 </span><span class="n">s</span> <span class="o">=</span> <span class="n">Student</span><span class="p">(</span><span class="s1">&#39;Swaroop&#39;</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">75</span><span class="p">)</span>
<span class="lineno">40 </span>
<span class="lineno">41 </span><span class="c1"># 打印一行空白行</span>
<span class="lineno">42 </span><span class="k">print</span><span class="p">()</span>
<span class="lineno">43 </span>
<span class="lineno">44 </span><span class="n">members</span> <span class="o">=</span> <span class="p">[</span><span class="n">t</span><span class="p">,</span> <span class="n">s</span><span class="p">]</span>
<span class="lineno">45 </span><span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">members</span><span class="p">:</span>
<span class="lineno">46 </span>    <span class="c1"># 对全体师生工作</span>
<span class="lineno">47 </span>    <span class="n">member</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python oop_subclass.py<br>
(Initialized SchoolMember: Mrs. Shrividya)<br>
(Initialized Teacher: Mrs. Shrividya)<br>
(Initialized SchoolMember: Swaroop)<br>
(Initialized Student: Swaroop)<br>
<br>
Name:"Mrs. Shrividya" Age:"40" Salary: "30000"<br>
Name:"Swaroop" Age:"25" Marks: "75"<br>
</p>

<p><strong>它是如何工作的</strong></p>
<p>要想使用继承，在定义类6时我们需要在类后面跟一个包含基类名称的元组。然后，我们会注意到基类的 <code>__init__</code> 方法是通过 <code>self</code> 变量被显式调用的，因此我们可以初始化对象的基类部分。下面这一点很重要，需要牢记——因为我们在 <code>Teacher</code> 和 <code>Student</code> 子类中定义了 <code>__init__</code> 方法，Python 不会自动调用基类 <code>SchoolMember</code> 的构造函数，你必须自己显式地调用它。</p>
<p>相反，如果我们 <em>没有</em> 在一个子类中定义一个 <code>__init__</code> 方法，Python 将会自动调用基类的构造函数。</p>
<p>我们会观察到，我们可以通过在方法名前面加上基类名作为前缀，再传入 <code>self</code> 和其余变量，来调用基类的方法。</p>
<p>在这里你需要注意，当我们使用 <code>SchoolMember</code> 类的 <code>tell</code> 方法时，我们可以将 <code>Teacher</code> 或 <code>Student</code> 的实例看作 <code>SchoolMember</code> 的实例。</p>
<p>同时，你会发现被调用的是子类型的 <code>tell</code> 方法，而不是 <code>SchoolMember</code> 的 <code>tell</code> 方法。理解这一问题的一种思路是 Python <em>总会</em> 从当前的实际类型中开始寻找方法，在本例中即是如此。如果它找不到对应的方法，它就会在该类所属的基本类中依顺序逐个寻找属于基本类的方法，这个基本类是在定义子类时后跟的元组指定的。</p>
<p>这里有一条有关术语的注释——如果继承元组（Inheritance Tuple）中有超过一个类，这种情况就会被称作 <strong>多重继承（Multiple Inheritance）</strong> 。</p>
<p><code>end</code> 参数用在超类的 <code>tell()</code> 方法的 <code>print</code> 函数中，目的是打印一行并允许下一次打印在同一行继续。这是一个让 <code>print</code> 能够不在打印的末尾打印出 <code>\n</code> （新行换行符）符号的小窍门。</p>
<h2>总结</h2>
<p>我们已经探索了有关类和对象的各个方面，还有与它们相关的各类术语。我们还了解了面向对象编程的益处与陷阱。Python 是高度面向对象的，从长远来看，了解这些概念对你大有帮助。</p>
<p>接下来，我们将学习如何处理输入与输出，以及如何在 Python 中访问文件。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              64/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide slide-65">
          <div class="inner">
            
            <header><h1>输入与输出</h1></header>
            
            
            <section><p>有些时候你的程序会与用户产生交互。举个例子，你会希望获取用户的输入内容，并向用户打印出一些返回的结果。我们可以分别通过 <code>input()</code> 函数与 <code>print</code> 函数来实现这一需求。</p>
<p>对于输入，我们还可以使用 <code>str</code> （String，字符串）类的各种方法。例如，你可以使用 <code>rjust</code> 方法来获得一个右对齐到指定宽度的字符串。你可以查看 <code>help(str)</code> 来了解更多细节。</p>
<p>另一个常见的输入输出类型是处理文件。创建、读取与写入文件对于很多程序来说是必不可少的功能，而我们将在本章探讨这一方面。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              65/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-66">
          <div class="inner">
            
            <header><h2>用户输入内容</h2></header>
            
            
            <section><p>将以下程序保存为 <code>io_input.py</code>：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="k">def</span> <span class="nf">reverse</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
<span class="lineno"> 2 </span>    <span class="k">return</span> <span class="n">text</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span>
<span class="lineno"> 5 </span><span class="k">def</span> <span class="nf">is_palindrome</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
<span class="lineno"> 6 </span>    <span class="k">return</span> <span class="n">text</span> <span class="o">==</span> <span class="n">reverse</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="lineno"> 7 </span>
<span class="lineno"> 8 </span>
<span class="lineno"> 9 </span><span class="n">something</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter text: &quot;</span><span class="p">)</span>
<span class="lineno">10 </span><span class="k">if</span> <span class="n">is_palindrome</span><span class="p">(</span><span class="n">something</span><span class="p">):</span>
<span class="lineno">11 </span>    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Yes, it is a palindrome&quot;</span><span class="p">)</span>
<span class="lineno">12 </span><span class="k">else</span><span class="p">:</span>
<span class="lineno">13 </span>    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;No, it is not a palindrome&quot;</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python3 io_input.py<br>
Enter text: sir<br>
No, it is not a palindrome<br>
<br>
$ python3 io_input.py<br>
Enter text: madam<br>
Yes, it is a palindrome<br>
<br>
$ python3 io_input.py<br>
Enter text: racecar<br>
Yes, it is a palindrome
</p>

<p><strong>它是如何工作的</strong></p>
<p>我们使用切片功能翻转文本。我们已经了解了我们可以通过使用 <code>seq[a:b]</code> 来从位置 <code>a</code> 开始到位置 <code>b</code> 结束来<a href="12.data_structures.html#sequence">对序列进行切片</a> 。我们同样可以提供第三个参数来确定切片的 <em>步长（Step）</em> 。默认的步长为 <code>1</code>，它会返回一份连续的文本。如果给定一个负数步长，如 <code>-1</code>，将返回翻转过的文本。</p>
<p><code>input()</code> 函数可以接受一个字符串作为参数，并将其展示给用户。尔后它将等待用户输入内容或敲击返回键。一旦用户输入了某些内容并敲下返回键，<code>input()</code> 函数将返回用户输入的文本。</p>
<p>我们获得文本并将其进行翻转。如果原文本与翻转后的文本相同，则判断这一文本是<a href="http://en.wiktionary.org/wiki/palindrome">回文</a>。</p>
<h3>作业练习</h3>
<p>要想检查文本是否属于回文需要忽略其中的标点、空格与大小写。例如，“Rise to vote, sir.”是一段回文文本，但是我们现有的程序不会这么认为。你可以改进上面的程序以使它能够识别这段回文吗？</p>
<p>如果你需要一些提示，那么这里有一个想法……</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              66/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-67">
          <div class="inner">
            
            <header><h2>文件</h2></header>
            
            
            <section><p>你可以通过创建一个属于 <code>file</code> 类的对象并适当使用它的 <code>read</code>、<code>readline</code>、<code>write</code> 方法来打开或使用文件，并对它们进行读取或写入。读取或写入文件的能力取决于你指定以何种方式打开文件。最后，当你完成了文件，你可以调用 <code>close</code> 方法来告诉 Python 我们已经完成了对该文件的使用。</p>
<p>案例（保存为 <code>io_using_file.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="n">poem</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span><span class="se">\</span>
<span class="lineno"> 2 </span><span class="s1">Programming is fun</span>
<span class="lineno"> 3 </span><span class="s1">When the work is done</span>
<span class="lineno"> 4 </span><span class="s1">if you wanna make your work also fun:</span>
<span class="lineno"> 5 </span><span class="s1">    use Python!</span>
<span class="lineno"> 6 </span><span class="s1">&#39;&#39;&#39;</span>
<span class="lineno"> 7 </span>
<span class="lineno"> 8 </span><span class="c1"># 打开文件以编辑（&#39;w&#39;riting）</span>
<span class="lineno"> 9 </span><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;poem.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="lineno">10 </span><span class="c1"># 向文件中编写文本</span>
<span class="lineno">11 </span><span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">poem</span><span class="p">)</span>
<span class="lineno">12 </span><span class="c1"># 关闭文件</span>
<span class="lineno">13 </span><span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="lineno">14 </span>
<span class="lineno">15 </span><span class="c1"># 如果没有特别指定，</span>
<span class="lineno">16 </span><span class="c1"># 将假定启用默认的阅读（&#39;r&#39;ead）模式</span>
<span class="lineno">17 </span><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;poem.txt&#39;</span><span class="p">)</span>
<span class="lineno">18 </span><span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
<span class="lineno">19 </span>    <span class="n">line</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
<span class="lineno">20 </span>    <span class="c1"># 零长度指示 EOF</span>
<span class="lineno">21 </span>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="lineno">22 </span>        <span class="k">break</span>
<span class="lineno">23 </span>    <span class="c1"># 每行（`line`）的末尾</span>
<span class="lineno">24 </span>    <span class="c1"># 都已经有了换行符</span>
<span class="lineno">25 </span>    <span class="c1">#因为它是从一个文件中进行读取的</span>
<span class="lineno">26 </span>    <span class="k">print</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="lineno">27 </span><span class="c1"># 关闭文件</span>
<span class="lineno">28 </span><span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python3 io_using_file.py<br>
Programming is fun<br>
When the work is done<br>
if you wanna make your work also fun:<br>
    use Python!
</p>

<p><strong>它是如何工作的</strong></p>
<p>首先，我们使用内置的 <code>open</code> 函数并指定文件名以及我们所希望使用的打开模式来打开一个文件。打开模式可以是阅读模式（<code>'r'</code>），写入模式（<code>'w'</code>）和追加模式（<code>'a'</code>）。我们还可以选择是通过文本模式（<code>'t'</code>）还是二进制模式（<code>'b'</code>）来读取、写入或追加文本。实际上还有其它更多的模式可用，<code>help(open)</code> 会给你有关它们的更多细节。在默认情况下，<code>open()</code> 会将文件视作文本（ <strong>t</strong> ext）文件，并以阅读（ <strong>r</strong> ead）模式打开它。</p>
<p>在我们的案例中，我们首先采用写入模式打开文件并使用文件对象的 <code>write</code> 方法来写入文件，并在最后通过 <code>close</code> 关闭文件。</p>
<p>接下来，我们重新在阅读模式下打开同一个文件。我们不需要特别指定某种模式，因为“阅读文本文件”是默认的。我们在循环中使用 <code>readline</code> 方法来读取文件的每一行。这一方法将会一串完整的行，其中在行末尾还包含了换行符。当一个 <em>空</em> 字符串返回时，它表示我们已经到达了文件末尾，并且通过 <code>break</code> 退出循环。</p>
<p>最后，我们通过 <code>close</code> 关闭了文件。</p>
<p>现在，你可以检查 <code>poem.txt</code> 文件的内容来确认程序确实对该文件进行了写入与读取操作。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              67/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-68">
          <div class="inner">
            
            <header><h2>Pickle</h2></header>
            
            
            <section><p>Python 提供了一个叫作 <code>Pickle</code> 的标准模块，通过它你可以将 <em>任何</em> 纯 Python 对象存储到一个文件中，并在稍后将其取回。这叫作 <em>持久地（Persistently）</em> 存储对象。</p>
<p>案例（保存为 <code>io_pickle.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="kn">import</span> <span class="nn">pickle</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span><span class="c1"># 我们存储相关对象的文件的名称</span>
<span class="lineno"> 4 </span><span class="n">shoplistfile</span> <span class="o">=</span> <span class="s1">&#39;shoplist.data&#39;</span>
<span class="lineno"> 5 </span><span class="c1"># 需要购买的物品清单</span>
<span class="lineno"> 6 </span><span class="n">shoplist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;mango&#39;</span><span class="p">,</span> <span class="s1">&#39;carrot&#39;</span><span class="p">]</span>
<span class="lineno"> 7 </span>
<span class="lineno"> 8 </span><span class="c1"># 准备写入文件</span>
<span class="lineno"> 9 </span><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">shoplistfile</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span>
<span class="lineno">10 </span><span class="c1"># 转储对象至文件</span>
<span class="lineno">11 </span><span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">shoplist</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
<span class="lineno">12 </span><span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="lineno">13 </span>
<span class="lineno">14 </span><span class="c1"># 清除 shoplist 变量</span>
<span class="lineno">15 </span><span class="k">del</span> <span class="n">shoplist</span>
<span class="lineno">16 </span>
<span class="lineno">17 </span><span class="c1"># 重新打开存储文件</span>
<span class="lineno">18 </span><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">shoplistfile</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>
<span class="lineno">19 </span><span class="c1"># 从文件中载入对象</span>
<span class="lineno">20 </span><span class="n">storedlist</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="lineno">21 </span><span class="k">print</span><span class="p">(</span><span class="n">storedlist</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python io_pickle.py<br>
['apple', 'mango', 'carrot']
</p>

<p><strong>它是如何工作的</strong></p>
<p>要想将一个对象存储到一个文件中，我们首先需要通过 <code>open</code> 以写入（ <strong>w</strong> rite）二进制（ <strong>b</strong> inary）模式打开文件，然后调用 <code>pickle</code> 模块的 <code>dump</code> 函数。这一过程被称作 <em>封装（Pickling）</em> 。</p>
<p>接着，我们通过 <code>pickle</code> 模块的 <code>load</code> 函数接收返回的对象。这个过程被称作 <em>拆封（Unpickling）</em> 。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              68/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-69">
          <div class="inner">
            
            <header><h2>Unicode</h2></header>
            
            
            <section><p>截止到现在，当我们编写或使用字符串、读取或写入某一文件时，我们用到的只是简单的英语字符。</p>
<blockquote>
<p>注意：如果你正在使用 Python 2，我们又希望能够读写其它非英语语言，我们需要使用 <code>unicode</code> 类型，它全都以字母 <code>u</code> 开头，例如 <code>u"hello world"</code>。</p>
</blockquote>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="s2">&quot;hello world&quot;</span>
<span class="lineno">2 </span><span class="s1">&#39;hello world&#39;</span>
<span class="lineno">3 </span><span class="o">&gt;&gt;&gt;</span> <span class="nb">type</span><span class="p">(</span><span class="s2">&quot;hello world&quot;</span><span class="p">)</span>
<span class="lineno">4 </span><span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">str</span><span class="s1">&#39;&gt;</span>
<span class="lineno">5 </span><span class="o">&gt;&gt;&gt;</span> <span class="sa">u</span><span class="s2">&quot;hello world&quot;</span>
<span class="lineno">6 </span><span class="s1">&#39;hello world&#39;</span>
<span class="lineno">7 </span><span class="o">&gt;&gt;&gt;</span> <span class="nb">type</span><span class="p">(</span><span class="sa">u</span><span class="s2">&quot;hello world&quot;</span><span class="p">)</span>
<span class="lineno">8 </span><span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">str</span><span class="s1">&#39;&gt;</span>
</pre></div>

<p>当我们阅读或写入某一文件或当我们希望与互联网上的其它计算机通信时，我们需要将我们的 Unicode 字符串转换至一个能够被发送和接收的格式，这个格式叫作“UTF-8”。我们可以在这一格式下进行读取与写入，只需使用一个简单的关键字参数到我们的标准 <code>open</code> 函数中：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="c1"># encoding=utf-8</span>
<span class="lineno">2 </span><span class="kn">import</span> <span class="nn">io</span>
<span class="lineno">3 </span>
<span class="lineno">4 </span><span class="n">f</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;abc.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;wt&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
<span class="lineno">5 </span><span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">u</span><span class="s2">&quot;Imagine non-English language here&quot;</span><span class="p">)</span>
<span class="lineno">6 </span><span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="lineno">7 </span>
<span class="lineno">8 </span><span class="n">text</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;abc.txt&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="lineno">9 </span><span class="k">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>

<p><strong>它是如何工作的</strong></p>
<p>现在你可以忽略 <code>import</code> 语句，我们会在<a href="11.modules.html#modules">模块章节</a>章节探讨有关它的更多细节。</p>
<p>每当我们诸如上面那番使用 Unicode 字面量编写一款程序时，我们必须确保 Python 程序已经被告知我们使用的是 UTF-8，因此我们必须将 <code># encoding=utf-8</code> 这一注释放置在我们程序的顶端。</p>
<p>我们使用 <code>io.open</code> 并提供了“编码（Encoding）”与“解码（Decoding）”参数来告诉 Python 我们正在使用 Unicode。</p>
<p>你可以阅读以下文章来了解有关这一话题的更多内容：</p>
<ul>
<li><a href="http://www.joelonsoftware.com/articles/Unicode.html">"The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets"</a></li>
<li><a href="http://docs.python.org/3/howto/unicode.html">Python Unicode Howto</a></li>
<li><a href="http://nedbatchelder.com/text/unipain.html">Pragmatic Unicode talk by Nat Batchelder</a></li>
</ul>
<h2>总结</h2>
<p>我们已经讨论了有关输入和输出的多种类型，这些内容有关文件处理，有关 pickle 模块还有关于 Unicode。</p>
<p>接下来，我们将探索一些异常的概念。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              69/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-70">
          <div class="inner">
            
            <header><h1>异常</h1></header>
            
            
            <section><p>当你的程序出现例外情况时就会发生异常（Exception）。例如，当你想要读取一个文件时，而那个文件却不存在，怎么办？又或者你在程序执行时不小心把它删除了，怎么办？这些通过使用 <strong>异常</strong> 来进行处理。</p>
<p>类似地，如果你的程序中出现了一些无效的语句该怎么办？Python 将会对此进行处理， <strong>举起（Raises）</strong> 它的小手来告诉你哪里出现了一个 <strong>错误（Error）</strong> 。</p>
<h2>错误</h2>
<p>你可以想象一个简单的 <code>print</code> 函数调用。如果我们把 <code>print</code> 误拼成 <code>Print</code> 会怎样？你会注意到它的首字母是大写。在这一例子中，Python 会 <em>抛出（Raise）</em> 一个语法错误。</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">Print</span><span class="p">(</span><span class="s2">&quot;Hello World&quot;</span><span class="p">)</span>
<span class="lineno">2 </span><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="lineno">3 </span>  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="lineno">4 </span><span class="ne">NameError</span><span class="p">:</span> <span class="n">name</span> <span class="s1">&#39;Print&#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">defined</span>
<span class="lineno">5 </span><span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Hello World&quot;</span><span class="p">)</span>
<span class="lineno">6 </span><span class="n">Hello</span> <span class="n">World</span>
</pre></div>

<p>你会注意到一个 <code>NameError</code> 错误被抛出，同时 Python 还会打印出检测到的错误发生的位置。这就是一个错误 <strong>错误处理器（Error Handler）</strong> 为这个错误所做的事情。</p>
<h2>异常</h2>
<p>我们将 <strong>尝试（Try）</strong> 去读取用户的输入内容。按下 <code>[ctrl-d]</code> 来看看会发生什么事情。</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">s</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Enter something --&gt; &#39;</span><span class="p">)</span>
<span class="lineno">2 </span><span class="n">Enter</span> <span class="n">something</span> <span class="o">--&gt;</span> <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="lineno">3 </span>  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="lineno">4 </span><span class="ne">EOFError</span>
</pre></div>

<p>此处 Python 指出了一个称作 <code>EOFError</code> 的错误，代表着它发现了一个 <em>文件结尾（End of File）</em> 符号（由 <code>ctrl-d</code> 实现）在不该出现的时候出现了。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              70/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-71">
          <div class="inner">
            
            <header><h2>处理异常</h2></header>
            
            
            <section><p>我们可以通过使用 <code>try..except</code> 来处理异常状况。一般来说我们会把通常的语句放在 try 代码块中，将我们的错误处理器代码放置在 except 代码块中。</p>
<p>案例（保存文 <code>exceptions_handle.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="k">try</span><span class="p">:</span>
<span class="lineno">2 </span>    <span class="n">text</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Enter something --&gt; &#39;</span><span class="p">)</span>
<span class="lineno">3 </span><span class="k">except</span> <span class="ne">EOFError</span><span class="p">:</span>
<span class="lineno">4 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Why did you do an EOF on me?&#39;</span><span class="p">)</span>
<span class="lineno">5 </span><span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
<span class="lineno">6 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;You cancelled the operation.&#39;</span><span class="p">)</span>
<span class="lineno">7 </span><span class="k">else</span><span class="p">:</span>
<span class="lineno">8 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;You entered {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
# Press ctrl + d<br>
$ python exceptions_handle.py<br>
Enter something --> Why did you do an EOF on me?<br>
<br>
# Press ctrl + c<br>
$ python exceptions_handle.py<br>
Enter something --> ^CYou cancelled the operation.<br>
<br>
$ python exceptions_handle.py<br>
Enter something --> No exceptions<br>
You entered No exceptions
</p>

<p><strong>它是如何工作的</strong></p>
<p>我们将所有可能引发异常或错误的语句放在 <code>try</code> 代码块中，并将相应的错误或异常的处理器（Handler）放在 <code>except</code> 子句或代码块中。<code>except</code> 子句可以处理某种特定的错误或异常，或者是一个在括号中列出的错误或异常。如果没有提供错误或异常的名称，它将处理 <em>所有</em> 错误与异常。</p>
<p>要注意到必须至少有一句 <code>except</code> 字句与每一句 <code>try</code> 字句相关联。不然，有一个 try 代码块又有什么意义？</p>
<p>如果没有任何错误或异常被处理，那么将调用 Python 默认处理器，它只会终端程序执行并打印出错误信息。我们已经在前面的章节里见过了这种处理方式。</p>
<p>你还可以拥有一个 <code>else</code> 子句与 <code>try..except</code> 代码块相关联。<code>else</code> 子句将在没有发生异常的时候执行。</p>
<p>在下一个案例中，我们还将了解如何获取异常对象以便我们可以检索其他信息。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              71/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-72">
          <div class="inner">
            
            <header><h2>抛出异常</h2></header>
            
            
            <section><p>你可以通过 <code>raise</code> 语句来 <em>引发</em> 一次异常，具体方法是提供错误名或异常名以及要 <em>抛出（Thrown）</em> 异常的对象。</p>
<p>你能够引发的错误或异常必须是直接或间接从属于 <code>Exception</code>（异常） 类的派生类。</p>
<p>案例（保存为 <code>exceptions_raise.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="c1"># encoding=UTF-8</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span><span class="k">class</span> <span class="nc">ShortInputException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
<span class="lineno"> 4 </span>    <span class="sd">&#39;&#39;&#39;一个由用户定义的异常类&#39;&#39;&#39;</span>
<span class="lineno"> 5 </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length</span><span class="p">,</span> <span class="n">atleast</span><span class="p">):</span>
<span class="lineno"> 6 </span>        <span class="ne">Exception</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="lineno"> 7 </span>        <span class="bp">self</span><span class="o">.</span><span class="n">length</span> <span class="o">=</span> <span class="n">length</span>
<span class="lineno"> 8 </span>        <span class="bp">self</span><span class="o">.</span><span class="n">atleast</span> <span class="o">=</span> <span class="n">atleast</span>
<span class="lineno"> 9 </span>
<span class="lineno">10 </span><span class="k">try</span><span class="p">:</span>
<span class="lineno">11 </span>    <span class="n">text</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Enter something --&gt; &#39;</span><span class="p">)</span>
<span class="lineno">12 </span>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
<span class="lineno">13 </span>        <span class="k">raise</span> <span class="n">ShortInputException</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
<span class="lineno">14 </span>    <span class="c1"># 其他工作能在此处继续正常运行</span>
<span class="lineno">15 </span><span class="k">except</span> <span class="ne">EOFError</span><span class="p">:</span>
<span class="lineno">16 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Why did you do an EOF on me?&#39;</span><span class="p">)</span>
<span class="lineno">17 </span><span class="k">except</span> <span class="n">ShortInputException</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
<span class="lineno">18 </span>    <span class="k">print</span><span class="p">((</span><span class="s1">&#39;ShortInputException: The input was &#39;</span> <span class="o">+</span>
<span class="lineno">19 </span>           <span class="s1">&#39;{0} long, expected at least {1}&#39;</span><span class="p">)</span>
<span class="lineno">20 </span>          <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ex</span><span class="o">.</span><span class="n">length</span><span class="p">,</span> <span class="n">ex</span><span class="o">.</span><span class="n">atleast</span><span class="p">))</span>
<span class="lineno">21 </span><span class="k">else</span><span class="p">:</span>
<span class="lineno">22 </span>    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;No exception was raised.&#39;</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python exceptions_raise.py<br>
Enter something --> a<br>
ShortInputException: The input was 1 long, expected at least 3<br>
<br>
$ python exceptions_raise.py<br>
Enter something --> abc<br>
No exception was raised.<br>
</p>

<p><strong>它是如何工作的</strong></p>
<p>在本例中，我们创建了我们自己的异常类型。这一新的异常类型叫作 <code>ShortInputException</code>。它包含两个字段——获取给定输入文本长度的 <code>length</code>，程序期望的最小长度 <code>atleast</code>。</p>
<p>在 <code>except</code> 子句中，我们提及了错误类，将该类存储 <code>as（为）</code> 相应的错误名或异常名。这类似于函数调用中的形参与实参。在这个特殊的 <code>except</code> 子句中我们使用异常对象的 <code>length</code> 与 <code>atleast</code> 字段来向用户打印一条合适的信息。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              72/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-73">
          <div class="inner">
            
            <header><h2>Try ... Finally</h2></header>
            
            
            <section><p>假设你正在你的读取中读取一份文件。你应该如何确保文件对象被正确关闭，无论是否会发生异常？这可以通过 <code>finally</code> 块来完成。</p>
<p>保存该程序为 <code>exceptions_finally.py</code>：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="lineno"> 2 </span><span class="kn">import</span> <span class="nn">time</span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span><span class="n">f</span> <span class="o">=</span> <span class="bp">None</span>
<span class="lineno"> 5 </span><span class="k">try</span><span class="p">:</span>
<span class="lineno"> 6 </span>    <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;poem.txt&quot;</span><span class="p">)</span>
<span class="lineno"> 7 </span>    <span class="c1"># 我们常用的文件阅读风格</span>
<span class="lineno"> 8 </span>    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
<span class="lineno"> 9 </span>        <span class="n">line</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
<span class="lineno">10 </span>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="lineno">11 </span>            <span class="k">break</span>
<span class="lineno">12 </span>        <span class="k">print</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="lineno">13 </span>        <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
<span class="lineno">14 </span>        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Press ctrl+c now&quot;</span><span class="p">)</span>
<span class="lineno">15 </span>        <span class="c1"># 为了确保它能运行一段时间</span>
<span class="lineno">16 </span>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="lineno">17 </span><span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
<span class="lineno">18 </span>    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Could not find file poem.txt&quot;</span><span class="p">)</span>
<span class="lineno">19 </span><span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
<span class="lineno">20 </span>    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;!! You cancelled the reading from the file.&quot;</span><span class="p">)</span>
<span class="lineno">21 </span><span class="k">finally</span><span class="p">:</span>
<span class="lineno">22 </span>    <span class="k">if</span> <span class="n">f</span><span class="p">:</span>
<span class="lineno">23 </span>        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="lineno">24 </span>    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;(Cleaning up: Closed the file)&quot;</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python exceptions_finally.py<br>
Programming is fun<br>
Press ctrl+c now<br>
^C!! You cancelled the reading from the file.<br>
(Cleaning up: Closed the file)<br>
</p>

<p><strong>它是如何工作的</strong></p>
<p>我们按照通常文件读取进行操作，但是我们同时通过使用 <code>time.sleep</code> 函数任意在每打印一行后插入两秒休眠，使得程序运行变得缓慢（在通常情况下 Python 运行得非常快速）。当程序在处在运行过过程中时，按下 <code>ctrl + c</code> 来中断或取消程序。</p>
<p>你会注意到 <code>KeyboardInterrupt</code> 异常被抛出，尔后程序退出。不过，在程序退出之前，finally 子句得到执行，文件对象总会被关闭。</p>
<p>另外要注意到我们在 <code>print</code> 之后使用了 <code>sys.stout.flush()</code>，以便它能被立即打印到屏幕上。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              73/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide slide-74">
          <div class="inner">
            
            <header><h2><code>with</code> 语句</h2></header>
            
            
            <section><p>在 <code>try</code> 块中获取资源，然后在 <code>finally</code> 块中释放资源是一种常见的模式。因此，还有一个 <code>with</code> 语句使得这一过程可以以一种干净的姿态得以完成。</p>
<p>保存为 <code>exceptions_using_with.py</code>：</p>
<pre><code>with open("poem.txt") as f:
    for line in f:
        print(line, end='')
</code></pre>
<p><strong>它是如何工作的</strong></p>
<p>程序输出的内容应与上一个案例所呈现的相同。本例的不同之处在于我们使用的是 <code>open</code> 函数与 <code>with</code> 语句——我们将关闭文件的操作交由 <code>with open</code> 来自动完成。</p>
<p>在幕后发生的事情是有一项 <code>with</code> 语句所使用的协议（Protocol）。它会获取由 <code>open</code> 语句返回的对象，在本案例中就是“thefile”。</p>
<p>它 <em>总会</em> 在代码块开始之前调用 <code>thefile.__enter__</code> 函数，并且 <em>总会</em> 在代码块执行完毕之后调用 <code>thefile.__exit__</code>。</p>
<p>因此，我们在 <code>finally</code> 代码块中编写的代码应该格外留心 <code>__exit__</code> 方法的自动操作。这能够帮助我们避免重复显式使用 <code>try..finally</code> 语句。</p>
<p>有关该话题的更多讨论已经超出了本书所能涉及的范围，因此请参考 <a href="http://www.python.org/dev/peps/pep-0343/">PEP 343</a> 来了解更加全面的解释。</p>
<h2>总结</h2>
<p>我们已经讨论了 <code>try..except</code> 和 <code>try..finally</code> 语句的用法。同时我们也已经看到了如何创建我们自己的异常类型，还有如何抛出异常。</p>
<p>接下来，我们将探索 Python 的标准库。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              74/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-75">
          <div class="inner">
            
            <header><h1>标准库</h1></header>
            
            
            <section><p>Python 标准库（Python Standrad Library）中包含了大量有用的模块，同时也是每个标准的 Python 安装包中的一部分。熟悉 Python 标准库十分重要，因为只要你熟知这些库可以做到什么事，许多问题都能够轻易解决。</p>
<p>我们将探索这个库中的一些常用模块。你能在你的 Python 安装包中附带的文档中的<a href="http://docs.python.org/3/library/">“库概览（Library Reference）” 部分</a>中查找到所有模块的全部细节。</p>
<p>让我们来了解一些有用的模块。</p>
<blockquote>
<p><strong>注意：</strong> 如果你觉得本章内容过于超前，你可以先跳过本章。不过，我强烈建议你在适应了采用 Python 进行编程后再来看看本章。</p>
</blockquote>
<h2><code>sys</code> 模块</h2>
<p><code>sys</code> 模块包括了一些针对特定系统的功能。我们已经了解过 <code>sys.argv</code> 列表中包括了命令行参数。</p>
<p>想象一些我们需要检查正在使用的 Python 软件的版本，<code>sys</code> 模块会给我们相关的信息。</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">sys</span>
<span class="lineno">2 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span>
<span class="lineno">3 </span><span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="p">(</span><span class="n">major</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">minor</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">micro</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">releaselevel</span><span class="o">=</span><span class="s1">&#39;final&#39;</span><span class="p">,</span> <span class="n">serial</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="lineno">4 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="o">.</span><span class="n">major</span> <span class="o">==</span> <span class="mi">3</span>
<span class="lineno">5 </span><span class="bp">True</span>
</pre></div>

<p><strong>它是如何工作的</strong></p>
<p><code>sys</code> 模块包含一个 <code>version_info</code> 元组，它提供给我们版本信息。第一个条目是主版本信息。我们可以调出这些信息并使用它。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              75/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-76">
          <div class="inner">
            
            <header><h2>日志模块</h2></header>
            
            
            <section><p>如果你想将一些调试（Debugging）信息或一些重要的信息储存在某个地方，以便你可以检查你的程序是否如你所期望那般运行，应该怎么做？你应该如何将这些信息“储存在某个地方”？这可以通过 <code>logging</code> 模块来实现。</p>
<p>保存为 <code>stdlib_logging.py</code>：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="kn">import</span> <span class="nn">os</span>
<span class="lineno"> 2 </span><span class="kn">import</span> <span class="nn">platform</span>
<span class="lineno"> 3 </span><span class="kn">import</span> <span class="nn">logging</span>
<span class="lineno"> 4 </span>
<span class="lineno"> 5 </span><span class="k">if</span> <span class="n">platform</span><span class="o">.</span><span class="n">platform</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;Windows&#39;</span><span class="p">):</span>
<span class="lineno"> 6 </span>    <span class="n">logging_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;HOMEDRIVE&#39;</span><span class="p">),</span>
<span class="lineno"> 7 </span>                                <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;HOMEPATH&#39;</span><span class="p">),</span>
<span class="lineno"> 8 </span>                                <span class="s1">&#39;test.log&#39;</span><span class="p">)</span>
<span class="lineno"> 9 </span><span class="k">else</span><span class="p">:</span>
<span class="lineno">10 </span>    <span class="n">logging_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;HOME&#39;</span><span class="p">),</span>
<span class="lineno">11 </span>                                <span class="s1">&#39;test.log&#39;</span><span class="p">)</span>
<span class="lineno">12 </span>
<span class="lineno">13 </span><span class="k">print</span><span class="p">(</span><span class="s2">&quot;Logging to&quot;</span><span class="p">,</span> <span class="n">logging_file</span><span class="p">)</span>
<span class="lineno">14 </span>
<span class="lineno">15 </span><span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span>
<span class="lineno">16 </span>    <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">,</span>
<span class="lineno">17 </span>    <span class="n">format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%(asctime)s</span><span class="s1"> : </span><span class="si">%(levelname)s</span><span class="s1"> : </span><span class="si">%(message)s</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="lineno">18 </span>    <span class="n">filename</span><span class="o">=</span><span class="n">logging_file</span><span class="p">,</span>
<span class="lineno">19 </span>    <span class="n">filemode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span>
<span class="lineno">20 </span><span class="p">)</span>
<span class="lineno">21 </span>
<span class="lineno">22 </span><span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Start of the program&quot;</span><span class="p">)</span>
<span class="lineno">23 </span><span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Doing something&quot;</span><span class="p">)</span>
<span class="lineno">24 </span><span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Dying now&quot;</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python stdlib_logging.py<br>
Logging to /Users/swa/test.log<br>
<br>
$ cat /Users/swa/test.log<br>
2014-03-29 09:27:36,660 : DEBUG : Start of the program<br>
2014-03-29 09:27:36,660 : INFO : Doing something<br>
2014-03-29 09:27:36,660 : WARNING : Dying now
</p>

<p>如果你不能运行 <code>cat</code> 命令，你可以通过一款文本编辑器打开 <code>test.log</code> 文件。</p>
<p><strong>它是如何工作的</strong></p>
<p>我们使用了三款标准库中的模块——<code>os</code> 模块用以和操作系统交互，<code>platform</code> 模块用以获取平台——操作系统——的信息，<code>logging</code> 模块用来 <em>记录（Log）</em> 信息。</p>
<p>首先，我们通过检查 <code>platform.platform()</code> 返回的字符串来确认我们正在使用的操作系统（有关更多信息，请参阅<code>import platform; help(platform)</code>）。如果它是 Windows，我们将找出其主驱动器（Home Drive），主文件夹（Home Folder）以及我们希望存储信息的文件名。将这三个部分汇聚到一起，我们得到了有关文件的全部位置信息。对于其它平台而言，我们需要知道的只是用户的主文件夹位置，这样我们就可获得文件的全部位置信息。</p>
<p>我们使用 <code>os.path.join()</code> 函数来将这三部分位置信息聚合到一起。使用这一特殊函数，而非仅仅将这几段字符串拼凑在一起的原因是这个函数会确保完整的位置路径符合当前操作系统的预期格式。</p>
<p>然后我们配置 <code>logging</code> 模块，让它以特定的格式将所有信息写入我们指定的文件。</p>
<p>最后，无论这些信息是用以调试，提醒，警告甚至是其它关键的消息，我们都可以将其聚合并记录。一旦程序开始运行，我们可以检查这一文件，从而我们便能知道程序运行过程中究竟发生了什么，哪怕在用户运行时什么信息都没有显示。</p>
<h2>每周模块系列</h2>
<p>标准库中还有许多模块值得探索，例如一些<a href="http://docs.python.org/3/library/pdb.html">用以调试（Debugging）的模块</a>， <a href="http://docs.python.org/3/library/argparse.html">处理命令行选项的模块</a>，<a href="http://docs.python.org/3/library/re.html">正则表达式（Regular Expressions）模块</a> 等等等等。</p>
<p>进一步探索标准库的最好方法是阅读由 Doug Hellmann 撰写的优秀的 <a href="http://pymotw.com/2/contents.html">Python Module of the Week</a> 系列（你还可以阅读<a href="http://amzn.com/0321767349">它的实体书</a>或是阅读 <a href="http://docs.python.org/3/">Python 官方文档</a>）。</p>
<h2>总结</h2>
<p>我们已经探索了 Python 标准库中提供的诸多的模块的一些功能。在此强烈建议你浏览 <a href="http://docs.python.org/3/library/">Python 标准库文档</a>来了解所有可以使用的模块。</p>
<p>接下来，我们将介绍 Python 的其它各个方面，让我们的 Python 之旅更加 <em>完整</em> 。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              76/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide slide-77">
          <div class="inner">
            
            <header><h1>更多</h1></header>
            
            
            <section><p>到现在，我们的介绍已经涵盖了你将使用到的 Python 的大部分方面。在本章中，我们将介绍一些其它的方面，来让我们对 Python 的认识更加全面。</p>
<h2>传递元组</h2>
<p>你可曾希望从一个函数中返回两个不同的值？你能做到的。只需要使用一个元组。</p>
<pre><code>&gt;&gt;&gt; def get_error_details():
...     return (2, 'details')
...
&gt;&gt;&gt; errnum, errstr = get_error_details()
&gt;&gt;&gt; errnum
2
&gt;&gt;&gt; errstr
'details'
</code></pre>
<p>要注意到 <code>a, b = &lt;some expression&gt;</code> 的用法会将表达式的结果解释为具有两个值的一个元组。</p>
<p>这也意味着在 Python 中交换两个变量的最快方法是：</p>
<pre><code>&gt;&gt;&gt; a = 5; b = 8
&gt;&gt;&gt; a, b
(5, 8)
&gt;&gt;&gt; a, b = b, a
&gt;&gt;&gt; a, b
(8, 5)
</code></pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              77/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-78">
          <div class="inner">
            
            <header><h2>特殊方法</h2></header>
            
            
            <section><p>诸如 <code>__init__</code> 和 <code>__del__</code> 等一些方法对于类来说有特殊意义。</p>
<p>特殊方法用来模拟内置类型的某些行为。举个例子，如果你希望为你的类使用 <code>x[key]</code> 索引操作（就像你在列表与元组中使用的那样），那么你所需要做的只不过是实现 <code>__getitem__()</code> 方法，然后你的工作就完成了。如果你试图理解它，就想想 Python 就是对 <code>list</code> 类这样做的！</p>
<p>下面的表格列出了一些有用的特殊方法。如果你想了解所有的特殊方法，请<a href="http://docs.python.org/3/reference/datamodel.html#special-method-names">参阅手册</a>。</p>
<ul>
<li><code>__init__(self, ...)</code><ul>
<li>这一方法在新创建的对象被返回准备使用时被调用。</li>
</ul>
</li>
<li><code>__del__(self)</code><ul>
<li>这一方法在对象被删除之前调用（它的使用时机不可预测，所以避免使用它）</li>
</ul>
</li>
<li><code>__str__(self)</code><ul>
<li>当我们使用 <code>print</code> 函数时，或 <code>str()</code> 被使用时就会被调用。</li>
</ul>
</li>
<li><code>__lt__(self, other)</code><ul>
<li>当 <em>小于</em> 运算符（&lt;）被使用时被调用。类似地，使用其它所有运算符（+、&gt; 等等）时都会有特殊方法被调用。</li>
</ul>
</li>
<li><code>__getitem__(self, key)</code><ul>
<li>使用 <code>x[key]</code> 索引操作时会被调用。</li>
</ul>
</li>
<li><code>__len__(self)</code><ul>
<li>当针对序列对象使用内置 <code>len()</code> 函数时会被调用</li>
</ul>
</li>
</ul>
<h2>单语句块</h2>
<p>我们已经见识过每一个语句块都由其自身的缩进级别与其它部分相区分。 是这样没错，不过有一个小小的警告。如果你的语句块只包括单独的一句语句，那么你可以在同一行指定它，例如条件语句与循环语句。下面这个例子应该能比较清楚地解释：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">flag</span> <span class="o">=</span> <span class="bp">True</span>
<span class="lineno">2 </span><span class="o">&gt;&gt;&gt;</span> <span class="k">if</span> <span class="n">flag</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Yes&#39;</span><span class="p">)</span>
<span class="lineno">3 </span><span class="o">...</span>
<span class="lineno">4 </span><span class="n">Yes</span>
</pre></div>

<p>注意，单个语句是在原地立即使用的，它不会被看作一个单独的块。尽管，你可以通过这种方式来使你的程序更加 <em>小巧</em> ，但除非是为了检查错误，我强烈建议你避免使用这种快捷方法，这主要是因为如果你不小心使用了一个“恰到好处”的缩进，它就很容易添加进额外的语句。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              78/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-79">
          <div class="inner">
            
            <header><h2>Lambda（匿名函数）</h2></header>
            
            
            <section><p><code>lambda</code> 语句可以创建一个新的函数对象。从本质上说，<code>lambda</code> 需要一个参数，后跟一个表达式作为函数体，这一表达式执行的值将作为这个新函数的返回值。</p>
<p>案例（保存为 <code>more_lambda.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="n">points</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span>
<span class="lineno">2 </span>          <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}]</span>
<span class="lineno">3 </span><span class="n">points</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">i</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">])</span>
<span class="lineno">4 </span><span class="k">print</span><span class="p">(</span><span class="n">points</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python more_lambda.py<br>
[{'y': 1, 'x': 4}, {'y': 3, 'x': 2}]
</p>

<blockquote>
<p><strong>针对 Java 程序员的提示</strong></p>
<p>Java 8 中也有Lambda 。
Java基本语法:(parameters) -&gt; expression或(parameters) -&gt;{ statements; }
Python基本语法:lambda parameters:expression</p>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              79/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-80">
          <div class="inner">
            
            <header><h2>列表推导</h2></header>
            
            
            <section><p>列表推导（List Comprehension）用于从一份现有的列表中得到一份新列表。想象一下，现在你已经有了一份数字列表，你想得到一个相应的列表，其中的数字在大于 2 的情况下将乘以 2。列表推导就是这类情况的理想选择。</p>
<p>案例（保存为 <code>more_list_comprehension.py</code>）：</p>
<div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="n">listone</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="lineno">2 </span><span class="n">listtwo</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">listone</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">]</span>
<span class="lineno">3 </span><span class="k">print</span><span class="p">(</span><span class="n">listtwo</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python more_list_comprehension.py<br>
[6, 8]
</p>

<p><strong>它是如何工作的</strong></p>
<p>在本案例中，当满足了某些条件时（<code>if i &gt; 2</code>），我们进行指定的操作（<code>2*i</code>），以此来获得一份新的列表。要注意到原始列表依旧保持不变。</p>
<p>使用列表推导的优点在于，当我们使用循环来处理列表中的每个元素并将其存储到新的列表中时时，它能减少样板（Boilerplate）代码的数量。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              80/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-81">
          <div class="inner">
            
            <header><h2>在函数中接收元组与字典</h2></header>
            
            
            <section><p>有一种特殊方法，即分别使用 <code>*</code> 或 <code>**</code> 作为元组或字典的前缀，来使它们作为一个参数为函数所接收。当函数需要一个可变数量的实参时，这将颇为有用。</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">powersum</span><span class="p">(</span><span class="n">power</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="lineno"> 2 </span><span class="o">...</span>     <span class="s1">&#39;&#39;&#39;Return the sum of each argument raised to the specified power.&#39;&#39;&#39;</span>
<span class="lineno"> 3 </span><span class="o">...</span>     <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
<span class="lineno"> 4 </span><span class="o">...</span>     <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
<span class="lineno"> 5 </span><span class="o">...</span>         <span class="n">total</span> <span class="o">+=</span> <span class="nb">pow</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">power</span><span class="p">)</span>
<span class="lineno"> 6 </span><span class="o">...</span>     <span class="k">return</span> <span class="n">total</span>
<span class="lineno"> 7 </span><span class="o">...</span>
<span class="lineno"> 8 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">powersum</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="lineno"> 9 </span><span class="mi">25</span>
<span class="lineno">10 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">powersum</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="lineno">11 </span><span class="mi">100</span>
</pre></div>

<p>因为我们在 <code>args</code> 变量前添加了一个 <code>*</code> 前缀，函数的所有其它的额外参数都将传递到 <code>args</code> 中，并作为一个元组予以储存。如果采用的是 <code>**</code> 前缀，则额外的参数将被视为字典的键值—值配对。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              81/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide slide-82">
          <div class="inner">
            
            <header><h2><code>assert</code> 语句</h2></header>
            
            
            <section><p><code>assert</code> 语句用以断言（Assert）某事是真的。例如说你非常确定你正在使用的列表中至少包含一个元素，并想确认这一点，如果其不是真的，就抛出一个错误，<code>assert</code> 语句就是这种情况下的理想选择。当语句断言失败时，将会抛出 <code>AssertionError</code>。</p>
<pre><code>&gt;&gt;&gt; mylist = ['item']
&gt;&gt;&gt; assert len(mylist) &gt;= 1
&gt;&gt;&gt; mylist.pop()
'item'
&gt;&gt;&gt; assert len(mylist) &gt;= 1
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
AssertionError
</code></pre>
<p>你应该明智地选用 <code>assert</code> 语句。在大多数情况下，它好过捕获异常，也好过定位问题或向用户显示错误信息然后退出。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              82/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide has_code slide-83">
          <div class="inner">
            
            <header><h2>装饰器 (函数的函数)</h2></header>
            
            
            <section><p>装饰器（Decorators）是应用包装函数的快捷方式。这有助于将某一功能与一些代码一遍又一遍地“包装”。举个例子，我为自己创建了一个 <code>retry</code> 装饰器，这样我可以将其运用到任何函数之中，如果在一次运行中抛出了任何错误，它就会尝试重新运行，直到最大次数 5 次，并且每次运行期间都会有一定的延迟。这对于你在对一台远程计算机进行网络调用的情况十分有用：</p>
<div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>
<span class="lineno"> 2 </span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">wraps</span>
<span class="lineno"> 3 </span><span class="kn">import</span> <span class="nn">logging</span>
<span class="lineno"> 4 </span><span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">()</span>
<span class="lineno"> 5 </span><span class="n">log</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;retry&quot;</span><span class="p">)</span>
<span class="lineno"> 6 </span>
<span class="lineno"> 7 </span>
<span class="lineno"> 8 </span><span class="k">def</span> <span class="nf">retry</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
<span class="lineno"> 9 </span>    <span class="nd">@wraps</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="lineno">10 </span>    <span class="k">def</span> <span class="nf">wrapped_f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="lineno">11 </span>        <span class="n">MAX_ATTEMPTS</span> <span class="o">=</span> <span class="mi">5</span>
<span class="lineno">12 </span>        <span class="k">for</span> <span class="n">attempt</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">MAX_ATTEMPTS</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
<span class="lineno">13 </span>            <span class="k">try</span><span class="p">:</span>
<span class="lineno">14 </span>                <span class="k">return</span> <span class="n">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="lineno">15 </span>            <span class="k">except</span><span class="p">:</span>
<span class="lineno">16 </span>                <span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s2">&quot;Attempt </span><span class="si">%s</span><span class="s2">/</span><span class="si">%s</span><span class="s2"> failed : </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
<span class="lineno">17 </span>                              <span class="n">attempt</span><span class="p">,</span>
<span class="lineno">18 </span>                              <span class="n">MAX_ATTEMPTS</span><span class="p">,</span>
<span class="lineno">19 </span>                              <span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">))</span>
<span class="lineno">20 </span>                <span class="n">sleep</span><span class="p">(</span><span class="mi">10</span> <span class="o">*</span> <span class="n">attempt</span><span class="p">)</span>
<span class="lineno">21 </span>        <span class="n">log</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;All </span><span class="si">%s</span><span class="s2"> attempts failed : </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
<span class="lineno">22 </span>                     <span class="n">MAX_ATTEMPTS</span><span class="p">,</span>
<span class="lineno">23 </span>                     <span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">))</span>
<span class="lineno">24 </span>    <span class="k">return</span> <span class="n">wrapped_f</span>
<span class="lineno">25 </span>
<span class="lineno">26 </span>
<span class="lineno">27 </span><span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
<span class="lineno">28 </span>
<span class="lineno">29 </span>
<span class="lineno">30 </span><span class="nd">@retry</span>
<span class="lineno">31 </span><span class="k">def</span> <span class="nf">save_to_database</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span>
<span class="lineno">32 </span>    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Write to a database or make a network call or etc.&quot;</span><span class="p">)</span>
<span class="lineno">33 </span>    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;This will be automatically retried if exception is thrown.&quot;</span><span class="p">)</span>
<span class="lineno">34 </span>    <span class="k">global</span> <span class="n">counter</span>
<span class="lineno">35 </span>    <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="lineno">36 </span>    <span class="c1"># 这将在第一次调用时抛出异常</span>
<span class="lineno">37 </span>    <span class="c1"># 在第二次运行时将正常工作（也就是重试）</span>
<span class="lineno">38 </span>    <span class="k">if</span> <span class="n">counter</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
<span class="lineno">39 </span>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
<span class="lineno">40 </span>
<span class="lineno">41 </span>
<span class="lineno">42 </span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<span class="lineno">43 </span>    <span class="n">save_to_database</span><span class="p">(</span><span class="s2">&quot;Some bad value&quot;</span><span class="p">)</span>
</pre></div>

<p>输出：按<code>2</code>查看</p>
<p class="notes">
$ python more_decorator.py<br>
Write to a database or make a network call or etc.<br>
This will be automatically retried if exception is thrown.<br>
ERROR:retry:Attempt 1/5 failed : (('Some bad value',), {})<br>
Traceback (most recent call last):<br>
  File "more_decorator.py", line 14, in wrapped_f<br>
    return f(*args, **kwargs)<br>
  File "more_decorator.py", line 39, in save_to_database<br>
    raise ValueError(arg)<br>
ValueError: Some bad value<br>
Write to a database or make a network call or etc.<br>
This will be automatically retried if exception is thrown.<br>
<br>
</p>

<p><strong>它是如何工作的</strong></p>
<p>请参阅：</p>
<ul>
<li><a href="http://www.ibm.com/developerworks/linux/library/l-cpdecor.html">http://www.ibm.com/developerworks/linux/library/l-cpdecor.html</a></li>
<li><a href="http://toumorokoshi.github.io/dry-principles-through-python-decorators.html">http://toumorokoshi.github.io/dry-principles-through-python-decorators.html</a></li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              83/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide slide-84">
          <div class="inner">
            
            <header><h2>Python 2 与 Python 3 的不同</h2></header>
            
            
            <section><p>请参阅：</p>
<ul>
<li><a href="http://pythonhosted.org/six/">"Six" library</a></li>
<li><a href="http://lucumr.pocoo.org/2013/5/21/porting-to-python-3-redux/">Porting to Python 3 Redux by Armin</a></li>
<li><a href="http://pydanny.com/experiences-with-django-python3.html">Python 3 experience by PyDanny</a></li>
<li><a href="https://docs.djangoproject.com/en/dev/topics/python3/">Official Django Guide to Porting to Python 3</a></li>
<li><a href="http://www.reddit.com/r/Python/comments/22ovb3/what_are_the_advantages_to_python_3x/">Discussion on What are the advantages to python 3.x?</a></li>
</ul>
<h2>总结</h2>
<p>我们在本章中介绍了有关 Python 的更多功能，不过我们还未涵盖到 Python 的所有功能。不过，在这一阶段，我们已经涉猎了大多数你将在实践中遇到的内容。这足以让你开始编写任何你所期望的程序。</p>
<p>接下来，我们将讨论如何进一步探索 Python。</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              84/85
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: all.md -->
      <div class="slide-wrapper">
        <div class="slide slide-85">
          <div class="inner">
            
            <header><h1>迈出下一步</h1></header>
            
            
            <section><p>如果到现在你已经阅读过本书并且编写了许多程序，那么你一定已经开始熟悉并且习惯 Python 了。或许你已经创建了一些 Python 程序来尝试完成一些工作，同时锻炼你自己的 Python 技能。如果你尚未至此，你也应该作出努力。现在我们面临的问题是“下一步该做什么？”。</p>
<p>我会建议你试图解决这个问题：</p>
<blockquote>
<p>编写一款你自己的命令行 <em>地址簿</em> 程序，你可以用它浏览、添加、编辑、删除或搜索你的联系人，例如你的朋友、家人、同事，还有他们诸如邮件地址、电话号码等多种信息。这些详细信息必须被妥善储存以备稍后的检索。</p>
</blockquote>
<p>如果你回想至今我们学过、讨论过、遇见过的所有东西，你会发现这其实非常简单。如果你仍想要有关如何进行的提示，这儿倒是有一些。2</p>
<p>一旦你能够做到这件事，你便可以说自己是一名 Python 程序员了。现在，赶快<a href="http://www.swaroopch.com/contact/">写封邮件</a>来感谢我写出了这么棒的一本书 ;-)。这一步并非强制但我仍建议如此。同时，请考虑<a href="http://www.swaroopch.com/buybook/">购买本书的实体书</a>来支持本书的后续改进。</p>
<p>如果你觉得上面的程序太容易了，这还有另一个：</p>
<blockquote>
<p>实现<a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?replace">替换命令</a>。这个命令能将一串字符串替换为另外提供的文件或列表中的另一串。</p>
</blockquote>
<p>只要你想，替换命令可以或简单或复杂地实现，从简单的字符串替换到搜寻搭配的样式（正则表达式）。</p>
<h2>下一个项目</h2>
<p>如果你发现上面的程序都能很容易地编写出来，那么看看下面这个完整的项目列表，并尝试编写你自己的程序：<a href="https://github.com/thekarangoel/Projects#numbers">https://github.com/thekarangoel/Projects#numbers</a> (这一列表与 <a href="http://www.dreamincode.net/forums/topic/78802-martyr2s-mega-project-ideas-list/">Martyr2 的超级项目列表</a>相同)。</p>
<p>你还可以看看：</p>
<ul>
<li><a href="https://pragprog.com/book/bhwb/exercises-for-programmers">Exercises for Programmers: 57 Challenges to Develop Your Coding Skills</a></li>
<li><a href="https://openhatch.org/wiki/Intermediate_Python_Workshop/Projects">Intermediate Python Projects</a></li>
</ul>
<h2>示例代码</h2>
<p>学习一门编程语言的最好方式就是编写大量代码，并阅读大量代码：</p>
<ul>
<li><a href="http://code.activestate.com/recipes/langs/python/">Python Cookbook</a> 是一本极具价值的“烹饪法”与提示的集合，它介绍了如何通过 Python 解决某些特定类型的问题。</li>
<li><a href="http://pymotw.com/2/contents.html">Python Module of the Week</a> 是另一本优秀的<a href="stdlib.md#stdlib">标准库</a>必读指南。</li>
</ul>
<h2>建议</h2>
<ul>
<li><a href="http://docs.python-guide.org/en/latest/">The Hitchhiker's Guide to Python!</a></li>
<li><a href="https://github.com/amontalenti/elements-of-python-style">The Elements of Python Style</a></li>
<li><a href="http://slott-softwarearchitect.blogspot.ca/2013/06/python-big-picture-whats-roadmap.html">Python Big Picture</a></li>
<li><a href="http://www.jeffknupp.com/writing-idiomatic-python-ebook/">"Writing Idiomatic Python" ebook</a> （付费）</li>
</ul>
<h2>视频</h2>
<ul>
<li><a href="https://github.com/realpython/discover-flask">Full Stack Web Development with Flask</a></li>
<li><a href="http://www.pyvideo.org">PyVideo</a></li>
</ul>
<h2>问与答</h2>
<ul>
<li><a href="http://docs.python.org/3/howto/doanddont.html">Official Python Dos and Don'ts</a></li>
<li><a href="http://www.python.org/doc/faq/general/">Official Python FAQ</a></li>
<li><a href="http://norvig.com/python-iaq.html">Norvig's list of Infrequently Asked Questions</a></li>
<li><a href="http://dev.fyicenter.com/Interview-Questions/Python/index.html">Python Interview Q &amp; A</a></li>
<li><a href="http://stackoverflow.com/questions/tagged/python">StackOverflow questions tagged with python</a></li>
</ul>
<h2>教程</h2>
<ul>
<li><a href="http://stackoverflow.com/q/101268/4869">Hidden features of Python</a></li>
<li><a href="http://www.reddit.com/r/Python/comments/19dir2/whats_the_one_code_snippetpython_tricketc_did_you/">What's the one code snippet/python trick/etc did you wish you knew when you learned python?</a></li>
<li><a href="http://www.awaretek.com/tutorials.html">Awaretek's comprehensive list of Python tutorials</a></li>
</ul>
<h2>讨论</h2>
<p>如果你遇到了一个 Python 问题，但不知道该问谁，那么 <a href="http://mail.python.org/mailman/listinfo/tutor">python-tutor list</a> 是你提问的最佳场所。</p>
<p>请确保你会自己做你的家庭作业，你会首先尝试自己解决问题，同时，还要会<a href="http://catb.org/~esr/faqs/smart-questions.html">问聪明的问题</a>。</p>
<h2>新闻</h2>
<p>如果你希望了解 Python 世界的最新动态，那就跟随 <a href="http://planet.python.org">Official Python Planet</a> 的脚步吧。</p>
<h2>安装库</h2>
<p><a href="http://pypi.python.org/pypi">Python 库索引</a>中包含了大量开源的库，你可以在你自己的程序中使用它们。</p>
<p>要想了解如何安装并使用这些库，你可以使用 <a href="http://www.pip-installer.org/en/latest/">pip</a>。</p>
<h2>创建一个网站</h2>
<p>学习使用 <a href="http://flask.pocoo.org">Flask</a> 来创建你自己的网站。下面这些资源有助于你开始学习：</p>
<ul>
<li><a href="http://flask.pocoo.org/docs/quickstart/">Flask Official Quickstart</a></li>
<li><a href="http://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world">The Flask Mega-Tutorial</a></li>
<li><a href="https://github.com/mitsuhiko/flask/tree/master/examples">Example Flask Projects</a></li>
</ul>
<h2>图形软件</h2>
<p>假设你希望使用 Python 来创建你自己的图形程序。这可以通过采用一个 GUI（Graphical User Interface，图形用户界面）库和它们的 Python 绑定来实现。绑定是允许你用 Python 编写你自己的程序，然后使用它们在 C 或 C++ 或其它语言写编写的库。</p>
<p>使用 Python 的 GUI 有许多选择：</p>
<ul>
<li>
<p>Kivy</p>
<ul>
<li><a href="http://kivy.org">http://kivy.org</a></li>
<li>
<p>PyGTK</p>
</li>
<li>
<p>这是 GTK+ 工具包的 Python 绑定，它是构建 GNOME 的基础。GTK+ 有许多奇怪的用法，但是你一旦习惯了使用它，就能很快的创建出你的 GUI 应用。Glade 图形界面设计工具是不可或缺的。它的文档至今仍在不断改进。GTK+ 在 GNU/Linux 下能够良好工作，但是它针对 Windows 平台的移植工作尚未完成。你可以使用 GTK+ 创建免费或专有的软件。要想开始使用，请阅读 <a href="http://www.pygtk.org/tutorial.html">PyGTK 教程</a>。</p>
</li>
<li>
<p>PyQt</p>
</li>
<li>
<p>这是 Qt 工具包的 Python 绑定，它是构建 KDE 的基础。 受益于 Qt Designer 与令人惊讶的 Qt 文档，Qt 十分容易使用也十分强大。如果你希望创建一款开源（GPL）软件，你可以免费使用 PyQt，不过如果你想创建专有的闭源软件，你需要购买它。从 Qt 4.5 开始你可以使用它来创建不采用 GPL 授权的软件。要想开始使用，请阅读 <a href="http://qt-project.org/wiki/PySide">PySide</a>。</p>
</li>
<li>
<p>wxPython</p>
</li>
<li>
<p>这是 wxWidgets 工具包的 Python 绑定。wxPython 有一个与之相关的学习曲线。不过，它非常便携，并且可以运行在 GNU/Linux、Windwos、Mac、甚至是嵌入式平台中。有许多 IDE 可以采用 wxPython，并且包含了 GUI 设计工具，例如 <a href="http://spe.pycs.net/">SPE (Stani's Python Editor)</a> 还有 <a href="http://wxglade.sourceforge.net/">wxGlade</a> GUI 构建工具。你可以使用 wxPython 来创建免费或专有的软件。要想开始使用，请阅读<a href="http://zetcode.com/wxpython/">wxPython 教程</a>。</p>
</li>
</ul>
</li>
</ul>
<h3>GUI 工具总结</h3>
<p>想要了解更多的选择，可以参阅 <a href="http://www.python.org/cgi-bin/moinmoin/GuiProgramming">GuiProgramming wiki page at the official python website</a>。</p>
<p>不幸的是，Python 没有一款标准 GUI 工具。我建议你根据你的实际情况从上面列出的工具中进行挑选。第一个因素是你是否愿意为使用任何 GUI 工具付费。第二个因素是你希望你的程序只在 Windwos 上运行，还是在 Mac 和 GNU/Linux 上运行，还是在它们三者之上都能运行。第三个因素，如果 GNU/Linux 是目标平台，那你是要做 KDE 用户还是 GNOME 用户。</p>
<p>有关更详尽且更全面的分析，请参阅 <a href="http://archive.pythonpapers.org/ThePythonPapersVolume3Issue1.pdf">'The Python Papers, Volume 3, Issue 1' (PDF)</a> 的第 26 页。</p>
<h2>各种实现</h2>
<p>编程语言主要有两部分——语言与软件。语言是你 <em>如何</em> 编写，软件是你 <em>怎样</em> 实际运行我们的程序。</p>
<p>我们一直在使用 <em>CPython</em> 软件来运行我们的程序。它被成为 CPython 是因为它是使用 C 语言编写的，同时它也是 <em>经典的（Classical） Python 解释器</em> 。</p>
<p>还有其他软件可以运行你的 Python 程序：</p>
<ul>
<li>
<p><a href="http://www.jython.org">Jython</a></p>
<ul>
<li>在 Java 平台上运行的 Python 实现。这意味着你可以在 Python 语言中使用 Java 的库与类，反之亦然。</li>
<li>
<p><a href="http://www.codeplex.com/Wiki/View.aspx?ProjectName=IronPython">IronPython</a></p>
</li>
<li>
<p>在 .NET 平台上运行的 Python 实现。这意味着你可以在 Python 语言中使用 .NET 的库与类，反之亦然</p>
</li>
<li>
<p><a href="http://codespeak.net/pypy/dist/pypy/doc/home.html">PyPy</a></p>
</li>
<li>
<p>用 Python 编写的 Python 实现！这是一项研究项目，旨在于使其能快速且方便的改进解释器，因为解释器本身就是用动态语言编写的了（而不是采用上述三种 C、Java、C# 等动态语言来编写）。</p>
</li>
</ul>
</li>
</ul>
<p>还有其它诸如 <a href="http://common-lisp.net/project/clpython/">CLPython</a>——采用 Common Lisp 编写的 Python 实现，和<a href="http://brython.info/">Brython</a> ，它在 JavaScript 解释器之上实现，意味着你可以使用 Python（而非 JavaScript）编写你的 Web 浏览器（“Ajax”）程序。</p>
<p>上述这些实现每一种都有其大有作为的专门领域。</p>
<h2>函数式编程（面向高阶读者）</h2>
<p>当你开始编写更加庞大的程序时，你应该清楚了解更多关于使用函数的方式来进行编程，而不是我们在<a href="14.oop.html#oop">《面向对象编程》章节中</a>所学习的基于类的方式进行编程：</p>
<ul>
<li><a href="http://docs.python.org/3/howto/functional.html">Functional Programming Howto by A.M. Kuchling</a></li>
<li><a href="http://www.diveintopython.net/functional_programming/index.html">Functional programming chapter in 'Dive Into Python' book</a></li>
<li><a href="http://ua.pycon.org/static/talks/kachayev/index.html">Functional Programming with Python presentation</a></li>
<li><a href="https://github.com/Suor/funcy">Funcy library</a></li>
<li><a href="http://toolz.readthedocs.org/en/latest/">PyToolz library</a></li>
</ul>
<h2>总结</h2>
<p>现在我们已经行至本书末尾，不过，正如人们所说，这是 <em>昭示着开始的终结</em> ！你现在已经是一名狂热 Python 用户，毫无疑问，你已准备好通过 Python 来解决诸多问题了。你可以开始自动化你的电脑，去做任何你以前难以想象的事情，你可以开始编写你自己的游戏，开始做更多更多的事，远不仅此。来，让我们出发吧！</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="all.md">all.md</a>
            </aside>
            
            <aside class="page_number">
              85/85
            </aside>
          </footer>
        </div>
      </div>
      
    </div>
  </div>
  
  <div id="toc" class="sidebar hidden">
    <h2>Table of Contents</h2>
    <table>
      <caption>Table of Contents</caption>
      
      <tr id="toc-row-1">
        <th><a href="#slide1">简明 Python 教程</a></th>
        <td><a href="#slide1">1</a></td>
      </tr>
      
      
      <tr id="toc-row-2">
        <th><a href="#slide2"><a href="简明Python教程主要内容.png">主要内容思维导图</a></a></th>
        <td><a href="#slide2">2</a></td>
      </tr>
      
      
      <tr id="toc-row-3">
        <th><a href="#slide3">介绍</a></th>
        <td><a href="#slide3">3</a></td>
      </tr>
      
      
      <tr id="toc-row-4">
        <th><a href="#slide4">关于 Python</a></th>
        <td><a href="#slide4">4</a></td>
      </tr>
      
        
        <tr id="toc-row-5" class="sub">
          <th><a href="#slide5">Python 的特色</a></th>
          <td><a href="#slide5">5</a></td>
        </tr>
        
        <tr id="toc-row-6" class="sub">
          <th><a href="#slide6">Python 3 VS Python 2</a></th>
          <td><a href="#slide6">6</a></td>
        </tr>
        
      
      
      <tr id="toc-row-7">
        <th><a href="#slide7">安装</a></th>
        <td><a href="#slide7">7</a></td>
      </tr>
      
        
        <tr id="toc-row-8" class="sub">
          <th><a href="#slide8">在 Mac OS/Linux 下安装</a></th>
          <td><a href="#slide8">8</a></td>
        </tr>
        
        <tr id="toc-row-9" class="sub">
          <th><a href="#slide9">安装Anaconda</a></th>
          <td><a href="#slide9">9</a></td>
        </tr>
        
      
      
      <tr id="toc-row-10">
        <th><a href="#slide10">第一步</a></th>
        <td><a href="#slide10">10</a></td>
      </tr>
      
        
        <tr id="toc-row-11" class="sub">
          <th><a href="#slide11">使用一份源代码文件</a></th>
          <td><a href="#slide11">11</a></td>
        </tr>
        
        <tr id="toc-row-12" class="sub">
          <th><a href="#slide12">获取帮助</a></th>
          <td><a href="#slide12">12</a></td>
        </tr>
        
      
      
      <tr id="toc-row-13">
        <th><a href="#slide13">基础</a></th>
        <td><a href="#slide13">13</a></td>
      </tr>
      
        
        <tr id="toc-row-14" class="sub">
          <th><a href="#slide14">字面常量</a></th>
          <td><a href="#slide14">14</a></td>
        </tr>
        
        <tr id="toc-row-15" class="sub">
          <th><a href="#slide15">字符串</a></th>
          <td><a href="#slide15">15</a></td>
        </tr>
        
        <tr id="toc-row-16" class="sub">
          <th><a href="#slide16">字符串</a></th>
          <td><a href="#slide16">16</a></td>
        </tr>
        
        <tr id="toc-row-17" class="sub">
          <th><a href="#slide17">字符串</a></th>
          <td><a href="#slide17">17</a></td>
        </tr>
        
        <tr id="toc-row-18" class="sub">
          <th><a href="#slide18">字符串</a></th>
          <td><a href="#slide18">18</a></td>
        </tr>
        
        <tr id="toc-row-19" class="sub">
          <th><a href="#slide19">变量</a></th>
          <td><a href="#slide19">19</a></td>
        </tr>
        
        <tr id="toc-row-20" class="sub">
          <th><a href="#slide20">数据类型</a></th>
          <td><a href="#slide20">20</a></td>
        </tr>
        
        <tr id="toc-row-21" class="sub">
          <th><a href="#slide21">如何编写 Python 程序</a></th>
          <td><a href="#slide21">21</a></td>
        </tr>
        
        <tr id="toc-row-22" class="sub">
          <th><a href="#slide22">逻辑行与物理行</a></th>
          <td><a href="#slide22">22</a></td>
        </tr>
        
        <tr id="toc-row-23" class="sub">
          <th><a href="#slide23">缩进</a></th>
          <td><a href="#slide23">23</a></td>
        </tr>
        
      
      
      <tr id="toc-row-24">
        <th><a href="#slide24">运算符与表达式</a></th>
        <td><a href="#slide24">24</a></td>
      </tr>
      
        
        <tr id="toc-row-25" class="sub">
          <th><a href="#slide25">常用运算符</a></th>
          <td><a href="#slide25">25</a></td>
        </tr>
        
        <tr id="toc-row-26" class="sub">
          <th><a href="#slide26">数值运算与赋值的快捷方式</a></th>
          <td><a href="#slide26">26</a></td>
        </tr>
        
        <tr id="toc-row-27" class="sub">
          <th><a href="#slide27">求值顺序</a></th>
          <td><a href="#slide27">27</a></td>
        </tr>
        
        <tr id="toc-row-28" class="sub">
          <th><a href="#slide28">表达式</a></th>
          <td><a href="#slide28">28</a></td>
        </tr>
        
      
      
      <tr id="toc-row-29">
        <th><a href="#slide29">控制流</a></th>
        <td><a href="#slide29">29</a></td>
      </tr>
      
        
        <tr id="toc-row-30" class="sub">
          <th><a href="#slide30"><code>if</code> 语句</a></th>
          <td><a href="#slide30">30</a></td>
        </tr>
        
        <tr id="toc-row-31" class="sub">
          <th><a href="#slide31"><code>while</code> 语句</a></th>
          <td><a href="#slide31">31</a></td>
        </tr>
        
        <tr id="toc-row-32" class="sub">
          <th><a href="#slide32"><code>for</code> 循环</a></th>
          <td><a href="#slide32">32</a></td>
        </tr>
        
        <tr id="toc-row-33" class="sub">
          <th><a href="#slide33"><code>break</code> 语句</a></th>
          <td><a href="#slide33">33</a></td>
        </tr>
        
        <tr id="toc-row-34" class="sub">
          <th><a href="#slide34"><code>continue</code> 语句</a></th>
          <td><a href="#slide34">34</a></td>
        </tr>
        
      
      
      <tr id="toc-row-35">
        <th><a href="#slide35">函数</a></th>
        <td><a href="#slide35">35</a></td>
      </tr>
      
        
        <tr id="toc-row-36" class="sub">
          <th><a href="#slide36">函数参数</a></th>
          <td><a href="#slide36">36</a></td>
        </tr>
        
        <tr id="toc-row-37" class="sub">
          <th><a href="#slide37">作用域</a></th>
          <td><a href="#slide37">37</a></td>
        </tr>
        
        <tr id="toc-row-38" class="sub">
          <th><a href="#slide38">默认参数值</a></th>
          <td><a href="#slide38">38</a></td>
        </tr>
        
        <tr id="toc-row-39" class="sub">
          <th><a href="#slide39">关键字参数</a></th>
          <td><a href="#slide39">39</a></td>
        </tr>
        
        <tr id="toc-row-40" class="sub">
          <th><a href="#slide40">可变参数</a></th>
          <td><a href="#slide40">40</a></td>
        </tr>
        
        <tr id="toc-row-41" class="sub">
          <th><a href="#slide41"><code>return</code> 语句</a></th>
          <td><a href="#slide41">41</a></td>
        </tr>
        
        <tr id="toc-row-42" class="sub">
          <th><a href="#slide42">DocStrings</a></th>
          <td><a href="#slide42">42</a></td>
        </tr>
        
      
      
      <tr id="toc-row-43">
        <th><a href="#slide43">模块</a></th>
        <td><a href="#slide43">43</a></td>
      </tr>
      
        
        <tr id="toc-row-44" class="sub">
          <th><a href="#slide44">按字节码编译的 .pyc 文件</a></th>
          <td><a href="#slide44">44</a></td>
        </tr>
        
        <tr id="toc-row-45" class="sub">
          <th><a href="#slide45"><code>from..import</code> 语句</a></th>
          <td><a href="#slide45">45</a></td>
        </tr>
        
        <tr id="toc-row-46" class="sub">
          <th><a href="#slide46">模块的 <code>__name__</code></a></th>
          <td><a href="#slide46">46</a></td>
        </tr>
        
        <tr id="toc-row-47" class="sub">
          <th><a href="#slide47">编写你自己的模块</a></th>
          <td><a href="#slide47">47</a></td>
        </tr>
        
        <tr id="toc-row-48" class="sub">
          <th><a href="#slide48"><code>dir</code> 函数</a></th>
          <td><a href="#slide48">48</a></td>
        </tr>
        
        <tr id="toc-row-49" class="sub">
          <th><a href="#slide49">包</a></th>
          <td><a href="#slide49">49</a></td>
        </tr>
        
        <tr id="toc-row-50" class="sub">
          <th><a href="#slide50">列表</a></th>
          <td><a href="#slide50">50</a></td>
        </tr>
        
        <tr id="toc-row-51" class="sub">
          <th><a href="#slide51">元组</a></th>
          <td><a href="#slide51">51</a></td>
        </tr>
        
        <tr id="toc-row-52" class="sub">
          <th><a href="#slide52">字典</a></th>
          <td><a href="#slide52">52</a></td>
        </tr>
        
        <tr id="toc-row-53" class="sub">
          <th><a href="#slide53">序列</a></th>
          <td><a href="#slide53">53</a></td>
        </tr>
        
        <tr id="toc-row-54" class="sub">
          <th><a href="#slide54">集合</a></th>
          <td><a href="#slide54">54</a></td>
        </tr>
        
        <tr id="toc-row-55" class="sub">
          <th><a href="#slide55">引用</a></th>
          <td><a href="#slide55">55</a></td>
        </tr>
        
        <tr id="toc-row-56" class="sub">
          <th><a href="#slide56">有关字符串的更多内容</a></th>
          <td><a href="#slide56">56</a></td>
        </tr>
        
      
      
      <tr id="toc-row-57">
        <th><a href="#slide57">解决问题</a></th>
        <td><a href="#slide57">57</a></td>
      </tr>
      
      
      <tr id="toc-row-58">
        <th><a href="#slide58">面向对象编程</a></th>
        <td><a href="#slide58">58</a></td>
      </tr>
      
        
        <tr id="toc-row-59" class="sub">
          <th><a href="#slide59"><code>self</code></a></th>
          <td><a href="#slide59">59</a></td>
        </tr>
        
        <tr id="toc-row-60" class="sub">
          <th><a href="#slide60">类</a></th>
          <td><a href="#slide60">60</a></td>
        </tr>
        
        <tr id="toc-row-61" class="sub">
          <th><a href="#slide61">方法</a></th>
          <td><a href="#slide61">61</a></td>
        </tr>
        
        <tr id="toc-row-62" class="sub">
          <th><a href="#slide62"><code>__init__</code> 方法</a></th>
          <td><a href="#slide62">62</a></td>
        </tr>
        
        <tr id="toc-row-63" class="sub">
          <th><a href="#slide63">类变量与对象变量</a></th>
          <td><a href="#slide63">63</a></td>
        </tr>
        
        <tr id="toc-row-64" class="sub">
          <th><a href="#slide64">继承</a></th>
          <td><a href="#slide64">64</a></td>
        </tr>
        
      
      
      <tr id="toc-row-65">
        <th><a href="#slide65">输入与输出</a></th>
        <td><a href="#slide65">65</a></td>
      </tr>
      
        
        <tr id="toc-row-66" class="sub">
          <th><a href="#slide66">用户输入内容</a></th>
          <td><a href="#slide66">66</a></td>
        </tr>
        
        <tr id="toc-row-67" class="sub">
          <th><a href="#slide67">文件</a></th>
          <td><a href="#slide67">67</a></td>
        </tr>
        
        <tr id="toc-row-68" class="sub">
          <th><a href="#slide68">Pickle</a></th>
          <td><a href="#slide68">68</a></td>
        </tr>
        
        <tr id="toc-row-69" class="sub">
          <th><a href="#slide69">Unicode</a></th>
          <td><a href="#slide69">69</a></td>
        </tr>
        
      
      
      <tr id="toc-row-70">
        <th><a href="#slide70">异常</a></th>
        <td><a href="#slide70">70</a></td>
      </tr>
      
        
        <tr id="toc-row-71" class="sub">
          <th><a href="#slide71">处理异常</a></th>
          <td><a href="#slide71">71</a></td>
        </tr>
        
        <tr id="toc-row-72" class="sub">
          <th><a href="#slide72">抛出异常</a></th>
          <td><a href="#slide72">72</a></td>
        </tr>
        
        <tr id="toc-row-73" class="sub">
          <th><a href="#slide73">Try ... Finally</a></th>
          <td><a href="#slide73">73</a></td>
        </tr>
        
        <tr id="toc-row-74" class="sub">
          <th><a href="#slide74"><code>with</code> 语句</a></th>
          <td><a href="#slide74">74</a></td>
        </tr>
        
      
      
      <tr id="toc-row-75">
        <th><a href="#slide75">标准库</a></th>
        <td><a href="#slide75">75</a></td>
      </tr>
      
        
        <tr id="toc-row-76" class="sub">
          <th><a href="#slide76">日志模块</a></th>
          <td><a href="#slide76">76</a></td>
        </tr>
        
      
      
      <tr id="toc-row-77">
        <th><a href="#slide77">更多</a></th>
        <td><a href="#slide77">77</a></td>
      </tr>
      
        
        <tr id="toc-row-78" class="sub">
          <th><a href="#slide78">特殊方法</a></th>
          <td><a href="#slide78">78</a></td>
        </tr>
        
        <tr id="toc-row-79" class="sub">
          <th><a href="#slide79">Lambda（匿名函数）</a></th>
          <td><a href="#slide79">79</a></td>
        </tr>
        
        <tr id="toc-row-80" class="sub">
          <th><a href="#slide80">列表推导</a></th>
          <td><a href="#slide80">80</a></td>
        </tr>
        
        <tr id="toc-row-81" class="sub">
          <th><a href="#slide81">在函数中接收元组与字典</a></th>
          <td><a href="#slide81">81</a></td>
        </tr>
        
        <tr id="toc-row-82" class="sub">
          <th><a href="#slide82"><code>assert</code> 语句</a></th>
          <td><a href="#slide82">82</a></td>
        </tr>
        
        <tr id="toc-row-83" class="sub">
          <th><a href="#slide83">装饰器 (函数的函数)</a></th>
          <td><a href="#slide83">83</a></td>
        </tr>
        
        <tr id="toc-row-84" class="sub">
          <th><a href="#slide84">Python 2 与 Python 3 的不同</a></th>
          <td><a href="#slide84">84</a></td>
        </tr>
        
      
      
      <tr id="toc-row-85">
        <th><a href="#slide85">迈出下一步</a></th>
        <td><a href="#slide85">85</a></td>
      </tr>
      
      
    </table>
  </div>
  
  <div id="help" class="sidebar hidden">
    <h2>Help</h2>
    <table>
      <caption>Help</caption>
      <tr>
        <th>Table of Contents</th>
        <td>t</td>
      </tr>
      <tr>
        <th>Exposé</th>
        <td>ESC</td>
      </tr>
      <tr>
        <th>Full screen slides</th>
        <td>e</td>
      </tr>
      <tr>
        <th>Presenter View</th>
        <td>p</td>
      </tr>
      <tr>
        <th>Source Files</th>
        <td>s</td>
      </tr>
      <tr>
        <th>Slide Numbers</th>
        <td>n</td>
      </tr>
      <tr>
        <th>Toggle screen blanking</th>
        <td>b</td>
      </tr>
      <tr>
        <th>Show/hide slide context</th>
        <td>c</td>
      </tr>
      <tr>
        <th>Notes</th>
        <td>2</td>
      </tr>
      <tr>
        <th>Help</th>
        <td>h</td>
      </tr>
    </table>
  </div>
  <script>main()</script>
</body>
</html>